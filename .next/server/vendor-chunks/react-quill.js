"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/react-quill";
exports.ids = ["vendor-chunks/react-quill"];
exports.modules = {

/***/ "(ssr)/./node_modules/react-quill/lib/index.js":
/*!***********************************************!*\
  !*** ./node_modules/react-quill/lib/index.js ***!
  \***********************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("\n/*\nReact-Quill\nhttps://github.com/zenoamaro/react-quill\n*/\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nvar react_1 = __importDefault(__webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\"));\nvar react_dom_1 = __importDefault(__webpack_require__(/*! react-dom */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-dom.js\"));\nvar isEqual_1 = __importDefault(__webpack_require__(/*! lodash/isEqual */ \"(ssr)/./node_modules/lodash/isEqual.js\"));\nvar quill_1 = __importDefault(__webpack_require__(/*! quill */ \"(ssr)/./node_modules/quill/dist/quill.js\"));\nvar ReactQuill = /** @class */ (function (_super) {\n    __extends(ReactQuill, _super);\n    function ReactQuill(props) {\n        var _this = _super.call(this, props) || this;\n        /*\n        Changing one of these props should cause a full re-render and a\n        re-instantiation of the Quill editor.\n        */\n        _this.dirtyProps = [\n            'modules',\n            'formats',\n            'bounds',\n            'theme',\n            'children',\n        ];\n        /*\n        Changing one of these props should cause a regular update. These are mostly\n        props that act on the container, rather than the quillized editing area.\n        */\n        _this.cleanProps = [\n            'id',\n            'className',\n            'style',\n            'placeholder',\n            'tabIndex',\n            'onChange',\n            'onChangeSelection',\n            'onFocus',\n            'onBlur',\n            'onKeyPress',\n            'onKeyDown',\n            'onKeyUp',\n        ];\n        _this.state = {\n            generation: 0,\n        };\n        /*\n        Tracks the internal selection of the Quill editor\n        */\n        _this.selection = null;\n        _this.onEditorChange = function (eventName, rangeOrDelta, oldRangeOrDelta, source) {\n            var _a, _b, _c, _d;\n            if (eventName === 'text-change') {\n                (_b = (_a = _this).onEditorChangeText) === null || _b === void 0 ? void 0 : _b.call(_a, _this.editor.root.innerHTML, rangeOrDelta, source, _this.unprivilegedEditor);\n            }\n            else if (eventName === 'selection-change') {\n                (_d = (_c = _this).onEditorChangeSelection) === null || _d === void 0 ? void 0 : _d.call(_c, rangeOrDelta, source, _this.unprivilegedEditor);\n            }\n        };\n        var value = _this.isControlled() ? props.value : props.defaultValue;\n        _this.value = (value !== null && value !== void 0 ? value : '');\n        return _this;\n    }\n    ReactQuill.prototype.validateProps = function (props) {\n        var _a;\n        if (react_1.default.Children.count(props.children) > 1)\n            throw new Error('The Quill editing area can only be composed of a single React element.');\n        if (react_1.default.Children.count(props.children)) {\n            var child = react_1.default.Children.only(props.children);\n            if (((_a = child) === null || _a === void 0 ? void 0 : _a.type) === 'textarea')\n                throw new Error('Quill does not support editing on a <textarea>. Use a <div> instead.');\n        }\n        if (this.lastDeltaChangeSet &&\n            props.value === this.lastDeltaChangeSet)\n            throw new Error('You are passing the `delta` object from the `onChange` event back ' +\n                'as `value`. You most probably want `editor.getContents()` instead. ' +\n                'See: https://github.com/zenoamaro/react-quill#using-deltas');\n    };\n    ReactQuill.prototype.shouldComponentUpdate = function (nextProps, nextState) {\n        var _this = this;\n        var _a;\n        this.validateProps(nextProps);\n        // If the editor hasn't been instantiated yet, or the component has been\n        // regenerated, we already know we should update.\n        if (!this.editor || this.state.generation !== nextState.generation) {\n            return true;\n        }\n        // Handle value changes in-place\n        if ('value' in nextProps) {\n            var prevContents = this.getEditorContents();\n            var nextContents = (_a = nextProps.value, (_a !== null && _a !== void 0 ? _a : ''));\n            // NOTE: Seeing that Quill is missing a way to prevent edits, we have to\n            //       settle for a hybrid between controlled and uncontrolled mode. We\n            //       can't prevent the change, but we'll still override content\n            //       whenever `value` differs from current state.\n            // NOTE: Comparing an HTML string and a Quill Delta will always trigger a\n            //       change, regardless of whether they represent the same document.\n            if (!this.isEqualValue(nextContents, prevContents)) {\n                this.setEditorContents(this.editor, nextContents);\n            }\n        }\n        // Handle read-only changes in-place\n        if (nextProps.readOnly !== this.props.readOnly) {\n            this.setEditorReadOnly(this.editor, nextProps.readOnly);\n        }\n        // Clean and Dirty props require a render\n        return __spreadArrays(this.cleanProps, this.dirtyProps).some(function (prop) {\n            return !isEqual_1.default(nextProps[prop], _this.props[prop]);\n        });\n    };\n    ReactQuill.prototype.shouldComponentRegenerate = function (nextProps) {\n        var _this = this;\n        // Whenever a `dirtyProp` changes, the editor needs reinstantiation.\n        return this.dirtyProps.some(function (prop) {\n            return !isEqual_1.default(nextProps[prop], _this.props[prop]);\n        });\n    };\n    ReactQuill.prototype.componentDidMount = function () {\n        this.instantiateEditor();\n        this.setEditorContents(this.editor, this.getEditorContents());\n    };\n    ReactQuill.prototype.componentWillUnmount = function () {\n        this.destroyEditor();\n    };\n    ReactQuill.prototype.componentDidUpdate = function (prevProps, prevState) {\n        var _this = this;\n        // If we're changing one of the `dirtyProps`, the entire Quill Editor needs\n        // to be re-instantiated. Regenerating the editor will cause the whole tree,\n        // including the container, to be cleaned up and re-rendered from scratch.\n        // Store the contents so they can be restored later.\n        if (this.editor && this.shouldComponentRegenerate(prevProps)) {\n            var delta = this.editor.getContents();\n            var selection = this.editor.getSelection();\n            this.regenerationSnapshot = { delta: delta, selection: selection };\n            this.setState({ generation: this.state.generation + 1 });\n            this.destroyEditor();\n        }\n        // The component has been regenerated, so it must be re-instantiated, and\n        // its content must be restored to the previous values from the snapshot.\n        if (this.state.generation !== prevState.generation) {\n            var _a = this.regenerationSnapshot, delta = _a.delta, selection_1 = _a.selection;\n            delete this.regenerationSnapshot;\n            this.instantiateEditor();\n            var editor_1 = this.editor;\n            editor_1.setContents(delta);\n            postpone(function () { return _this.setEditorSelection(editor_1, selection_1); });\n        }\n    };\n    ReactQuill.prototype.instantiateEditor = function () {\n        if (this.editor) {\n            this.hookEditor(this.editor);\n        }\n        else {\n            this.editor = this.createEditor(this.getEditingArea(), this.getEditorConfig());\n        }\n    };\n    ReactQuill.prototype.destroyEditor = function () {\n        if (!this.editor)\n            return;\n        this.unhookEditor(this.editor);\n    };\n    /*\n    We consider the component to be controlled if `value` is being sent in props.\n    */\n    ReactQuill.prototype.isControlled = function () {\n        return 'value' in this.props;\n    };\n    ReactQuill.prototype.getEditorConfig = function () {\n        return {\n            bounds: this.props.bounds,\n            formats: this.props.formats,\n            modules: this.props.modules,\n            placeholder: this.props.placeholder,\n            readOnly: this.props.readOnly,\n            scrollingContainer: this.props.scrollingContainer,\n            tabIndex: this.props.tabIndex,\n            theme: this.props.theme,\n        };\n    };\n    ReactQuill.prototype.getEditor = function () {\n        if (!this.editor)\n            throw new Error('Accessing non-instantiated editor');\n        return this.editor;\n    };\n    /**\n    Creates an editor on the given element. The editor will be passed the\n    configuration, have its events bound,\n    */\n    ReactQuill.prototype.createEditor = function (element, config) {\n        var editor = new quill_1.default(element, config);\n        if (config.tabIndex != null) {\n            this.setEditorTabIndex(editor, config.tabIndex);\n        }\n        this.hookEditor(editor);\n        return editor;\n    };\n    ReactQuill.prototype.hookEditor = function (editor) {\n        // Expose the editor on change events via a weaker, unprivileged proxy\n        // object that does not allow accidentally modifying editor state.\n        this.unprivilegedEditor = this.makeUnprivilegedEditor(editor);\n        // Using `editor-change` allows picking up silent updates, like selection\n        // changes on typing.\n        editor.on('editor-change', this.onEditorChange);\n    };\n    ReactQuill.prototype.unhookEditor = function (editor) {\n        editor.off('editor-change', this.onEditorChange);\n    };\n    ReactQuill.prototype.getEditorContents = function () {\n        return this.value;\n    };\n    ReactQuill.prototype.getEditorSelection = function () {\n        return this.selection;\n    };\n    /*\n    True if the value is a Delta instance or a Delta look-alike.\n    */\n    ReactQuill.prototype.isDelta = function (value) {\n        return value && value.ops;\n    };\n    /*\n    Special comparison function that knows how to compare Deltas.\n    */\n    ReactQuill.prototype.isEqualValue = function (value, nextValue) {\n        if (this.isDelta(value) && this.isDelta(nextValue)) {\n            return isEqual_1.default(value.ops, nextValue.ops);\n        }\n        else {\n            return isEqual_1.default(value, nextValue);\n        }\n    };\n    /*\n    Replace the contents of the editor, but keep the previous selection hanging\n    around so that the cursor won't move.\n    */\n    ReactQuill.prototype.setEditorContents = function (editor, value) {\n        var _this = this;\n        this.value = value;\n        var sel = this.getEditorSelection();\n        if (typeof value === 'string') {\n            editor.setContents(editor.clipboard.convert(value));\n        }\n        else {\n            editor.setContents(value);\n        }\n        postpone(function () { return _this.setEditorSelection(editor, sel); });\n    };\n    ReactQuill.prototype.setEditorSelection = function (editor, range) {\n        this.selection = range;\n        if (range) {\n            // Validate bounds before applying.\n            var length_1 = editor.getLength();\n            range.index = Math.max(0, Math.min(range.index, length_1 - 1));\n            range.length = Math.max(0, Math.min(range.length, (length_1 - 1) - range.index));\n            editor.setSelection(range);\n        }\n    };\n    ReactQuill.prototype.setEditorTabIndex = function (editor, tabIndex) {\n        var _a, _b;\n        if ((_b = (_a = editor) === null || _a === void 0 ? void 0 : _a.scroll) === null || _b === void 0 ? void 0 : _b.domNode) {\n            editor.scroll.domNode.tabIndex = tabIndex;\n        }\n    };\n    ReactQuill.prototype.setEditorReadOnly = function (editor, value) {\n        if (value) {\n            editor.disable();\n        }\n        else {\n            editor.enable();\n        }\n    };\n    /*\n    Returns a weaker, unprivileged proxy object that only exposes read-only\n    accessors found on the editor instance, without any state-modifying methods.\n    */\n    ReactQuill.prototype.makeUnprivilegedEditor = function (editor) {\n        var e = editor;\n        return {\n            getHTML: function () { return e.root.innerHTML; },\n            getLength: e.getLength.bind(e),\n            getText: e.getText.bind(e),\n            getContents: e.getContents.bind(e),\n            getSelection: e.getSelection.bind(e),\n            getBounds: e.getBounds.bind(e),\n        };\n    };\n    ReactQuill.prototype.getEditingArea = function () {\n        if (!this.editingArea) {\n            throw new Error('Instantiating on missing editing area');\n        }\n        var element = react_dom_1.default.findDOMNode(this.editingArea);\n        if (!element) {\n            throw new Error('Cannot find element for editing area');\n        }\n        if (element.nodeType === 3) {\n            throw new Error('Editing area cannot be a text node');\n        }\n        return element;\n    };\n    /*\n    Renders an editor area, unless it has been provided one to clone.\n    */\n    ReactQuill.prototype.renderEditingArea = function () {\n        var _this = this;\n        var _a = this.props, children = _a.children, preserveWhitespace = _a.preserveWhitespace;\n        var generation = this.state.generation;\n        var properties = {\n            key: generation,\n            ref: function (instance) {\n                _this.editingArea = instance;\n            },\n        };\n        if (react_1.default.Children.count(children)) {\n            return react_1.default.cloneElement(react_1.default.Children.only(children), properties);\n        }\n        return preserveWhitespace ?\n            react_1.default.createElement(\"pre\", __assign({}, properties)) :\n            react_1.default.createElement(\"div\", __assign({}, properties));\n    };\n    ReactQuill.prototype.render = function () {\n        var _a;\n        return (react_1.default.createElement(\"div\", { id: this.props.id, style: this.props.style, key: this.state.generation, className: \"quill \" + (_a = this.props.className, (_a !== null && _a !== void 0 ? _a : '')), onKeyPress: this.props.onKeyPress, onKeyDown: this.props.onKeyDown, onKeyUp: this.props.onKeyUp }, this.renderEditingArea()));\n    };\n    ReactQuill.prototype.onEditorChangeText = function (value, delta, source, editor) {\n        var _a, _b;\n        if (!this.editor)\n            return;\n        // We keep storing the same type of value as what the user gives us,\n        // so that value comparisons will be more stable and predictable.\n        var nextContents = this.isDelta(this.value)\n            ? editor.getContents()\n            : editor.getHTML();\n        if (nextContents !== this.getEditorContents()) {\n            // Taint this `delta` object, so we can recognize whether the user\n            // is trying to send it back as `value`, preventing a likely loop.\n            this.lastDeltaChangeSet = delta;\n            this.value = nextContents;\n            (_b = (_a = this.props).onChange) === null || _b === void 0 ? void 0 : _b.call(_a, value, delta, source, editor);\n        }\n    };\n    ReactQuill.prototype.onEditorChangeSelection = function (nextSelection, source, editor) {\n        var _a, _b, _c, _d, _e, _f;\n        if (!this.editor)\n            return;\n        var currentSelection = this.getEditorSelection();\n        var hasGainedFocus = !currentSelection && nextSelection;\n        var hasLostFocus = currentSelection && !nextSelection;\n        if (isEqual_1.default(nextSelection, currentSelection))\n            return;\n        this.selection = nextSelection;\n        (_b = (_a = this.props).onChangeSelection) === null || _b === void 0 ? void 0 : _b.call(_a, nextSelection, source, editor);\n        if (hasGainedFocus) {\n            (_d = (_c = this.props).onFocus) === null || _d === void 0 ? void 0 : _d.call(_c, nextSelection, source, editor);\n        }\n        else if (hasLostFocus) {\n            (_f = (_e = this.props).onBlur) === null || _f === void 0 ? void 0 : _f.call(_e, currentSelection, source, editor);\n        }\n    };\n    ReactQuill.prototype.focus = function () {\n        if (!this.editor)\n            return;\n        this.editor.focus();\n    };\n    ReactQuill.prototype.blur = function () {\n        if (!this.editor)\n            return;\n        this.selection = null;\n        this.editor.blur();\n    };\n    ReactQuill.displayName = 'React Quill';\n    /*\n    Export Quill to be able to call `register`\n    */\n    ReactQuill.Quill = quill_1.default;\n    ReactQuill.defaultProps = {\n        theme: 'snow',\n        modules: {},\n        readOnly: false,\n    };\n    return ReactQuill;\n}(react_1.default.Component));\n/*\nSmall helper to execute a function in the next micro-tick.\n*/\nfunction postpone(fn) {\n    Promise.resolve().then(fn);\n}\nmodule.exports = ReactQuill;\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtcXVpbGwvbGliL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdCQUFnQixzQ0FBc0Msa0JBQWtCO0FBQ3ZGLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxpREFBaUQsT0FBTztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0QsUUFBUTtBQUMxRCx5Q0FBeUMsUUFBUTtBQUNqRCx5REFBeUQsUUFBUTtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhCQUE4QixtQkFBTyxDQUFDLHdHQUFPO0FBQzdDLGtDQUFrQyxtQkFBTyxDQUFDLGdIQUFXO0FBQ3JELGdDQUFnQyxtQkFBTyxDQUFDLDhEQUFnQjtBQUN4RCw4QkFBOEIsbUJBQU8sQ0FBQyx1REFBTztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDLDRCQUE0Qix1Q0FBdUM7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMseURBQXlEO0FBQzVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsK0NBQStDO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsMEJBQTBCO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQ7QUFDNUQsNERBQTREO0FBQzVEO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RCxzUUFBc1E7QUFDN1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGhlLW5ldy1hc3RydW0tdGltZXMvLi9ub2RlX21vZHVsZXMvcmVhY3QtcXVpbGwvbGliL2luZGV4LmpzP2Y1NDYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuUmVhY3QtUXVpbGxcbmh0dHBzOi8vZ2l0aHViLmNvbS96ZW5vYW1hcm8vcmVhY3QtcXVpbGxcbiovXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG52YXIgX19zcHJlYWRBcnJheXMgPSAodGhpcyAmJiB0aGlzLl9fc3ByZWFkQXJyYXlzKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XG4gICAgZm9yICh2YXIgciA9IEFycmF5KHMpLCBrID0gMCwgaSA9IDA7IGkgPCBpbDsgaSsrKVxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcbiAgICAgICAgICAgIHJba10gPSBhW2pdO1xuICAgIHJldHVybiByO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbnZhciByZWFjdF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJyZWFjdFwiKSk7XG52YXIgcmVhY3RfZG9tXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcInJlYWN0LWRvbVwiKSk7XG52YXIgaXNFcXVhbF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJsb2Rhc2gvaXNFcXVhbFwiKSk7XG52YXIgcXVpbGxfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwicXVpbGxcIikpO1xudmFyIFJlYWN0UXVpbGwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFJlYWN0UXVpbGwsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUmVhY3RRdWlsbChwcm9wcykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcykgfHwgdGhpcztcbiAgICAgICAgLypcbiAgICAgICAgQ2hhbmdpbmcgb25lIG9mIHRoZXNlIHByb3BzIHNob3VsZCBjYXVzZSBhIGZ1bGwgcmUtcmVuZGVyIGFuZCBhXG4gICAgICAgIHJlLWluc3RhbnRpYXRpb24gb2YgdGhlIFF1aWxsIGVkaXRvci5cbiAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZGlydHlQcm9wcyA9IFtcbiAgICAgICAgICAgICdtb2R1bGVzJyxcbiAgICAgICAgICAgICdmb3JtYXRzJyxcbiAgICAgICAgICAgICdib3VuZHMnLFxuICAgICAgICAgICAgJ3RoZW1lJyxcbiAgICAgICAgICAgICdjaGlsZHJlbicsXG4gICAgICAgIF07XG4gICAgICAgIC8qXG4gICAgICAgIENoYW5naW5nIG9uZSBvZiB0aGVzZSBwcm9wcyBzaG91bGQgY2F1c2UgYSByZWd1bGFyIHVwZGF0ZS4gVGhlc2UgYXJlIG1vc3RseVxuICAgICAgICBwcm9wcyB0aGF0IGFjdCBvbiB0aGUgY29udGFpbmVyLCByYXRoZXIgdGhhbiB0aGUgcXVpbGxpemVkIGVkaXRpbmcgYXJlYS5cbiAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2xlYW5Qcm9wcyA9IFtcbiAgICAgICAgICAgICdpZCcsXG4gICAgICAgICAgICAnY2xhc3NOYW1lJyxcbiAgICAgICAgICAgICdzdHlsZScsXG4gICAgICAgICAgICAncGxhY2Vob2xkZXInLFxuICAgICAgICAgICAgJ3RhYkluZGV4JyxcbiAgICAgICAgICAgICdvbkNoYW5nZScsXG4gICAgICAgICAgICAnb25DaGFuZ2VTZWxlY3Rpb24nLFxuICAgICAgICAgICAgJ29uRm9jdXMnLFxuICAgICAgICAgICAgJ29uQmx1cicsXG4gICAgICAgICAgICAnb25LZXlQcmVzcycsXG4gICAgICAgICAgICAnb25LZXlEb3duJyxcbiAgICAgICAgICAgICdvbktleVVwJyxcbiAgICAgICAgXTtcbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBnZW5lcmF0aW9uOiAwLFxuICAgICAgICB9O1xuICAgICAgICAvKlxuICAgICAgICBUcmFja3MgdGhlIGludGVybmFsIHNlbGVjdGlvbiBvZiB0aGUgUXVpbGwgZWRpdG9yXG4gICAgICAgICovXG4gICAgICAgIF90aGlzLnNlbGVjdGlvbiA9IG51bGw7XG4gICAgICAgIF90aGlzLm9uRWRpdG9yQ2hhbmdlID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgcmFuZ2VPckRlbHRhLCBvbGRSYW5nZU9yRGVsdGEsIHNvdXJjZSkge1xuICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgICAgICAgICAgaWYgKGV2ZW50TmFtZSA9PT0gJ3RleHQtY2hhbmdlJykge1xuICAgICAgICAgICAgICAgIChfYiA9IChfYSA9IF90aGlzKS5vbkVkaXRvckNoYW5nZVRleHQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hLCBfdGhpcy5lZGl0b3Iucm9vdC5pbm5lckhUTUwsIHJhbmdlT3JEZWx0YSwgc291cmNlLCBfdGhpcy51bnByaXZpbGVnZWRFZGl0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZXZlbnROYW1lID09PSAnc2VsZWN0aW9uLWNoYW5nZScpIHtcbiAgICAgICAgICAgICAgICAoX2QgPSAoX2MgPSBfdGhpcykub25FZGl0b3JDaGFuZ2VTZWxlY3Rpb24pID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5jYWxsKF9jLCByYW5nZU9yRGVsdGEsIHNvdXJjZSwgX3RoaXMudW5wcml2aWxlZ2VkRWRpdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHZhbHVlID0gX3RoaXMuaXNDb250cm9sbGVkKCkgPyBwcm9wcy52YWx1ZSA6IHByb3BzLmRlZmF1bHRWYWx1ZTtcbiAgICAgICAgX3RoaXMudmFsdWUgPSAodmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHZvaWQgMCA/IHZhbHVlIDogJycpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFJlYWN0UXVpbGwucHJvdG90eXBlLnZhbGlkYXRlUHJvcHMgPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAocmVhY3RfMS5kZWZhdWx0LkNoaWxkcmVuLmNvdW50KHByb3BzLmNoaWxkcmVuKSA+IDEpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBRdWlsbCBlZGl0aW5nIGFyZWEgY2FuIG9ubHkgYmUgY29tcG9zZWQgb2YgYSBzaW5nbGUgUmVhY3QgZWxlbWVudC4nKTtcbiAgICAgICAgaWYgKHJlYWN0XzEuZGVmYXVsdC5DaGlsZHJlbi5jb3VudChwcm9wcy5jaGlsZHJlbikpIHtcbiAgICAgICAgICAgIHZhciBjaGlsZCA9IHJlYWN0XzEuZGVmYXVsdC5DaGlsZHJlbi5vbmx5KHByb3BzLmNoaWxkcmVuKTtcbiAgICAgICAgICAgIGlmICgoKF9hID0gY2hpbGQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS50eXBlKSA9PT0gJ3RleHRhcmVhJylcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1F1aWxsIGRvZXMgbm90IHN1cHBvcnQgZWRpdGluZyBvbiBhIDx0ZXh0YXJlYT4uIFVzZSBhIDxkaXY+IGluc3RlYWQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubGFzdERlbHRhQ2hhbmdlU2V0ICYmXG4gICAgICAgICAgICBwcm9wcy52YWx1ZSA9PT0gdGhpcy5sYXN0RGVsdGFDaGFuZ2VTZXQpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdSBhcmUgcGFzc2luZyB0aGUgYGRlbHRhYCBvYmplY3QgZnJvbSB0aGUgYG9uQ2hhbmdlYCBldmVudCBiYWNrICcgK1xuICAgICAgICAgICAgICAgICdhcyBgdmFsdWVgLiBZb3UgbW9zdCBwcm9iYWJseSB3YW50IGBlZGl0b3IuZ2V0Q29udGVudHMoKWAgaW5zdGVhZC4gJyArXG4gICAgICAgICAgICAgICAgJ1NlZTogaHR0cHM6Ly9naXRodWIuY29tL3plbm9hbWFyby9yZWFjdC1xdWlsbCN1c2luZy1kZWx0YXMnKTtcbiAgICB9O1xuICAgIFJlYWN0UXVpbGwucHJvdG90eXBlLnNob3VsZENvbXBvbmVudFVwZGF0ZSA9IGZ1bmN0aW9uIChuZXh0UHJvcHMsIG5leHRTdGF0ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMudmFsaWRhdGVQcm9wcyhuZXh0UHJvcHMpO1xuICAgICAgICAvLyBJZiB0aGUgZWRpdG9yIGhhc24ndCBiZWVuIGluc3RhbnRpYXRlZCB5ZXQsIG9yIHRoZSBjb21wb25lbnQgaGFzIGJlZW5cbiAgICAgICAgLy8gcmVnZW5lcmF0ZWQsIHdlIGFscmVhZHkga25vdyB3ZSBzaG91bGQgdXBkYXRlLlxuICAgICAgICBpZiAoIXRoaXMuZWRpdG9yIHx8IHRoaXMuc3RhdGUuZ2VuZXJhdGlvbiAhPT0gbmV4dFN0YXRlLmdlbmVyYXRpb24pIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIEhhbmRsZSB2YWx1ZSBjaGFuZ2VzIGluLXBsYWNlXG4gICAgICAgIGlmICgndmFsdWUnIGluIG5leHRQcm9wcykge1xuICAgICAgICAgICAgdmFyIHByZXZDb250ZW50cyA9IHRoaXMuZ2V0RWRpdG9yQ29udGVudHMoKTtcbiAgICAgICAgICAgIHZhciBuZXh0Q29udGVudHMgPSAoX2EgPSBuZXh0UHJvcHMudmFsdWUsIChfYSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAnJykpO1xuICAgICAgICAgICAgLy8gTk9URTogU2VlaW5nIHRoYXQgUXVpbGwgaXMgbWlzc2luZyBhIHdheSB0byBwcmV2ZW50IGVkaXRzLCB3ZSBoYXZlIHRvXG4gICAgICAgICAgICAvLyAgICAgICBzZXR0bGUgZm9yIGEgaHlicmlkIGJldHdlZW4gY29udHJvbGxlZCBhbmQgdW5jb250cm9sbGVkIG1vZGUuIFdlXG4gICAgICAgICAgICAvLyAgICAgICBjYW4ndCBwcmV2ZW50IHRoZSBjaGFuZ2UsIGJ1dCB3ZSdsbCBzdGlsbCBvdmVycmlkZSBjb250ZW50XG4gICAgICAgICAgICAvLyAgICAgICB3aGVuZXZlciBgdmFsdWVgIGRpZmZlcnMgZnJvbSBjdXJyZW50IHN0YXRlLlxuICAgICAgICAgICAgLy8gTk9URTogQ29tcGFyaW5nIGFuIEhUTUwgc3RyaW5nIGFuZCBhIFF1aWxsIERlbHRhIHdpbGwgYWx3YXlzIHRyaWdnZXIgYVxuICAgICAgICAgICAgLy8gICAgICAgY2hhbmdlLCByZWdhcmRsZXNzIG9mIHdoZXRoZXIgdGhleSByZXByZXNlbnQgdGhlIHNhbWUgZG9jdW1lbnQuXG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNFcXVhbFZhbHVlKG5leHRDb250ZW50cywgcHJldkNvbnRlbnRzKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0RWRpdG9yQ29udGVudHModGhpcy5lZGl0b3IsIG5leHRDb250ZW50cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gSGFuZGxlIHJlYWQtb25seSBjaGFuZ2VzIGluLXBsYWNlXG4gICAgICAgIGlmIChuZXh0UHJvcHMucmVhZE9ubHkgIT09IHRoaXMucHJvcHMucmVhZE9ubHkpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0RWRpdG9yUmVhZE9ubHkodGhpcy5lZGl0b3IsIG5leHRQcm9wcy5yZWFkT25seSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2xlYW4gYW5kIERpcnR5IHByb3BzIHJlcXVpcmUgYSByZW5kZXJcbiAgICAgICAgcmV0dXJuIF9fc3ByZWFkQXJyYXlzKHRoaXMuY2xlYW5Qcm9wcywgdGhpcy5kaXJ0eVByb3BzKS5zb21lKGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgICAgICAgICByZXR1cm4gIWlzRXF1YWxfMS5kZWZhdWx0KG5leHRQcm9wc1twcm9wXSwgX3RoaXMucHJvcHNbcHJvcF0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFJlYWN0UXVpbGwucHJvdG90eXBlLnNob3VsZENvbXBvbmVudFJlZ2VuZXJhdGUgPSBmdW5jdGlvbiAobmV4dFByb3BzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIFdoZW5ldmVyIGEgYGRpcnR5UHJvcGAgY2hhbmdlcywgdGhlIGVkaXRvciBuZWVkcyByZWluc3RhbnRpYXRpb24uXG4gICAgICAgIHJldHVybiB0aGlzLmRpcnR5UHJvcHMuc29tZShmdW5jdGlvbiAocHJvcCkge1xuICAgICAgICAgICAgcmV0dXJuICFpc0VxdWFsXzEuZGVmYXVsdChuZXh0UHJvcHNbcHJvcF0sIF90aGlzLnByb3BzW3Byb3BdKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBSZWFjdFF1aWxsLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5pbnN0YW50aWF0ZUVkaXRvcigpO1xuICAgICAgICB0aGlzLnNldEVkaXRvckNvbnRlbnRzKHRoaXMuZWRpdG9yLCB0aGlzLmdldEVkaXRvckNvbnRlbnRzKCkpO1xuICAgIH07XG4gICAgUmVhY3RRdWlsbC5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZGVzdHJveUVkaXRvcigpO1xuICAgIH07XG4gICAgUmVhY3RRdWlsbC5wcm90b3R5cGUuY29tcG9uZW50RGlkVXBkYXRlID0gZnVuY3Rpb24gKHByZXZQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIElmIHdlJ3JlIGNoYW5naW5nIG9uZSBvZiB0aGUgYGRpcnR5UHJvcHNgLCB0aGUgZW50aXJlIFF1aWxsIEVkaXRvciBuZWVkc1xuICAgICAgICAvLyB0byBiZSByZS1pbnN0YW50aWF0ZWQuIFJlZ2VuZXJhdGluZyB0aGUgZWRpdG9yIHdpbGwgY2F1c2UgdGhlIHdob2xlIHRyZWUsXG4gICAgICAgIC8vIGluY2x1ZGluZyB0aGUgY29udGFpbmVyLCB0byBiZSBjbGVhbmVkIHVwIGFuZCByZS1yZW5kZXJlZCBmcm9tIHNjcmF0Y2guXG4gICAgICAgIC8vIFN0b3JlIHRoZSBjb250ZW50cyBzbyB0aGV5IGNhbiBiZSByZXN0b3JlZCBsYXRlci5cbiAgICAgICAgaWYgKHRoaXMuZWRpdG9yICYmIHRoaXMuc2hvdWxkQ29tcG9uZW50UmVnZW5lcmF0ZShwcmV2UHJvcHMpKSB7XG4gICAgICAgICAgICB2YXIgZGVsdGEgPSB0aGlzLmVkaXRvci5nZXRDb250ZW50cygpO1xuICAgICAgICAgICAgdmFyIHNlbGVjdGlvbiA9IHRoaXMuZWRpdG9yLmdldFNlbGVjdGlvbigpO1xuICAgICAgICAgICAgdGhpcy5yZWdlbmVyYXRpb25TbmFwc2hvdCA9IHsgZGVsdGE6IGRlbHRhLCBzZWxlY3Rpb246IHNlbGVjdGlvbiB9O1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGdlbmVyYXRpb246IHRoaXMuc3RhdGUuZ2VuZXJhdGlvbiArIDEgfSk7XG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3lFZGl0b3IoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaGUgY29tcG9uZW50IGhhcyBiZWVuIHJlZ2VuZXJhdGVkLCBzbyBpdCBtdXN0IGJlIHJlLWluc3RhbnRpYXRlZCwgYW5kXG4gICAgICAgIC8vIGl0cyBjb250ZW50IG11c3QgYmUgcmVzdG9yZWQgdG8gdGhlIHByZXZpb3VzIHZhbHVlcyBmcm9tIHRoZSBzbmFwc2hvdC5cbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuZ2VuZXJhdGlvbiAhPT0gcHJldlN0YXRlLmdlbmVyYXRpb24pIHtcbiAgICAgICAgICAgIHZhciBfYSA9IHRoaXMucmVnZW5lcmF0aW9uU25hcHNob3QsIGRlbHRhID0gX2EuZGVsdGEsIHNlbGVjdGlvbl8xID0gX2Euc2VsZWN0aW9uO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMucmVnZW5lcmF0aW9uU25hcHNob3Q7XG4gICAgICAgICAgICB0aGlzLmluc3RhbnRpYXRlRWRpdG9yKCk7XG4gICAgICAgICAgICB2YXIgZWRpdG9yXzEgPSB0aGlzLmVkaXRvcjtcbiAgICAgICAgICAgIGVkaXRvcl8xLnNldENvbnRlbnRzKGRlbHRhKTtcbiAgICAgICAgICAgIHBvc3Rwb25lKGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnNldEVkaXRvclNlbGVjdGlvbihlZGl0b3JfMSwgc2VsZWN0aW9uXzEpOyB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUmVhY3RRdWlsbC5wcm90b3R5cGUuaW5zdGFudGlhdGVFZGl0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmVkaXRvcikge1xuICAgICAgICAgICAgdGhpcy5ob29rRWRpdG9yKHRoaXMuZWRpdG9yKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZWRpdG9yID0gdGhpcy5jcmVhdGVFZGl0b3IodGhpcy5nZXRFZGl0aW5nQXJlYSgpLCB0aGlzLmdldEVkaXRvckNvbmZpZygpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUmVhY3RRdWlsbC5wcm90b3R5cGUuZGVzdHJveUVkaXRvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmVkaXRvcilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy51bmhvb2tFZGl0b3IodGhpcy5lZGl0b3IpO1xuICAgIH07XG4gICAgLypcbiAgICBXZSBjb25zaWRlciB0aGUgY29tcG9uZW50IHRvIGJlIGNvbnRyb2xsZWQgaWYgYHZhbHVlYCBpcyBiZWluZyBzZW50IGluIHByb3BzLlxuICAgICovXG4gICAgUmVhY3RRdWlsbC5wcm90b3R5cGUuaXNDb250cm9sbGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gJ3ZhbHVlJyBpbiB0aGlzLnByb3BzO1xuICAgIH07XG4gICAgUmVhY3RRdWlsbC5wcm90b3R5cGUuZ2V0RWRpdG9yQ29uZmlnID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYm91bmRzOiB0aGlzLnByb3BzLmJvdW5kcyxcbiAgICAgICAgICAgIGZvcm1hdHM6IHRoaXMucHJvcHMuZm9ybWF0cyxcbiAgICAgICAgICAgIG1vZHVsZXM6IHRoaXMucHJvcHMubW9kdWxlcyxcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiB0aGlzLnByb3BzLnBsYWNlaG9sZGVyLFxuICAgICAgICAgICAgcmVhZE9ubHk6IHRoaXMucHJvcHMucmVhZE9ubHksXG4gICAgICAgICAgICBzY3JvbGxpbmdDb250YWluZXI6IHRoaXMucHJvcHMuc2Nyb2xsaW5nQ29udGFpbmVyLFxuICAgICAgICAgICAgdGFiSW5kZXg6IHRoaXMucHJvcHMudGFiSW5kZXgsXG4gICAgICAgICAgICB0aGVtZTogdGhpcy5wcm9wcy50aGVtZSxcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIFJlYWN0UXVpbGwucHJvdG90eXBlLmdldEVkaXRvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmVkaXRvcilcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQWNjZXNzaW5nIG5vbi1pbnN0YW50aWF0ZWQgZWRpdG9yJyk7XG4gICAgICAgIHJldHVybiB0aGlzLmVkaXRvcjtcbiAgICB9O1xuICAgIC8qKlxuICAgIENyZWF0ZXMgYW4gZWRpdG9yIG9uIHRoZSBnaXZlbiBlbGVtZW50LiBUaGUgZWRpdG9yIHdpbGwgYmUgcGFzc2VkIHRoZVxuICAgIGNvbmZpZ3VyYXRpb24sIGhhdmUgaXRzIGV2ZW50cyBib3VuZCxcbiAgICAqL1xuICAgIFJlYWN0UXVpbGwucHJvdG90eXBlLmNyZWF0ZUVkaXRvciA9IGZ1bmN0aW9uIChlbGVtZW50LCBjb25maWcpIHtcbiAgICAgICAgdmFyIGVkaXRvciA9IG5ldyBxdWlsbF8xLmRlZmF1bHQoZWxlbWVudCwgY29uZmlnKTtcbiAgICAgICAgaWYgKGNvbmZpZy50YWJJbmRleCAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnNldEVkaXRvclRhYkluZGV4KGVkaXRvciwgY29uZmlnLnRhYkluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhvb2tFZGl0b3IoZWRpdG9yKTtcbiAgICAgICAgcmV0dXJuIGVkaXRvcjtcbiAgICB9O1xuICAgIFJlYWN0UXVpbGwucHJvdG90eXBlLmhvb2tFZGl0b3IgPSBmdW5jdGlvbiAoZWRpdG9yKSB7XG4gICAgICAgIC8vIEV4cG9zZSB0aGUgZWRpdG9yIG9uIGNoYW5nZSBldmVudHMgdmlhIGEgd2Vha2VyLCB1bnByaXZpbGVnZWQgcHJveHlcbiAgICAgICAgLy8gb2JqZWN0IHRoYXQgZG9lcyBub3QgYWxsb3cgYWNjaWRlbnRhbGx5IG1vZGlmeWluZyBlZGl0b3Igc3RhdGUuXG4gICAgICAgIHRoaXMudW5wcml2aWxlZ2VkRWRpdG9yID0gdGhpcy5tYWtlVW5wcml2aWxlZ2VkRWRpdG9yKGVkaXRvcik7XG4gICAgICAgIC8vIFVzaW5nIGBlZGl0b3ItY2hhbmdlYCBhbGxvd3MgcGlja2luZyB1cCBzaWxlbnQgdXBkYXRlcywgbGlrZSBzZWxlY3Rpb25cbiAgICAgICAgLy8gY2hhbmdlcyBvbiB0eXBpbmcuXG4gICAgICAgIGVkaXRvci5vbignZWRpdG9yLWNoYW5nZScsIHRoaXMub25FZGl0b3JDaGFuZ2UpO1xuICAgIH07XG4gICAgUmVhY3RRdWlsbC5wcm90b3R5cGUudW5ob29rRWRpdG9yID0gZnVuY3Rpb24gKGVkaXRvcikge1xuICAgICAgICBlZGl0b3Iub2ZmKCdlZGl0b3ItY2hhbmdlJywgdGhpcy5vbkVkaXRvckNoYW5nZSk7XG4gICAgfTtcbiAgICBSZWFjdFF1aWxsLnByb3RvdHlwZS5nZXRFZGl0b3JDb250ZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gICAgfTtcbiAgICBSZWFjdFF1aWxsLnByb3RvdHlwZS5nZXRFZGl0b3JTZWxlY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlbGVjdGlvbjtcbiAgICB9O1xuICAgIC8qXG4gICAgVHJ1ZSBpZiB0aGUgdmFsdWUgaXMgYSBEZWx0YSBpbnN0YW5jZSBvciBhIERlbHRhIGxvb2stYWxpa2UuXG4gICAgKi9cbiAgICBSZWFjdFF1aWxsLnByb3RvdHlwZS5pc0RlbHRhID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSAmJiB2YWx1ZS5vcHM7XG4gICAgfTtcbiAgICAvKlxuICAgIFNwZWNpYWwgY29tcGFyaXNvbiBmdW5jdGlvbiB0aGF0IGtub3dzIGhvdyB0byBjb21wYXJlIERlbHRhcy5cbiAgICAqL1xuICAgIFJlYWN0UXVpbGwucHJvdG90eXBlLmlzRXF1YWxWYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSwgbmV4dFZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRGVsdGEodmFsdWUpICYmIHRoaXMuaXNEZWx0YShuZXh0VmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gaXNFcXVhbF8xLmRlZmF1bHQodmFsdWUub3BzLCBuZXh0VmFsdWUub3BzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBpc0VxdWFsXzEuZGVmYXVsdCh2YWx1ZSwgbmV4dFZhbHVlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLypcbiAgICBSZXBsYWNlIHRoZSBjb250ZW50cyBvZiB0aGUgZWRpdG9yLCBidXQga2VlcCB0aGUgcHJldmlvdXMgc2VsZWN0aW9uIGhhbmdpbmdcbiAgICBhcm91bmQgc28gdGhhdCB0aGUgY3Vyc29yIHdvbid0IG1vdmUuXG4gICAgKi9cbiAgICBSZWFjdFF1aWxsLnByb3RvdHlwZS5zZXRFZGl0b3JDb250ZW50cyA9IGZ1bmN0aW9uIChlZGl0b3IsIHZhbHVlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdmFyIHNlbCA9IHRoaXMuZ2V0RWRpdG9yU2VsZWN0aW9uKCk7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBlZGl0b3Iuc2V0Q29udGVudHMoZWRpdG9yLmNsaXBib2FyZC5jb252ZXJ0KHZhbHVlKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBlZGl0b3Iuc2V0Q29udGVudHModmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHBvc3Rwb25lKGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnNldEVkaXRvclNlbGVjdGlvbihlZGl0b3IsIHNlbCk7IH0pO1xuICAgIH07XG4gICAgUmVhY3RRdWlsbC5wcm90b3R5cGUuc2V0RWRpdG9yU2VsZWN0aW9uID0gZnVuY3Rpb24gKGVkaXRvciwgcmFuZ2UpIHtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb24gPSByYW5nZTtcbiAgICAgICAgaWYgKHJhbmdlKSB7XG4gICAgICAgICAgICAvLyBWYWxpZGF0ZSBib3VuZHMgYmVmb3JlIGFwcGx5aW5nLlxuICAgICAgICAgICAgdmFyIGxlbmd0aF8xID0gZWRpdG9yLmdldExlbmd0aCgpO1xuICAgICAgICAgICAgcmFuZ2UuaW5kZXggPSBNYXRoLm1heCgwLCBNYXRoLm1pbihyYW5nZS5pbmRleCwgbGVuZ3RoXzEgLSAxKSk7XG4gICAgICAgICAgICByYW5nZS5sZW5ndGggPSBNYXRoLm1heCgwLCBNYXRoLm1pbihyYW5nZS5sZW5ndGgsIChsZW5ndGhfMSAtIDEpIC0gcmFuZ2UuaW5kZXgpKTtcbiAgICAgICAgICAgIGVkaXRvci5zZXRTZWxlY3Rpb24ocmFuZ2UpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSZWFjdFF1aWxsLnByb3RvdHlwZS5zZXRFZGl0b3JUYWJJbmRleCA9IGZ1bmN0aW9uIChlZGl0b3IsIHRhYkluZGV4KSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGlmICgoX2IgPSAoX2EgPSBlZGl0b3IpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zY3JvbGwpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5kb21Ob2RlKSB7XG4gICAgICAgICAgICBlZGl0b3Iuc2Nyb2xsLmRvbU5vZGUudGFiSW5kZXggPSB0YWJJbmRleDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUmVhY3RRdWlsbC5wcm90b3R5cGUuc2V0RWRpdG9yUmVhZE9ubHkgPSBmdW5jdGlvbiAoZWRpdG9yLCB2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIGVkaXRvci5kaXNhYmxlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBlZGl0b3IuZW5hYmxlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qXG4gICAgUmV0dXJucyBhIHdlYWtlciwgdW5wcml2aWxlZ2VkIHByb3h5IG9iamVjdCB0aGF0IG9ubHkgZXhwb3NlcyByZWFkLW9ubHlcbiAgICBhY2Nlc3NvcnMgZm91bmQgb24gdGhlIGVkaXRvciBpbnN0YW5jZSwgd2l0aG91dCBhbnkgc3RhdGUtbW9kaWZ5aW5nIG1ldGhvZHMuXG4gICAgKi9cbiAgICBSZWFjdFF1aWxsLnByb3RvdHlwZS5tYWtlVW5wcml2aWxlZ2VkRWRpdG9yID0gZnVuY3Rpb24gKGVkaXRvcikge1xuICAgICAgICB2YXIgZSA9IGVkaXRvcjtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGdldEhUTUw6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGUucm9vdC5pbm5lckhUTUw7IH0sXG4gICAgICAgICAgICBnZXRMZW5ndGg6IGUuZ2V0TGVuZ3RoLmJpbmQoZSksXG4gICAgICAgICAgICBnZXRUZXh0OiBlLmdldFRleHQuYmluZChlKSxcbiAgICAgICAgICAgIGdldENvbnRlbnRzOiBlLmdldENvbnRlbnRzLmJpbmQoZSksXG4gICAgICAgICAgICBnZXRTZWxlY3Rpb246IGUuZ2V0U2VsZWN0aW9uLmJpbmQoZSksXG4gICAgICAgICAgICBnZXRCb3VuZHM6IGUuZ2V0Qm91bmRzLmJpbmQoZSksXG4gICAgICAgIH07XG4gICAgfTtcbiAgICBSZWFjdFF1aWxsLnByb3RvdHlwZS5nZXRFZGl0aW5nQXJlYSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmVkaXRpbmdBcmVhKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0luc3RhbnRpYXRpbmcgb24gbWlzc2luZyBlZGl0aW5nIGFyZWEnKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZWxlbWVudCA9IHJlYWN0X2RvbV8xLmRlZmF1bHQuZmluZERPTU5vZGUodGhpcy5lZGl0aW5nQXJlYSk7XG4gICAgICAgIGlmICghZWxlbWVudCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgZmluZCBlbGVtZW50IGZvciBlZGl0aW5nIGFyZWEnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZWxlbWVudC5ub2RlVHlwZSA9PT0gMykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFZGl0aW5nIGFyZWEgY2Fubm90IGJlIGEgdGV4dCBub2RlJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfTtcbiAgICAvKlxuICAgIFJlbmRlcnMgYW4gZWRpdG9yIGFyZWEsIHVubGVzcyBpdCBoYXMgYmVlbiBwcm92aWRlZCBvbmUgdG8gY2xvbmUuXG4gICAgKi9cbiAgICBSZWFjdFF1aWxsLnByb3RvdHlwZS5yZW5kZXJFZGl0aW5nQXJlYSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcywgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbiwgcHJlc2VydmVXaGl0ZXNwYWNlID0gX2EucHJlc2VydmVXaGl0ZXNwYWNlO1xuICAgICAgICB2YXIgZ2VuZXJhdGlvbiA9IHRoaXMuc3RhdGUuZ2VuZXJhdGlvbjtcbiAgICAgICAgdmFyIHByb3BlcnRpZXMgPSB7XG4gICAgICAgICAgICBrZXk6IGdlbmVyYXRpb24sXG4gICAgICAgICAgICByZWY6IGZ1bmN0aW9uIChpbnN0YW5jZSkge1xuICAgICAgICAgICAgICAgIF90aGlzLmVkaXRpbmdBcmVhID0gaW5zdGFuY2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICBpZiAocmVhY3RfMS5kZWZhdWx0LkNoaWxkcmVuLmNvdW50KGNoaWxkcmVuKSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlYWN0XzEuZGVmYXVsdC5jbG9uZUVsZW1lbnQocmVhY3RfMS5kZWZhdWx0LkNoaWxkcmVuLm9ubHkoY2hpbGRyZW4pLCBwcm9wZXJ0aWVzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcHJlc2VydmVXaGl0ZXNwYWNlID9cbiAgICAgICAgICAgIHJlYWN0XzEuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwicHJlXCIsIF9fYXNzaWduKHt9LCBwcm9wZXJ0aWVzKSkgOlxuICAgICAgICAgICAgcmVhY3RfMS5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgX19hc3NpZ24oe30sIHByb3BlcnRpZXMpKTtcbiAgICB9O1xuICAgIFJlYWN0UXVpbGwucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gKHJlYWN0XzEuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgaWQ6IHRoaXMucHJvcHMuaWQsIHN0eWxlOiB0aGlzLnByb3BzLnN0eWxlLCBrZXk6IHRoaXMuc3RhdGUuZ2VuZXJhdGlvbiwgY2xhc3NOYW1lOiBcInF1aWxsIFwiICsgKF9hID0gdGhpcy5wcm9wcy5jbGFzc05hbWUsIChfYSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAnJykpLCBvbktleVByZXNzOiB0aGlzLnByb3BzLm9uS2V5UHJlc3MsIG9uS2V5RG93bjogdGhpcy5wcm9wcy5vbktleURvd24sIG9uS2V5VXA6IHRoaXMucHJvcHMub25LZXlVcCB9LCB0aGlzLnJlbmRlckVkaXRpbmdBcmVhKCkpKTtcbiAgICB9O1xuICAgIFJlYWN0UXVpbGwucHJvdG90eXBlLm9uRWRpdG9yQ2hhbmdlVGV4dCA9IGZ1bmN0aW9uICh2YWx1ZSwgZGVsdGEsIHNvdXJjZSwgZWRpdG9yKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGlmICghdGhpcy5lZGl0b3IpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIC8vIFdlIGtlZXAgc3RvcmluZyB0aGUgc2FtZSB0eXBlIG9mIHZhbHVlIGFzIHdoYXQgdGhlIHVzZXIgZ2l2ZXMgdXMsXG4gICAgICAgIC8vIHNvIHRoYXQgdmFsdWUgY29tcGFyaXNvbnMgd2lsbCBiZSBtb3JlIHN0YWJsZSBhbmQgcHJlZGljdGFibGUuXG4gICAgICAgIHZhciBuZXh0Q29udGVudHMgPSB0aGlzLmlzRGVsdGEodGhpcy52YWx1ZSlcbiAgICAgICAgICAgID8gZWRpdG9yLmdldENvbnRlbnRzKClcbiAgICAgICAgICAgIDogZWRpdG9yLmdldEhUTUwoKTtcbiAgICAgICAgaWYgKG5leHRDb250ZW50cyAhPT0gdGhpcy5nZXRFZGl0b3JDb250ZW50cygpKSB7XG4gICAgICAgICAgICAvLyBUYWludCB0aGlzIGBkZWx0YWAgb2JqZWN0LCBzbyB3ZSBjYW4gcmVjb2duaXplIHdoZXRoZXIgdGhlIHVzZXJcbiAgICAgICAgICAgIC8vIGlzIHRyeWluZyB0byBzZW5kIGl0IGJhY2sgYXMgYHZhbHVlYCwgcHJldmVudGluZyBhIGxpa2VseSBsb29wLlxuICAgICAgICAgICAgdGhpcy5sYXN0RGVsdGFDaGFuZ2VTZXQgPSBkZWx0YTtcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBuZXh0Q29udGVudHM7XG4gICAgICAgICAgICAoX2IgPSAoX2EgPSB0aGlzLnByb3BzKS5vbkNoYW5nZSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EsIHZhbHVlLCBkZWx0YSwgc291cmNlLCBlZGl0b3IpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSZWFjdFF1aWxsLnByb3RvdHlwZS5vbkVkaXRvckNoYW5nZVNlbGVjdGlvbiA9IGZ1bmN0aW9uIChuZXh0U2VsZWN0aW9uLCBzb3VyY2UsIGVkaXRvcikge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZjtcbiAgICAgICAgaWYgKCF0aGlzLmVkaXRvcilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdmFyIGN1cnJlbnRTZWxlY3Rpb24gPSB0aGlzLmdldEVkaXRvclNlbGVjdGlvbigpO1xuICAgICAgICB2YXIgaGFzR2FpbmVkRm9jdXMgPSAhY3VycmVudFNlbGVjdGlvbiAmJiBuZXh0U2VsZWN0aW9uO1xuICAgICAgICB2YXIgaGFzTG9zdEZvY3VzID0gY3VycmVudFNlbGVjdGlvbiAmJiAhbmV4dFNlbGVjdGlvbjtcbiAgICAgICAgaWYgKGlzRXF1YWxfMS5kZWZhdWx0KG5leHRTZWxlY3Rpb24sIGN1cnJlbnRTZWxlY3Rpb24pKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLnNlbGVjdGlvbiA9IG5leHRTZWxlY3Rpb247XG4gICAgICAgIChfYiA9IChfYSA9IHRoaXMucHJvcHMpLm9uQ2hhbmdlU2VsZWN0aW9uKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSwgbmV4dFNlbGVjdGlvbiwgc291cmNlLCBlZGl0b3IpO1xuICAgICAgICBpZiAoaGFzR2FpbmVkRm9jdXMpIHtcbiAgICAgICAgICAgIChfZCA9IChfYyA9IHRoaXMucHJvcHMpLm9uRm9jdXMpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5jYWxsKF9jLCBuZXh0U2VsZWN0aW9uLCBzb3VyY2UsIGVkaXRvcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaGFzTG9zdEZvY3VzKSB7XG4gICAgICAgICAgICAoX2YgPSAoX2UgPSB0aGlzLnByb3BzKS5vbkJsdXIpID09PSBudWxsIHx8IF9mID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZi5jYWxsKF9lLCBjdXJyZW50U2VsZWN0aW9uLCBzb3VyY2UsIGVkaXRvcik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlYWN0UXVpbGwucHJvdG90eXBlLmZvY3VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuZWRpdG9yKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLmVkaXRvci5mb2N1cygpO1xuICAgIH07XG4gICAgUmVhY3RRdWlsbC5wcm90b3R5cGUuYmx1ciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmVkaXRvcilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb24gPSBudWxsO1xuICAgICAgICB0aGlzLmVkaXRvci5ibHVyKCk7XG4gICAgfTtcbiAgICBSZWFjdFF1aWxsLmRpc3BsYXlOYW1lID0gJ1JlYWN0IFF1aWxsJztcbiAgICAvKlxuICAgIEV4cG9ydCBRdWlsbCB0byBiZSBhYmxlIHRvIGNhbGwgYHJlZ2lzdGVyYFxuICAgICovXG4gICAgUmVhY3RRdWlsbC5RdWlsbCA9IHF1aWxsXzEuZGVmYXVsdDtcbiAgICBSZWFjdFF1aWxsLmRlZmF1bHRQcm9wcyA9IHtcbiAgICAgICAgdGhlbWU6ICdzbm93JyxcbiAgICAgICAgbW9kdWxlczoge30sXG4gICAgICAgIHJlYWRPbmx5OiBmYWxzZSxcbiAgICB9O1xuICAgIHJldHVybiBSZWFjdFF1aWxsO1xufShyZWFjdF8xLmRlZmF1bHQuQ29tcG9uZW50KSk7XG4vKlxuU21hbGwgaGVscGVyIHRvIGV4ZWN1dGUgYSBmdW5jdGlvbiBpbiB0aGUgbmV4dCBtaWNyby10aWNrLlxuKi9cbmZ1bmN0aW9uIHBvc3Rwb25lKGZuKSB7XG4gICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmbik7XG59XG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0UXVpbGw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-quill/lib/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-quill/dist/quill.bubble.css":
/*!********************************************************!*\
  !*** ./node_modules/react-quill/dist/quill.bubble.css ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"7ff24424f8cb\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtcXVpbGwvZGlzdC9xdWlsbC5idWJibGUuY3NzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxpRUFBZSxjQUFjO0FBQzdCLElBQUksS0FBVSxFQUFFLEVBQXVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGhlLW5ldy1hc3RydW0tdGltZXMvLi9ub2RlX21vZHVsZXMvcmVhY3QtcXVpbGwvZGlzdC9xdWlsbC5idWJibGUuY3NzPzAwZmIiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgXCI3ZmYyNDQyNGY4Y2JcIlxuaWYgKG1vZHVsZS5ob3QpIHsgbW9kdWxlLmhvdC5hY2NlcHQoKSB9XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-quill/dist/quill.bubble.css\n");

/***/ }),

/***/ "(ssr)/./node_modules/react-quill/dist/quill.snow.css":
/*!******************************************************!*\
  !*** ./node_modules/react-quill/dist/quill.snow.css ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"88aff6f74ad0\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtcXVpbGwvZGlzdC9xdWlsbC5zbm93LmNzcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsaUVBQWUsY0FBYztBQUM3QixJQUFJLEtBQVUsRUFBRSxFQUF1QiIsInNvdXJjZXMiOlsid2VicGFjazovL3RoZS1uZXctYXN0cnVtLXRpbWVzLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXF1aWxsL2Rpc3QvcXVpbGwuc25vdy5jc3M/Mzk0NiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBcIjg4YWZmNmY3NGFkMFwiXG5pZiAobW9kdWxlLmhvdCkgeyBtb2R1bGUuaG90LmFjY2VwdCgpIH1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-quill/dist/quill.snow.css\n");

/***/ })

};
;