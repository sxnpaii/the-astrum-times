var kC=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var qU=kC((nj,Iu)=>{function EC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Zr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function $1(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var U1={exports:{}},Rd={},j1={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jl=Symbol.for("react.element"),xC=Symbol.for("react.portal"),SC=Symbol.for("react.fragment"),TC=Symbol.for("react.strict_mode"),CC=Symbol.for("react.profiler"),IC=Symbol.for("react.provider"),AC=Symbol.for("react.context"),RC=Symbol.for("react.forward_ref"),PC=Symbol.for("react.suspense"),MC=Symbol.for("react.memo"),OC=Symbol.for("react.lazy"),$y=Symbol.iterator;function LC(t){return t===null||typeof t!="object"?null:(t=$y&&t[$y]||t["@@iterator"],typeof t=="function"?t:null)}var z1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H1=Object.assign,W1={};function Ys(t,e,n){this.props=t,this.context=e,this.refs=W1,this.updater=n||z1}Ys.prototype.isReactComponent={};Ys.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ys.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Y1(){}Y1.prototype=Ys.prototype;function Gm(t,e,n){this.props=t,this.context=e,this.refs=W1,this.updater=n||z1}var qm=Gm.prototype=new Y1;qm.constructor=Gm;H1(qm,Ys.prototype);qm.isPureReactComponent=!0;var Uy=Array.isArray,G1=Object.prototype.hasOwnProperty,Km={current:null},q1={key:!0,ref:!0,__self:!0,__source:!0};function K1(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)G1.call(e,r)&&!q1.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Jl,type:t,key:o,ref:s,props:i,_owner:Km.current}}function DC(t,e){return{$$typeof:Jl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Qm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Jl}function NC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var jy=/\/+/g;function Wh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?NC(""+t.key):e.toString(36)}function su(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Jl:case xC:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Wh(s,0):r,Uy(i)?(n="",t!=null&&(n=t.replace(jy,"$&/")+"/"),su(i,e,n,"",function(c){return c})):i!=null&&(Qm(i)&&(i=DC(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(jy,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Uy(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Wh(o,a);s+=su(o,e,n,l,i)}else if(l=LC(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Wh(o,a++),s+=su(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Cc(t,e,n){if(t==null)return t;var r=[],i=0;return su(t,r,"","",function(o){return e.call(n,o,i++)}),r}function BC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var rn={current:null},au={transition:null},FC={ReactCurrentDispatcher:rn,ReactCurrentBatchConfig:au,ReactCurrentOwner:Km};we.Children={map:Cc,forEach:function(t,e,n){Cc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Cc(t,function(){e++}),e},toArray:function(t){return Cc(t,function(e){return e})||[]},only:function(t){if(!Qm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};we.Component=Ys;we.Fragment=SC;we.Profiler=CC;we.PureComponent=Gm;we.StrictMode=TC;we.Suspense=PC;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FC;we.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=H1({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Km.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)G1.call(e,l)&&!q1.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Jl,type:t.type,key:i,ref:o,props:r,_owner:s}};we.createContext=function(t){return t={$$typeof:AC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:IC,_context:t},t.Consumer=t};we.createElement=K1;we.createFactory=function(t){var e=K1.bind(null,t);return e.type=t,e};we.createRef=function(){return{current:null}};we.forwardRef=function(t){return{$$typeof:RC,render:t}};we.isValidElement=Qm;we.lazy=function(t){return{$$typeof:OC,_payload:{_status:-1,_result:t},_init:BC}};we.memo=function(t,e){return{$$typeof:MC,type:t,compare:e===void 0?null:e}};we.startTransition=function(t){var e=au.transition;au.transition={};try{t()}finally{au.transition=e}};we.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};we.useCallback=function(t,e){return rn.current.useCallback(t,e)};we.useContext=function(t){return rn.current.useContext(t)};we.useDebugValue=function(){};we.useDeferredValue=function(t){return rn.current.useDeferredValue(t)};we.useEffect=function(t,e){return rn.current.useEffect(t,e)};we.useId=function(){return rn.current.useId()};we.useImperativeHandle=function(t,e,n){return rn.current.useImperativeHandle(t,e,n)};we.useInsertionEffect=function(t,e){return rn.current.useInsertionEffect(t,e)};we.useLayoutEffect=function(t,e){return rn.current.useLayoutEffect(t,e)};we.useMemo=function(t,e){return rn.current.useMemo(t,e)};we.useReducer=function(t,e,n){return rn.current.useReducer(t,e,n)};we.useRef=function(t){return rn.current.useRef(t)};we.useState=function(t){return rn.current.useState(t)};we.useSyncExternalStore=function(t,e,n){return rn.current.useSyncExternalStore(t,e,n)};we.useTransition=function(){return rn.current.useTransition()};we.version="18.2.0";j1.exports=we;var F=j1.exports;const ke=Zr(F),VC=EC({__proto__:null,default:ke},[F]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $C=F,UC=Symbol.for("react.element"),jC=Symbol.for("react.fragment"),zC=Object.prototype.hasOwnProperty,HC=$C.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,WC={key:!0,ref:!0,__self:!0,__source:!0};function Q1(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)zC.call(e,r)&&!WC.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:UC,type:t,key:o,ref:s,props:i,_owner:HC.current}}Rd.Fragment=jC;Rd.jsx=Q1;Rd.jsxs=Q1;U1.exports=Rd;var U=U1.exports,Zf={},X1={exports:{}},kn={},J1={exports:{}},Z1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,B){var V=P.length;P.push(B);e:for(;0<V;){var Z=V-1>>>1,K=P[Z];if(0<i(K,B))P[Z]=B,P[V]=K,V=Z;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var B=P[0],V=P.pop();if(V!==B){P[0]=V;e:for(var Z=0,K=P.length,ut=K>>>1;Z<ut;){var Xt=2*(Z+1)-1,Gi=P[Xt],Er=Xt+1,$o=P[Er];if(0>i(Gi,V))Er<K&&0>i($o,Gi)?(P[Z]=$o,P[Er]=V,Z=Er):(P[Z]=Gi,P[Xt]=V,Z=Xt);else if(Er<K&&0>i($o,V))P[Z]=$o,P[Er]=V,Z=Er;else break e}}return B}function i(P,B){var V=P.sortIndex-B.sortIndex;return V!==0?V:P.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,d=null,h=3,f=!1,m=!1,b=!1,S=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(P){for(var B=n(c);B!==null;){if(B.callback===null)r(c);else if(B.startTime<=P)r(c),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(c)}}function v(P){if(b=!1,g(P),!m)if(n(l)!==null)m=!0,L(E);else{var B=n(c);B!==null&&H(v,B.startTime-P)}}function E(P,B){m=!1,b&&(b=!1,w(_),_=-1),f=!0;var V=h;try{for(g(B),d=n(l);d!==null&&(!(d.expirationTime>B)||P&&!x());){var Z=d.callback;if(typeof Z=="function"){d.callback=null,h=d.priorityLevel;var K=Z(d.expirationTime<=B);B=t.unstable_now(),typeof K=="function"?d.callback=K:d===n(l)&&r(l),g(B)}else r(l);d=n(l)}if(d!==null)var ut=!0;else{var Xt=n(c);Xt!==null&&H(v,Xt.startTime-B),ut=!1}return ut}finally{d=null,h=V,f=!1}}var A=!1,R=null,_=-1,y=5,k=-1;function x(){return!(t.unstable_now()-k<y)}function I(){if(R!==null){var P=t.unstable_now();k=P;var B=!0;try{B=R(!0,P)}finally{B?C():(A=!1,R=null)}}else A=!1}var C;if(typeof p=="function")C=function(){p(I)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,T=M.port2;M.port1.onmessage=I,C=function(){T.postMessage(null)}}else C=function(){S(I,0)};function L(P){R=P,A||(A=!0,C())}function H(P,B){_=S(function(){P(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,L(E))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(P){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var V=h;h=B;try{return P()}finally{h=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,B){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var V=h;h=P;try{return B()}finally{h=V}},t.unstable_scheduleCallback=function(P,B,V){var Z=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?Z+V:Z):V=Z,P){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=V+K,P={id:u++,callback:B,priorityLevel:P,startTime:V,expirationTime:K,sortIndex:-1},V>Z?(P.sortIndex=V,e(c,P),n(l)===null&&P===n(c)&&(b?(w(_),_=-1):b=!0,H(v,V-Z))):(P.sortIndex=K,e(l,P),m||f||(m=!0,L(E))),P},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(P){var B=h;return function(){var V=h;h=B;try{return P.apply(this,arguments)}finally{h=V}}}})(Z1);J1.exports=Z1;var YC=J1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e_=F,_n=YC;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var t_=new Set,fl={};function Oo(t,e){Ts(t,e),Ts(t+"Capture",e)}function Ts(t,e){for(fl[t]=e,t=0;t<e.length;t++)t_.add(e[t])}var zr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ep=Object.prototype.hasOwnProperty,GC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zy={},Hy={};function qC(t){return ep.call(Hy,t)?!0:ep.call(zy,t)?!1:GC.test(t)?Hy[t]=!0:(zy[t]=!0,!1)}function KC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function QC(t,e,n,r){if(e===null||typeof e>"u"||KC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function on(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Nt[t]=new on(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Nt[e]=new on(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Nt[t]=new on(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Nt[t]=new on(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Nt[t]=new on(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Nt[t]=new on(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Nt[t]=new on(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Nt[t]=new on(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Nt[t]=new on(t,5,!1,t.toLowerCase(),null,!1,!1)});var Xm=/[\-:]([a-z])/g;function Jm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Xm,Jm);Nt[e]=new on(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Xm,Jm);Nt[e]=new on(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Xm,Jm);Nt[e]=new on(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Nt[t]=new on(t,1,!1,t.toLowerCase(),null,!1,!1)});Nt.xlinkHref=new on("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Nt[t]=new on(t,1,!1,t.toLowerCase(),null,!0,!0)});function Zm(t,e,n,r){var i=Nt.hasOwnProperty(e)?Nt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(QC(e,n,i,r)&&(n=null),r||i===null?qC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ei=e_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ic=Symbol.for("react.element"),Xo=Symbol.for("react.portal"),Jo=Symbol.for("react.fragment"),eg=Symbol.for("react.strict_mode"),tp=Symbol.for("react.profiler"),n_=Symbol.for("react.provider"),r_=Symbol.for("react.context"),tg=Symbol.for("react.forward_ref"),np=Symbol.for("react.suspense"),rp=Symbol.for("react.suspense_list"),ng=Symbol.for("react.memo"),di=Symbol.for("react.lazy"),i_=Symbol.for("react.offscreen"),Wy=Symbol.iterator;function da(t){return t===null||typeof t!="object"?null:(t=Wy&&t[Wy]||t["@@iterator"],typeof t=="function"?t:null)}var Xe=Object.assign,Yh;function La(t){if(Yh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Yh=e&&e[1]||""}return`
`+Yh+t}var Gh=!1;function qh(t,e){if(!t||Gh)return"";Gh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Gh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?La(t):""}function XC(t){switch(t.tag){case 5:return La(t.type);case 16:return La("Lazy");case 13:return La("Suspense");case 19:return La("SuspenseList");case 0:case 2:case 15:return t=qh(t.type,!1),t;case 11:return t=qh(t.type.render,!1),t;case 1:return t=qh(t.type,!0),t;default:return""}}function ip(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Jo:return"Fragment";case Xo:return"Portal";case tp:return"Profiler";case eg:return"StrictMode";case np:return"Suspense";case rp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case r_:return(t.displayName||"Context")+".Consumer";case n_:return(t._context.displayName||"Context")+".Provider";case tg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ng:return e=t.displayName||null,e!==null?e:ip(t.type)||"Memo";case di:e=t._payload,t=t._init;try{return ip(t(e))}catch{}}return null}function JC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ip(e);case 8:return e===eg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Di(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function o_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ZC(t){var e=o_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ac(t){t._valueTracker||(t._valueTracker=ZC(t))}function s_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=o_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Au(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function op(t,e){var n=e.checked;return Xe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Yy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Di(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function a_(t,e){e=e.checked,e!=null&&Zm(t,"checked",e,!1)}function sp(t,e){a_(t,e);var n=Di(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ap(t,e.type,n):e.hasOwnProperty("defaultValue")&&ap(t,e.type,Di(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Gy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ap(t,e,n){(e!=="number"||Au(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Da=Array.isArray;function hs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Di(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function lp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return Xe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function qy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(Da(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Di(n)}}function l_(t,e){var n=Di(e.value),r=Di(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ky(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function c_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?c_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Rc,u_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Rc=Rc||document.createElement("div"),Rc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Rc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function pl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Wa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eI=["Webkit","ms","Moz","O"];Object.keys(Wa).forEach(function(t){eI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Wa[e]=Wa[t]})});function d_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Wa.hasOwnProperty(t)&&Wa[t]?(""+e).trim():e+"px"}function h_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=d_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var tI=Xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function up(t,e){if(e){if(tI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function dp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hp=null;function rg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fp=null,fs=null,ps=null;function Qy(t){if(t=tc(t)){if(typeof fp!="function")throw Error(W(280));var e=t.stateNode;e&&(e=Dd(e),fp(t.stateNode,t.type,e))}}function f_(t){fs?ps?ps.push(t):ps=[t]:fs=t}function p_(){if(fs){var t=fs,e=ps;if(ps=fs=null,Qy(t),e)for(t=0;t<e.length;t++)Qy(e[t])}}function m_(t,e){return t(e)}function g_(){}var Kh=!1;function v_(t,e,n){if(Kh)return t(e,n);Kh=!0;try{return m_(t,e,n)}finally{Kh=!1,(fs!==null||ps!==null)&&(g_(),p_())}}function ml(t,e){var n=t.stateNode;if(n===null)return null;var r=Dd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var pp=!1;if(zr)try{var ha={};Object.defineProperty(ha,"passive",{get:function(){pp=!0}}),window.addEventListener("test",ha,ha),window.removeEventListener("test",ha,ha)}catch{pp=!1}function nI(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Ya=!1,Ru=null,Pu=!1,mp=null,rI={onError:function(t){Ya=!0,Ru=t}};function iI(t,e,n,r,i,o,s,a,l){Ya=!1,Ru=null,nI.apply(rI,arguments)}function oI(t,e,n,r,i,o,s,a,l){if(iI.apply(this,arguments),Ya){if(Ya){var c=Ru;Ya=!1,Ru=null}else throw Error(W(198));Pu||(Pu=!0,mp=c)}}function Lo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function y_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Xy(t){if(Lo(t)!==t)throw Error(W(188))}function sI(t){var e=t.alternate;if(!e){if(e=Lo(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Xy(i),t;if(o===r)return Xy(i),e;o=o.sibling}throw Error(W(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function w_(t){return t=sI(t),t!==null?__(t):null}function __(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=__(t);if(e!==null)return e;t=t.sibling}return null}var b_=_n.unstable_scheduleCallback,Jy=_n.unstable_cancelCallback,aI=_n.unstable_shouldYield,lI=_n.unstable_requestPaint,ct=_n.unstable_now,cI=_n.unstable_getCurrentPriorityLevel,ig=_n.unstable_ImmediatePriority,k_=_n.unstable_UserBlockingPriority,Mu=_n.unstable_NormalPriority,uI=_n.unstable_LowPriority,E_=_n.unstable_IdlePriority,Pd=null,pr=null;function dI(t){if(pr&&typeof pr.onCommitFiberRoot=="function")try{pr.onCommitFiberRoot(Pd,t,void 0,(t.current.flags&128)===128)}catch{}}var Qn=Math.clz32?Math.clz32:pI,hI=Math.log,fI=Math.LN2;function pI(t){return t>>>=0,t===0?32:31-(hI(t)/fI|0)|0}var Pc=64,Mc=4194304;function Na(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ou(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Na(a):(o&=s,o!==0&&(r=Na(o)))}else s=n&~i,s!==0?r=Na(s):o!==0&&(r=Na(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Qn(e),i=1<<n,r|=t[n],e&=~i;return r}function mI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gI(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Qn(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=mI(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function gp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function x_(){var t=Pc;return Pc<<=1,!(Pc&4194240)&&(Pc=64),t}function Qh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Zl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Qn(e),t[e]=n}function vI(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Qn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function og(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Qn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Pe=0;function S_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var T_,sg,C_,I_,A_,vp=!1,Oc=[],ki=null,Ei=null,xi=null,gl=new Map,vl=new Map,fi=[],yI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zy(t,e){switch(t){case"focusin":case"focusout":ki=null;break;case"dragenter":case"dragleave":Ei=null;break;case"mouseover":case"mouseout":xi=null;break;case"pointerover":case"pointerout":gl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":vl.delete(e.pointerId)}}function fa(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=tc(e),e!==null&&sg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function wI(t,e,n,r,i){switch(e){case"focusin":return ki=fa(ki,t,e,n,r,i),!0;case"dragenter":return Ei=fa(Ei,t,e,n,r,i),!0;case"mouseover":return xi=fa(xi,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return gl.set(o,fa(gl.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,vl.set(o,fa(vl.get(o)||null,t,e,n,r,i)),!0}return!1}function R_(t){var e=io(t.target);if(e!==null){var n=Lo(e);if(n!==null){if(e=n.tag,e===13){if(e=y_(n),e!==null){t.blockedOn=e,A_(t.priority,function(){C_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function lu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=yp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);hp=r,n.target.dispatchEvent(r),hp=null}else return e=tc(n),e!==null&&sg(e),t.blockedOn=n,!1;e.shift()}return!0}function e0(t,e,n){lu(t)&&n.delete(e)}function _I(){vp=!1,ki!==null&&lu(ki)&&(ki=null),Ei!==null&&lu(Ei)&&(Ei=null),xi!==null&&lu(xi)&&(xi=null),gl.forEach(e0),vl.forEach(e0)}function pa(t,e){t.blockedOn===e&&(t.blockedOn=null,vp||(vp=!0,_n.unstable_scheduleCallback(_n.unstable_NormalPriority,_I)))}function yl(t){function e(i){return pa(i,t)}if(0<Oc.length){pa(Oc[0],t);for(var n=1;n<Oc.length;n++){var r=Oc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ki!==null&&pa(ki,t),Ei!==null&&pa(Ei,t),xi!==null&&pa(xi,t),gl.forEach(e),vl.forEach(e),n=0;n<fi.length;n++)r=fi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<fi.length&&(n=fi[0],n.blockedOn===null);)R_(n),n.blockedOn===null&&fi.shift()}var ms=ei.ReactCurrentBatchConfig,Lu=!0;function bI(t,e,n,r){var i=Pe,o=ms.transition;ms.transition=null;try{Pe=1,ag(t,e,n,r)}finally{Pe=i,ms.transition=o}}function kI(t,e,n,r){var i=Pe,o=ms.transition;ms.transition=null;try{Pe=4,ag(t,e,n,r)}finally{Pe=i,ms.transition=o}}function ag(t,e,n,r){if(Lu){var i=yp(t,e,n,r);if(i===null)af(t,e,r,Du,n),Zy(t,r);else if(wI(i,t,e,n,r))r.stopPropagation();else if(Zy(t,r),e&4&&-1<yI.indexOf(t)){for(;i!==null;){var o=tc(i);if(o!==null&&T_(o),o=yp(t,e,n,r),o===null&&af(t,e,r,Du,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else af(t,e,r,null,n)}}var Du=null;function yp(t,e,n,r){if(Du=null,t=rg(r),t=io(t),t!==null)if(e=Lo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=y_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Du=t,null}function P_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cI()){case ig:return 1;case k_:return 4;case Mu:case uI:return 16;case E_:return 536870912;default:return 16}default:return 16}}var gi=null,lg=null,cu=null;function M_(){if(cu)return cu;var t,e=lg,n=e.length,r,i="value"in gi?gi.value:gi.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return cu=i.slice(t,1<r?1-r:void 0)}function uu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Lc(){return!0}function t0(){return!1}function En(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Lc:t0,this.isPropagationStopped=t0,this}return Xe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Lc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Lc)},persist:function(){},isPersistent:Lc}),e}var Gs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cg=En(Gs),ec=Xe({},Gs,{view:0,detail:0}),EI=En(ec),Xh,Jh,ma,Md=Xe({},ec,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ug,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ma&&(ma&&t.type==="mousemove"?(Xh=t.screenX-ma.screenX,Jh=t.screenY-ma.screenY):Jh=Xh=0,ma=t),Xh)},movementY:function(t){return"movementY"in t?t.movementY:Jh}}),n0=En(Md),xI=Xe({},Md,{dataTransfer:0}),SI=En(xI),TI=Xe({},ec,{relatedTarget:0}),Zh=En(TI),CI=Xe({},Gs,{animationName:0,elapsedTime:0,pseudoElement:0}),II=En(CI),AI=Xe({},Gs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),RI=En(AI),PI=Xe({},Gs,{data:0}),r0=En(PI),MI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},OI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=LI[t])?!!e[t]:!1}function ug(){return DI}var NI=Xe({},ec,{key:function(t){if(t.key){var e=MI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=uu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?OI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ug,charCode:function(t){return t.type==="keypress"?uu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?uu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),BI=En(NI),FI=Xe({},Md,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),i0=En(FI),VI=Xe({},ec,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ug}),$I=En(VI),UI=Xe({},Gs,{propertyName:0,elapsedTime:0,pseudoElement:0}),jI=En(UI),zI=Xe({},Md,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),HI=En(zI),WI=[9,13,27,32],dg=zr&&"CompositionEvent"in window,Ga=null;zr&&"documentMode"in document&&(Ga=document.documentMode);var YI=zr&&"TextEvent"in window&&!Ga,O_=zr&&(!dg||Ga&&8<Ga&&11>=Ga),o0=String.fromCharCode(32),s0=!1;function L_(t,e){switch(t){case"keyup":return WI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function D_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Zo=!1;function GI(t,e){switch(t){case"compositionend":return D_(e);case"keypress":return e.which!==32?null:(s0=!0,o0);case"textInput":return t=e.data,t===o0&&s0?null:t;default:return null}}function qI(t,e){if(Zo)return t==="compositionend"||!dg&&L_(t,e)?(t=M_(),cu=lg=gi=null,Zo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return O_&&e.locale!=="ko"?null:e.data;default:return null}}var KI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function a0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!KI[t.type]:e==="textarea"}function N_(t,e,n,r){f_(r),e=Nu(e,"onChange"),0<e.length&&(n=new cg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var qa=null,wl=null;function QI(t){G_(t,0)}function Od(t){var e=ns(t);if(s_(e))return t}function XI(t,e){if(t==="change")return e}var B_=!1;if(zr){var ef;if(zr){var tf="oninput"in document;if(!tf){var l0=document.createElement("div");l0.setAttribute("oninput","return;"),tf=typeof l0.oninput=="function"}ef=tf}else ef=!1;B_=ef&&(!document.documentMode||9<document.documentMode)}function c0(){qa&&(qa.detachEvent("onpropertychange",F_),wl=qa=null)}function F_(t){if(t.propertyName==="value"&&Od(wl)){var e=[];N_(e,wl,t,rg(t)),v_(QI,e)}}function JI(t,e,n){t==="focusin"?(c0(),qa=e,wl=n,qa.attachEvent("onpropertychange",F_)):t==="focusout"&&c0()}function ZI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Od(wl)}function e2(t,e){if(t==="click")return Od(e)}function t2(t,e){if(t==="input"||t==="change")return Od(e)}function n2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Jn=typeof Object.is=="function"?Object.is:n2;function _l(t,e){if(Jn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ep.call(e,i)||!Jn(t[i],e[i]))return!1}return!0}function u0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function d0(t,e){var n=u0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=u0(n)}}function V_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?V_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $_(){for(var t=window,e=Au();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Au(t.document)}return e}function hg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function r2(t){var e=$_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&V_(n.ownerDocument.documentElement,n)){if(r!==null&&hg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=d0(n,o);var s=d0(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var i2=zr&&"documentMode"in document&&11>=document.documentMode,es=null,wp=null,Ka=null,_p=!1;function h0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_p||es==null||es!==Au(r)||(r=es,"selectionStart"in r&&hg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ka&&_l(Ka,r)||(Ka=r,r=Nu(wp,"onSelect"),0<r.length&&(e=new cg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=es)))}function Dc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ts={animationend:Dc("Animation","AnimationEnd"),animationiteration:Dc("Animation","AnimationIteration"),animationstart:Dc("Animation","AnimationStart"),transitionend:Dc("Transition","TransitionEnd")},nf={},U_={};zr&&(U_=document.createElement("div").style,"AnimationEvent"in window||(delete ts.animationend.animation,delete ts.animationiteration.animation,delete ts.animationstart.animation),"TransitionEvent"in window||delete ts.transitionend.transition);function Ld(t){if(nf[t])return nf[t];if(!ts[t])return t;var e=ts[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in U_)return nf[t]=e[n];return t}var j_=Ld("animationend"),z_=Ld("animationiteration"),H_=Ld("animationstart"),W_=Ld("transitionend"),Y_=new Map,f0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ui(t,e){Y_.set(t,e),Oo(e,[t])}for(var rf=0;rf<f0.length;rf++){var of=f0[rf],o2=of.toLowerCase(),s2=of[0].toUpperCase()+of.slice(1);Ui(o2,"on"+s2)}Ui(j_,"onAnimationEnd");Ui(z_,"onAnimationIteration");Ui(H_,"onAnimationStart");Ui("dblclick","onDoubleClick");Ui("focusin","onFocus");Ui("focusout","onBlur");Ui(W_,"onTransitionEnd");Ts("onMouseEnter",["mouseout","mouseover"]);Ts("onMouseLeave",["mouseout","mouseover"]);Ts("onPointerEnter",["pointerout","pointerover"]);Ts("onPointerLeave",["pointerout","pointerover"]);Oo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Oo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Oo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Oo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Oo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Oo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ba="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),a2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ba));function p0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,oI(r,e,void 0,t),t.currentTarget=null}function G_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;p0(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;p0(i,a,c),o=l}}}if(Pu)throw t=mp,Pu=!1,mp=null,t}function Fe(t,e){var n=e[Sp];n===void 0&&(n=e[Sp]=new Set);var r=t+"__bubble";n.has(r)||(q_(e,t,2,!1),n.add(r))}function sf(t,e,n){var r=0;e&&(r|=4),q_(n,t,r,e)}var Nc="_reactListening"+Math.random().toString(36).slice(2);function bl(t){if(!t[Nc]){t[Nc]=!0,t_.forEach(function(n){n!=="selectionchange"&&(a2.has(n)||sf(n,!1,t),sf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Nc]||(e[Nc]=!0,sf("selectionchange",!1,e))}}function q_(t,e,n,r){switch(P_(e)){case 1:var i=bI;break;case 4:i=kI;break;default:i=ag}n=i.bind(null,e,n,t),i=void 0,!pp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function af(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=io(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}v_(function(){var c=o,u=rg(n),d=[];e:{var h=Y_.get(t);if(h!==void 0){var f=cg,m=t;switch(t){case"keypress":if(uu(n)===0)break e;case"keydown":case"keyup":f=BI;break;case"focusin":m="focus",f=Zh;break;case"focusout":m="blur",f=Zh;break;case"beforeblur":case"afterblur":f=Zh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=n0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=SI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=$I;break;case j_:case z_:case H_:f=II;break;case W_:f=jI;break;case"scroll":f=EI;break;case"wheel":f=HI;break;case"copy":case"cut":case"paste":f=RI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=i0}var b=(e&4)!==0,S=!b&&t==="scroll",w=b?h!==null?h+"Capture":null:h;b=[];for(var p=c,g;p!==null;){g=p;var v=g.stateNode;if(g.tag===5&&v!==null&&(g=v,w!==null&&(v=ml(p,w),v!=null&&b.push(kl(p,v,g)))),S)break;p=p.return}0<b.length&&(h=new f(h,m,null,n,u),d.push({event:h,listeners:b}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==hp&&(m=n.relatedTarget||n.fromElement)&&(io(m)||m[Hr]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(m=n.relatedTarget||n.toElement,f=c,m=m?io(m):null,m!==null&&(S=Lo(m),m!==S||m.tag!==5&&m.tag!==6)&&(m=null)):(f=null,m=c),f!==m)){if(b=n0,v="onMouseLeave",w="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(b=i0,v="onPointerLeave",w="onPointerEnter",p="pointer"),S=f==null?h:ns(f),g=m==null?h:ns(m),h=new b(v,p+"leave",f,n,u),h.target=S,h.relatedTarget=g,v=null,io(u)===c&&(b=new b(w,p+"enter",m,n,u),b.target=g,b.relatedTarget=S,v=b),S=v,f&&m)t:{for(b=f,w=m,p=0,g=b;g;g=Uo(g))p++;for(g=0,v=w;v;v=Uo(v))g++;for(;0<p-g;)b=Uo(b),p--;for(;0<g-p;)w=Uo(w),g--;for(;p--;){if(b===w||w!==null&&b===w.alternate)break t;b=Uo(b),w=Uo(w)}b=null}else b=null;f!==null&&m0(d,h,f,b,!1),m!==null&&S!==null&&m0(d,S,m,b,!0)}}e:{if(h=c?ns(c):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var E=XI;else if(a0(h))if(B_)E=t2;else{E=ZI;var A=JI}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=e2);if(E&&(E=E(t,c))){N_(d,E,n,u);break e}A&&A(t,h,c),t==="focusout"&&(A=h._wrapperState)&&A.controlled&&h.type==="number"&&ap(h,"number",h.value)}switch(A=c?ns(c):window,t){case"focusin":(a0(A)||A.contentEditable==="true")&&(es=A,wp=c,Ka=null);break;case"focusout":Ka=wp=es=null;break;case"mousedown":_p=!0;break;case"contextmenu":case"mouseup":case"dragend":_p=!1,h0(d,n,u);break;case"selectionchange":if(i2)break;case"keydown":case"keyup":h0(d,n,u)}var R;if(dg)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Zo?L_(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(O_&&n.locale!=="ko"&&(Zo||_!=="onCompositionStart"?_==="onCompositionEnd"&&Zo&&(R=M_()):(gi=u,lg="value"in gi?gi.value:gi.textContent,Zo=!0)),A=Nu(c,_),0<A.length&&(_=new r0(_,t,null,n,u),d.push({event:_,listeners:A}),R?_.data=R:(R=D_(n),R!==null&&(_.data=R)))),(R=YI?GI(t,n):qI(t,n))&&(c=Nu(c,"onBeforeInput"),0<c.length&&(u=new r0("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=R))}G_(d,e)})}function kl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Nu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ml(t,n),o!=null&&r.unshift(kl(t,o,i)),o=ml(t,e),o!=null&&r.push(kl(t,o,i))),t=t.return}return r}function Uo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function m0(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=ml(n,o),l!=null&&s.unshift(kl(n,l,a))):i||(l=ml(n,o),l!=null&&s.push(kl(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var l2=/\r\n?/g,c2=/\u0000|\uFFFD/g;function g0(t){return(typeof t=="string"?t:""+t).replace(l2,`
`).replace(c2,"")}function Bc(t,e,n){if(e=g0(e),g0(t)!==e&&n)throw Error(W(425))}function Bu(){}var bp=null,kp=null;function Ep(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var xp=typeof setTimeout=="function"?setTimeout:void 0,u2=typeof clearTimeout=="function"?clearTimeout:void 0,v0=typeof Promise=="function"?Promise:void 0,d2=typeof queueMicrotask=="function"?queueMicrotask:typeof v0<"u"?function(t){return v0.resolve(null).then(t).catch(h2)}:xp;function h2(t){setTimeout(function(){throw t})}function lf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),yl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);yl(e)}function Si(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function y0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var qs=Math.random().toString(36).slice(2),lr="__reactFiber$"+qs,El="__reactProps$"+qs,Hr="__reactContainer$"+qs,Sp="__reactEvents$"+qs,f2="__reactListeners$"+qs,p2="__reactHandles$"+qs;function io(t){var e=t[lr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Hr]||n[lr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=y0(t);t!==null;){if(n=t[lr])return n;t=y0(t)}return e}t=n,n=t.parentNode}return null}function tc(t){return t=t[lr]||t[Hr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ns(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function Dd(t){return t[El]||null}var Tp=[],rs=-1;function ji(t){return{current:t}}function Ue(t){0>rs||(t.current=Tp[rs],Tp[rs]=null,rs--)}function Be(t,e){rs++,Tp[rs]=t.current,t.current=e}var Ni={},Gt=ji(Ni),un=ji(!1),wo=Ni;function Cs(t,e){var n=t.type.contextTypes;if(!n)return Ni;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function dn(t){return t=t.childContextTypes,t!=null}function Fu(){Ue(un),Ue(Gt)}function w0(t,e,n){if(Gt.current!==Ni)throw Error(W(168));Be(Gt,e),Be(un,n)}function K_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(W(108,JC(t)||"Unknown",i));return Xe({},n,r)}function Vu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ni,wo=Gt.current,Be(Gt,t),Be(un,un.current),!0}function _0(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=K_(t,e,wo),r.__reactInternalMemoizedMergedChildContext=t,Ue(un),Ue(Gt),Be(Gt,t)):Ue(un),Be(un,n)}var Ar=null,Nd=!1,cf=!1;function Q_(t){Ar===null?Ar=[t]:Ar.push(t)}function m2(t){Nd=!0,Q_(t)}function zi(){if(!cf&&Ar!==null){cf=!0;var t=0,e=Pe;try{var n=Ar;for(Pe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ar=null,Nd=!1}catch(i){throw Ar!==null&&(Ar=Ar.slice(t+1)),b_(ig,zi),i}finally{Pe=e,cf=!1}}return null}var is=[],os=0,$u=null,Uu=0,Cn=[],In=0,_o=null,Pr=1,Mr="";function Zi(t,e){is[os++]=Uu,is[os++]=$u,$u=t,Uu=e}function X_(t,e,n){Cn[In++]=Pr,Cn[In++]=Mr,Cn[In++]=_o,_o=t;var r=Pr;t=Mr;var i=32-Qn(r)-1;r&=~(1<<i),n+=1;var o=32-Qn(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Pr=1<<32-Qn(e)+i|n<<i|r,Mr=o+t}else Pr=1<<o|n<<i|r,Mr=t}function fg(t){t.return!==null&&(Zi(t,1),X_(t,1,0))}function pg(t){for(;t===$u;)$u=is[--os],is[os]=null,Uu=is[--os],is[os]=null;for(;t===_o;)_o=Cn[--In],Cn[In]=null,Mr=Cn[--In],Cn[In]=null,Pr=Cn[--In],Cn[In]=null}var wn=null,vn=null,Ye=!1,Hn=null;function J_(t,e){var n=Mn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function b0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,wn=t,vn=Si(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,wn=t,vn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=_o!==null?{id:Pr,overflow:Mr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Mn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,wn=t,vn=null,!0):!1;default:return!1}}function Cp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ip(t){if(Ye){var e=vn;if(e){var n=e;if(!b0(t,e)){if(Cp(t))throw Error(W(418));e=Si(n.nextSibling);var r=wn;e&&b0(t,e)?J_(r,n):(t.flags=t.flags&-4097|2,Ye=!1,wn=t)}}else{if(Cp(t))throw Error(W(418));t.flags=t.flags&-4097|2,Ye=!1,wn=t}}}function k0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;wn=t}function Fc(t){if(t!==wn)return!1;if(!Ye)return k0(t),Ye=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ep(t.type,t.memoizedProps)),e&&(e=vn)){if(Cp(t))throw Z_(),Error(W(418));for(;e;)J_(t,e),e=Si(e.nextSibling)}if(k0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){vn=Si(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}vn=null}}else vn=wn?Si(t.stateNode.nextSibling):null;return!0}function Z_(){for(var t=vn;t;)t=Si(t.nextSibling)}function Is(){vn=wn=null,Ye=!1}function mg(t){Hn===null?Hn=[t]:Hn.push(t)}var g2=ei.ReactCurrentBatchConfig;function Un(t,e){if(t&&t.defaultProps){e=Xe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var ju=ji(null),zu=null,ss=null,gg=null;function vg(){gg=ss=zu=null}function yg(t){var e=ju.current;Ue(ju),t._currentValue=e}function Ap(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function gs(t,e){zu=t,gg=ss=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ln=!0),t.firstContext=null)}function Dn(t){var e=t._currentValue;if(gg!==t)if(t={context:t,memoizedValue:e,next:null},ss===null){if(zu===null)throw Error(W(308));ss=t,zu.dependencies={lanes:0,firstContext:t}}else ss=ss.next=t;return e}var oo=null;function wg(t){oo===null?oo=[t]:oo.push(t)}function eb(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,wg(e)):(n.next=i.next,i.next=n),e.interleaved=n,Wr(t,r)}function Wr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var hi=!1;function _g(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tb(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Br(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ti(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Te&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Wr(t,n)}return i=r.interleaved,i===null?(e.next=e,wg(r)):(e.next=i.next,i.next=e),r.interleaved=e,Wr(t,n)}function du(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,og(t,n)}}function E0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Hu(t,e,n,r){var i=t.updateQueue;hi=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,u=c=l=null,a=o;do{var h=a.lane,f=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,b=a;switch(h=e,f=n,b.tag){case 1:if(m=b.payload,typeof m=="function"){d=m.call(f,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=b.payload,h=typeof m=="function"?m.call(f,d,h):m,h==null)break e;d=Xe({},d,h);break e;case 2:hi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=d):u=u.next=f,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);ko|=s,t.lanes=s,t.memoizedState=d}}function x0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(W(191,i));i.call(r)}}}var nb=new e_.Component().refs;function Rp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Xe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Bd={isMounted:function(t){return(t=t._reactInternals)?Lo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=nn(),i=Ii(t),o=Br(r,i);o.payload=e,n!=null&&(o.callback=n),e=Ti(t,o,i),e!==null&&(Xn(e,t,i,r),du(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=nn(),i=Ii(t),o=Br(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Ti(t,o,i),e!==null&&(Xn(e,t,i,r),du(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=nn(),r=Ii(t),i=Br(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ti(t,i,r),e!==null&&(Xn(e,t,r,n),du(e,t,r))}};function S0(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!_l(n,r)||!_l(i,o):!0}function rb(t,e,n){var r=!1,i=Ni,o=e.contextType;return typeof o=="object"&&o!==null?o=Dn(o):(i=dn(e)?wo:Gt.current,r=e.contextTypes,o=(r=r!=null)?Cs(t,i):Ni),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Bd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function T0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Bd.enqueueReplaceState(e,e.state,null)}function Pp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=nb,_g(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Dn(o):(o=dn(e)?wo:Gt.current,i.context=Cs(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Rp(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Bd.enqueueReplaceState(i,i.state,null),Hu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ga(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===nb&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function Vc(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function C0(t){var e=t._init;return e(t._payload)}function ib(t){function e(w,p){if(t){var g=w.deletions;g===null?(w.deletions=[p],w.flags|=16):g.push(p)}}function n(w,p){if(!t)return null;for(;p!==null;)e(w,p),p=p.sibling;return null}function r(w,p){for(w=new Map;p!==null;)p.key!==null?w.set(p.key,p):w.set(p.index,p),p=p.sibling;return w}function i(w,p){return w=Ai(w,p),w.index=0,w.sibling=null,w}function o(w,p,g){return w.index=g,t?(g=w.alternate,g!==null?(g=g.index,g<p?(w.flags|=2,p):g):(w.flags|=2,p)):(w.flags|=1048576,p)}function s(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,p,g,v){return p===null||p.tag!==6?(p=gf(g,w.mode,v),p.return=w,p):(p=i(p,g),p.return=w,p)}function l(w,p,g,v){var E=g.type;return E===Jo?u(w,p,g.props.children,v,g.key):p!==null&&(p.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===di&&C0(E)===p.type)?(v=i(p,g.props),v.ref=ga(w,p,g),v.return=w,v):(v=vu(g.type,g.key,g.props,null,w.mode,v),v.ref=ga(w,p,g),v.return=w,v)}function c(w,p,g,v){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=vf(g,w.mode,v),p.return=w,p):(p=i(p,g.children||[]),p.return=w,p)}function u(w,p,g,v,E){return p===null||p.tag!==7?(p=po(g,w.mode,v,E),p.return=w,p):(p=i(p,g),p.return=w,p)}function d(w,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=gf(""+p,w.mode,g),p.return=w,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ic:return g=vu(p.type,p.key,p.props,null,w.mode,g),g.ref=ga(w,null,p),g.return=w,g;case Xo:return p=vf(p,w.mode,g),p.return=w,p;case di:var v=p._init;return d(w,v(p._payload),g)}if(Da(p)||da(p))return p=po(p,w.mode,g,null),p.return=w,p;Vc(w,p)}return null}function h(w,p,g,v){var E=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return E!==null?null:a(w,p,""+g,v);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ic:return g.key===E?l(w,p,g,v):null;case Xo:return g.key===E?c(w,p,g,v):null;case di:return E=g._init,h(w,p,E(g._payload),v)}if(Da(g)||da(g))return E!==null?null:u(w,p,g,v,null);Vc(w,g)}return null}function f(w,p,g,v,E){if(typeof v=="string"&&v!==""||typeof v=="number")return w=w.get(g)||null,a(p,w,""+v,E);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ic:return w=w.get(v.key===null?g:v.key)||null,l(p,w,v,E);case Xo:return w=w.get(v.key===null?g:v.key)||null,c(p,w,v,E);case di:var A=v._init;return f(w,p,g,A(v._payload),E)}if(Da(v)||da(v))return w=w.get(g)||null,u(p,w,v,E,null);Vc(p,v)}return null}function m(w,p,g,v){for(var E=null,A=null,R=p,_=p=0,y=null;R!==null&&_<g.length;_++){R.index>_?(y=R,R=null):y=R.sibling;var k=h(w,R,g[_],v);if(k===null){R===null&&(R=y);break}t&&R&&k.alternate===null&&e(w,R),p=o(k,p,_),A===null?E=k:A.sibling=k,A=k,R=y}if(_===g.length)return n(w,R),Ye&&Zi(w,_),E;if(R===null){for(;_<g.length;_++)R=d(w,g[_],v),R!==null&&(p=o(R,p,_),A===null?E=R:A.sibling=R,A=R);return Ye&&Zi(w,_),E}for(R=r(w,R);_<g.length;_++)y=f(R,w,_,g[_],v),y!==null&&(t&&y.alternate!==null&&R.delete(y.key===null?_:y.key),p=o(y,p,_),A===null?E=y:A.sibling=y,A=y);return t&&R.forEach(function(x){return e(w,x)}),Ye&&Zi(w,_),E}function b(w,p,g,v){var E=da(g);if(typeof E!="function")throw Error(W(150));if(g=E.call(g),g==null)throw Error(W(151));for(var A=E=null,R=p,_=p=0,y=null,k=g.next();R!==null&&!k.done;_++,k=g.next()){R.index>_?(y=R,R=null):y=R.sibling;var x=h(w,R,k.value,v);if(x===null){R===null&&(R=y);break}t&&R&&x.alternate===null&&e(w,R),p=o(x,p,_),A===null?E=x:A.sibling=x,A=x,R=y}if(k.done)return n(w,R),Ye&&Zi(w,_),E;if(R===null){for(;!k.done;_++,k=g.next())k=d(w,k.value,v),k!==null&&(p=o(k,p,_),A===null?E=k:A.sibling=k,A=k);return Ye&&Zi(w,_),E}for(R=r(w,R);!k.done;_++,k=g.next())k=f(R,w,_,k.value,v),k!==null&&(t&&k.alternate!==null&&R.delete(k.key===null?_:k.key),p=o(k,p,_),A===null?E=k:A.sibling=k,A=k);return t&&R.forEach(function(I){return e(w,I)}),Ye&&Zi(w,_),E}function S(w,p,g,v){if(typeof g=="object"&&g!==null&&g.type===Jo&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Ic:e:{for(var E=g.key,A=p;A!==null;){if(A.key===E){if(E=g.type,E===Jo){if(A.tag===7){n(w,A.sibling),p=i(A,g.props.children),p.return=w,w=p;break e}}else if(A.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===di&&C0(E)===A.type){n(w,A.sibling),p=i(A,g.props),p.ref=ga(w,A,g),p.return=w,w=p;break e}n(w,A);break}else e(w,A);A=A.sibling}g.type===Jo?(p=po(g.props.children,w.mode,v,g.key),p.return=w,w=p):(v=vu(g.type,g.key,g.props,null,w.mode,v),v.ref=ga(w,p,g),v.return=w,w=v)}return s(w);case Xo:e:{for(A=g.key;p!==null;){if(p.key===A)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){n(w,p.sibling),p=i(p,g.children||[]),p.return=w,w=p;break e}else{n(w,p);break}else e(w,p);p=p.sibling}p=vf(g,w.mode,v),p.return=w,w=p}return s(w);case di:return A=g._init,S(w,p,A(g._payload),v)}if(Da(g))return m(w,p,g,v);if(da(g))return b(w,p,g,v);Vc(w,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(n(w,p.sibling),p=i(p,g),p.return=w,w=p):(n(w,p),p=gf(g,w.mode,v),p.return=w,w=p),s(w)):n(w,p)}return S}var As=ib(!0),ob=ib(!1),nc={},mr=ji(nc),xl=ji(nc),Sl=ji(nc);function so(t){if(t===nc)throw Error(W(174));return t}function bg(t,e){switch(Be(Sl,e),Be(xl,t),Be(mr,nc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:cp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=cp(e,t)}Ue(mr),Be(mr,e)}function Rs(){Ue(mr),Ue(xl),Ue(Sl)}function sb(t){so(Sl.current);var e=so(mr.current),n=cp(e,t.type);e!==n&&(Be(xl,t),Be(mr,n))}function kg(t){xl.current===t&&(Ue(mr),Ue(xl))}var Ke=ji(0);function Wu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var uf=[];function Eg(){for(var t=0;t<uf.length;t++)uf[t]._workInProgressVersionPrimary=null;uf.length=0}var hu=ei.ReactCurrentDispatcher,df=ei.ReactCurrentBatchConfig,bo=0,Qe=null,vt=null,Et=null,Yu=!1,Qa=!1,Tl=0,v2=0;function Bt(){throw Error(W(321))}function xg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Jn(t[n],e[n]))return!1;return!0}function Sg(t,e,n,r,i,o){if(bo=o,Qe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,hu.current=t===null||t.memoizedState===null?b2:k2,t=n(r,i),Qa){o=0;do{if(Qa=!1,Tl=0,25<=o)throw Error(W(301));o+=1,Et=vt=null,e.updateQueue=null,hu.current=E2,t=n(r,i)}while(Qa)}if(hu.current=Gu,e=vt!==null&&vt.next!==null,bo=0,Et=vt=Qe=null,Yu=!1,e)throw Error(W(300));return t}function Tg(){var t=Tl!==0;return Tl=0,t}function ar(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Qe.memoizedState=Et=t:Et=Et.next=t,Et}function Nn(){if(vt===null){var t=Qe.alternate;t=t!==null?t.memoizedState:null}else t=vt.next;var e=Et===null?Qe.memoizedState:Et.next;if(e!==null)Et=e,vt=t;else{if(t===null)throw Error(W(310));vt=t,t={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},Et===null?Qe.memoizedState=Et=t:Et=Et.next=t}return Et}function Cl(t,e){return typeof e=="function"?e(t):e}function hf(t){var e=Nn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=vt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((bo&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,Qe.lanes|=u,ko|=u}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,Jn(r,e.memoizedState)||(ln=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Qe.lanes|=o,ko|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ff(t){var e=Nn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Jn(o,e.memoizedState)||(ln=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function ab(){}function lb(t,e){var n=Qe,r=Nn(),i=e(),o=!Jn(r.memoizedState,i);if(o&&(r.memoizedState=i,ln=!0),r=r.queue,Cg(db.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Et!==null&&Et.memoizedState.tag&1){if(n.flags|=2048,Il(9,ub.bind(null,n,r,i,e),void 0,null),xt===null)throw Error(W(349));bo&30||cb(n,e,i)}return i}function cb(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Qe.updateQueue,e===null?(e={lastEffect:null,stores:null},Qe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ub(t,e,n,r){e.value=n,e.getSnapshot=r,hb(e)&&fb(t)}function db(t,e,n){return n(function(){hb(e)&&fb(t)})}function hb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Jn(t,n)}catch{return!0}}function fb(t){var e=Wr(t,1);e!==null&&Xn(e,t,1,-1)}function I0(t){var e=ar();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cl,lastRenderedState:t},e.queue=t,t=t.dispatch=_2.bind(null,Qe,t),[e.memoizedState,t]}function Il(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Qe.updateQueue,e===null?(e={lastEffect:null,stores:null},Qe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function pb(){return Nn().memoizedState}function fu(t,e,n,r){var i=ar();Qe.flags|=t,i.memoizedState=Il(1|e,n,void 0,r===void 0?null:r)}function Fd(t,e,n,r){var i=Nn();r=r===void 0?null:r;var o=void 0;if(vt!==null){var s=vt.memoizedState;if(o=s.destroy,r!==null&&xg(r,s.deps)){i.memoizedState=Il(e,n,o,r);return}}Qe.flags|=t,i.memoizedState=Il(1|e,n,o,r)}function A0(t,e){return fu(8390656,8,t,e)}function Cg(t,e){return Fd(2048,8,t,e)}function mb(t,e){return Fd(4,2,t,e)}function gb(t,e){return Fd(4,4,t,e)}function vb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function yb(t,e,n){return n=n!=null?n.concat([t]):null,Fd(4,4,vb.bind(null,e,t),n)}function Ig(){}function wb(t,e){var n=Nn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function _b(t,e){var n=Nn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function bb(t,e,n){return bo&21?(Jn(n,e)||(n=x_(),Qe.lanes|=n,ko|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ln=!0),t.memoizedState=n)}function y2(t,e){var n=Pe;Pe=n!==0&&4>n?n:4,t(!0);var r=df.transition;df.transition={};try{t(!1),e()}finally{Pe=n,df.transition=r}}function kb(){return Nn().memoizedState}function w2(t,e,n){var r=Ii(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Eb(t))xb(e,n);else if(n=eb(t,e,n,r),n!==null){var i=nn();Xn(n,t,r,i),Sb(n,e,r)}}function _2(t,e,n){var r=Ii(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Eb(t))xb(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Jn(a,s)){var l=e.interleaved;l===null?(i.next=i,wg(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=eb(t,e,i,r),n!==null&&(i=nn(),Xn(n,t,r,i),Sb(n,e,r))}}function Eb(t){var e=t.alternate;return t===Qe||e!==null&&e===Qe}function xb(t,e){Qa=Yu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Sb(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,og(t,n)}}var Gu={readContext:Dn,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useInsertionEffect:Bt,useLayoutEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useMutableSource:Bt,useSyncExternalStore:Bt,useId:Bt,unstable_isNewReconciler:!1},b2={readContext:Dn,useCallback:function(t,e){return ar().memoizedState=[t,e===void 0?null:e],t},useContext:Dn,useEffect:A0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,fu(4194308,4,vb.bind(null,e,t),n)},useLayoutEffect:function(t,e){return fu(4194308,4,t,e)},useInsertionEffect:function(t,e){return fu(4,2,t,e)},useMemo:function(t,e){var n=ar();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ar();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=w2.bind(null,Qe,t),[r.memoizedState,t]},useRef:function(t){var e=ar();return t={current:t},e.memoizedState=t},useState:I0,useDebugValue:Ig,useDeferredValue:function(t){return ar().memoizedState=t},useTransition:function(){var t=I0(!1),e=t[0];return t=y2.bind(null,t[1]),ar().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Qe,i=ar();if(Ye){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),xt===null)throw Error(W(349));bo&30||cb(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,A0(db.bind(null,r,o,t),[t]),r.flags|=2048,Il(9,ub.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=ar(),e=xt.identifierPrefix;if(Ye){var n=Mr,r=Pr;n=(r&~(1<<32-Qn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Tl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=v2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},k2={readContext:Dn,useCallback:wb,useContext:Dn,useEffect:Cg,useImperativeHandle:yb,useInsertionEffect:mb,useLayoutEffect:gb,useMemo:_b,useReducer:hf,useRef:pb,useState:function(){return hf(Cl)},useDebugValue:Ig,useDeferredValue:function(t){var e=Nn();return bb(e,vt.memoizedState,t)},useTransition:function(){var t=hf(Cl)[0],e=Nn().memoizedState;return[t,e]},useMutableSource:ab,useSyncExternalStore:lb,useId:kb,unstable_isNewReconciler:!1},E2={readContext:Dn,useCallback:wb,useContext:Dn,useEffect:Cg,useImperativeHandle:yb,useInsertionEffect:mb,useLayoutEffect:gb,useMemo:_b,useReducer:ff,useRef:pb,useState:function(){return ff(Cl)},useDebugValue:Ig,useDeferredValue:function(t){var e=Nn();return vt===null?e.memoizedState=t:bb(e,vt.memoizedState,t)},useTransition:function(){var t=ff(Cl)[0],e=Nn().memoizedState;return[t,e]},useMutableSource:ab,useSyncExternalStore:lb,useId:kb,unstable_isNewReconciler:!1};function Ps(t,e){try{var n="",r=e;do n+=XC(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function pf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Mp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var x2=typeof WeakMap=="function"?WeakMap:Map;function Tb(t,e,n){n=Br(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ku||(Ku=!0,jp=r),Mp(t,e)},n}function Cb(t,e,n){n=Br(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Mp(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Mp(t,e),typeof r!="function"&&(Ci===null?Ci=new Set([this]):Ci.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function R0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new x2;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=F2.bind(null,t,e,n),e.then(t,t))}function P0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function M0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Br(-1,1),e.tag=2,Ti(n,e,1))),n.lanes|=1),t)}var S2=ei.ReactCurrentOwner,ln=!1;function en(t,e,n,r){e.child=t===null?ob(e,null,n,r):As(e,t.child,n,r)}function O0(t,e,n,r,i){n=n.render;var o=e.ref;return gs(e,i),r=Sg(t,e,n,r,o,i),n=Tg(),t!==null&&!ln?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Yr(t,e,i)):(Ye&&n&&fg(e),e.flags|=1,en(t,e,r,i),e.child)}function L0(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Ng(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Ib(t,e,o,r,i)):(t=vu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:_l,n(s,r)&&t.ref===e.ref)return Yr(t,e,i)}return e.flags|=1,t=Ai(o,r),t.ref=e.ref,t.return=e,e.child=t}function Ib(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(_l(o,r)&&t.ref===e.ref)if(ln=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(ln=!0);else return e.lanes=t.lanes,Yr(t,e,i)}return Op(t,e,n,r,i)}function Ab(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(ls,pn),pn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Be(ls,pn),pn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Be(ls,pn),pn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Be(ls,pn),pn|=r;return en(t,e,i,n),e.child}function Rb(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Op(t,e,n,r,i){var o=dn(n)?wo:Gt.current;return o=Cs(e,o),gs(e,i),n=Sg(t,e,n,r,o,i),r=Tg(),t!==null&&!ln?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Yr(t,e,i)):(Ye&&r&&fg(e),e.flags|=1,en(t,e,n,i),e.child)}function D0(t,e,n,r,i){if(dn(n)){var o=!0;Vu(e)}else o=!1;if(gs(e,i),e.stateNode===null)pu(t,e),rb(e,n,r),Pp(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Dn(c):(c=dn(n)?wo:Gt.current,c=Cs(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&T0(e,s,r,c),hi=!1;var h=e.memoizedState;s.state=h,Hu(e,r,s,i),l=e.memoizedState,a!==r||h!==l||un.current||hi?(typeof u=="function"&&(Rp(e,n,u,r),l=e.memoizedState),(a=hi||S0(e,n,a,r,h,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,tb(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Un(e.type,a),s.props=c,d=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Dn(l):(l=dn(n)?wo:Gt.current,l=Cs(e,l));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||h!==l)&&T0(e,s,r,l),hi=!1,h=e.memoizedState,s.state=h,Hu(e,r,s,i);var m=e.memoizedState;a!==d||h!==m||un.current||hi?(typeof f=="function"&&(Rp(e,n,f,r),m=e.memoizedState),(c=hi||S0(e,n,c,r,h,m,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),s.props=r,s.state=m,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Lp(t,e,n,r,o,i)}function Lp(t,e,n,r,i,o){Rb(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&_0(e,n,!1),Yr(t,e,o);r=e.stateNode,S2.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=As(e,t.child,null,o),e.child=As(e,null,a,o)):en(t,e,a,o),e.memoizedState=r.state,i&&_0(e,n,!0),e.child}function Pb(t){var e=t.stateNode;e.pendingContext?w0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&w0(t,e.context,!1),bg(t,e.containerInfo)}function N0(t,e,n,r,i){return Is(),mg(i),e.flags|=256,en(t,e,n,r),e.child}var Dp={dehydrated:null,treeContext:null,retryLane:0};function Np(t){return{baseLanes:t,cachePool:null,transitions:null}}function Mb(t,e,n){var r=e.pendingProps,i=Ke.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Be(Ke,i&1),t===null)return Ip(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Ud(s,r,0,null),t=po(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Np(n),e.memoizedState=Dp,t):Ag(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return T2(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ai(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Ai(a,o):(o=po(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Np(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Dp,r}return o=t.child,t=o.sibling,r=Ai(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ag(t,e){return e=Ud({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function $c(t,e,n,r){return r!==null&&mg(r),As(e,t.child,null,n),t=Ag(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function T2(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=pf(Error(W(422))),$c(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Ud({mode:"visible",children:r.children},i,0,null),o=po(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&As(e,t.child,null,s),e.child.memoizedState=Np(s),e.memoizedState=Dp,o);if(!(e.mode&1))return $c(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(W(419)),r=pf(o,r,void 0),$c(t,e,s,r)}if(a=(s&t.childLanes)!==0,ln||a){if(r=xt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Wr(t,i),Xn(r,t,i,-1))}return Dg(),r=pf(Error(W(421))),$c(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=V2.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,vn=Si(i.nextSibling),wn=e,Ye=!0,Hn=null,t!==null&&(Cn[In++]=Pr,Cn[In++]=Mr,Cn[In++]=_o,Pr=t.id,Mr=t.overflow,_o=e),e=Ag(e,r.children),e.flags|=4096,e)}function B0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ap(t.return,e,n)}function mf(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Ob(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(en(t,e,r.children,n),r=Ke.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&B0(t,n,e);else if(t.tag===19)B0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Be(Ke,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Wu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),mf(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Wu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}mf(e,!0,n,null,o);break;case"together":mf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function pu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Yr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ko|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=Ai(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ai(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function C2(t,e,n){switch(e.tag){case 3:Pb(e),Is();break;case 5:sb(e);break;case 1:dn(e.type)&&Vu(e);break;case 4:bg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Be(ju,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Be(Ke,Ke.current&1),e.flags|=128,null):n&e.child.childLanes?Mb(t,e,n):(Be(Ke,Ke.current&1),t=Yr(t,e,n),t!==null?t.sibling:null);Be(Ke,Ke.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Ob(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Be(Ke,Ke.current),r)break;return null;case 22:case 23:return e.lanes=0,Ab(t,e,n)}return Yr(t,e,n)}var Lb,Bp,Db,Nb;Lb=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Bp=function(){};Db=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,so(mr.current);var o=null;switch(n){case"input":i=op(t,i),r=op(t,r),o=[];break;case"select":i=Xe({},i,{value:void 0}),r=Xe({},r,{value:void 0}),o=[];break;case"textarea":i=lp(t,i),r=lp(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Bu)}up(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(fl.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(fl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Fe("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};Nb=function(t,e,n,r){n!==r&&(e.flags|=4)};function va(t,e){if(!Ye)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ft(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function I2(t,e,n){var r=e.pendingProps;switch(pg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(e),null;case 1:return dn(e.type)&&Fu(),Ft(e),null;case 3:return r=e.stateNode,Rs(),Ue(un),Ue(Gt),Eg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Fc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Hn!==null&&(Wp(Hn),Hn=null))),Bp(t,e),Ft(e),null;case 5:kg(e);var i=so(Sl.current);if(n=e.type,t!==null&&e.stateNode!=null)Db(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return Ft(e),null}if(t=so(mr.current),Fc(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[lr]=e,r[El]=o,t=(e.mode&1)!==0,n){case"dialog":Fe("cancel",r),Fe("close",r);break;case"iframe":case"object":case"embed":Fe("load",r);break;case"video":case"audio":for(i=0;i<Ba.length;i++)Fe(Ba[i],r);break;case"source":Fe("error",r);break;case"img":case"image":case"link":Fe("error",r),Fe("load",r);break;case"details":Fe("toggle",r);break;case"input":Yy(r,o),Fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fe("invalid",r);break;case"textarea":qy(r,o),Fe("invalid",r)}up(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Bc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Bc(r.textContent,a,t),i=["children",""+a]):fl.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Fe("scroll",r)}switch(n){case"input":Ac(r),Gy(r,o,!0);break;case"textarea":Ac(r),Ky(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Bu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=c_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[lr]=e,t[El]=r,Lb(t,e,!1,!1),e.stateNode=t;e:{switch(s=dp(n,r),n){case"dialog":Fe("cancel",t),Fe("close",t),i=r;break;case"iframe":case"object":case"embed":Fe("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ba.length;i++)Fe(Ba[i],t);i=r;break;case"source":Fe("error",t),i=r;break;case"img":case"image":case"link":Fe("error",t),Fe("load",t),i=r;break;case"details":Fe("toggle",t),i=r;break;case"input":Yy(t,r),i=op(t,r),Fe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Xe({},r,{value:void 0}),Fe("invalid",t);break;case"textarea":qy(t,r),i=lp(t,r),Fe("invalid",t);break;default:i=r}up(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?h_(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&u_(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&pl(t,l):typeof l=="number"&&pl(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(fl.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Fe("scroll",t):l!=null&&Zm(t,o,l,s))}switch(n){case"input":Ac(t),Gy(t,r,!1);break;case"textarea":Ac(t),Ky(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Di(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?hs(t,!!r.multiple,o,!1):r.defaultValue!=null&&hs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Bu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ft(e),null;case 6:if(t&&e.stateNode!=null)Nb(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=so(Sl.current),so(mr.current),Fc(e)){if(r=e.stateNode,n=e.memoizedProps,r[lr]=e,(o=r.nodeValue!==n)&&(t=wn,t!==null))switch(t.tag){case 3:Bc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Bc(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[lr]=e,e.stateNode=r}return Ft(e),null;case 13:if(Ue(Ke),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ye&&vn!==null&&e.mode&1&&!(e.flags&128))Z_(),Is(),e.flags|=98560,o=!1;else if(o=Fc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(W(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(W(317));o[lr]=e}else Is(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ft(e),o=!1}else Hn!==null&&(Wp(Hn),Hn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ke.current&1?wt===0&&(wt=3):Dg())),e.updateQueue!==null&&(e.flags|=4),Ft(e),null);case 4:return Rs(),Bp(t,e),t===null&&bl(e.stateNode.containerInfo),Ft(e),null;case 10:return yg(e.type._context),Ft(e),null;case 17:return dn(e.type)&&Fu(),Ft(e),null;case 19:if(Ue(Ke),o=e.memoizedState,o===null)return Ft(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)va(o,!1);else{if(wt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Wu(t),s!==null){for(e.flags|=128,va(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Be(Ke,Ke.current&1|2),e.child}t=t.sibling}o.tail!==null&&ct()>Ms&&(e.flags|=128,r=!0,va(o,!1),e.lanes=4194304)}else{if(!r)if(t=Wu(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),va(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Ye)return Ft(e),null}else 2*ct()-o.renderingStartTime>Ms&&n!==1073741824&&(e.flags|=128,r=!0,va(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ct(),e.sibling=null,n=Ke.current,Be(Ke,r?n&1|2:n&1),e):(Ft(e),null);case 22:case 23:return Lg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?pn&1073741824&&(Ft(e),e.subtreeFlags&6&&(e.flags|=8192)):Ft(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function A2(t,e){switch(pg(e),e.tag){case 1:return dn(e.type)&&Fu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Rs(),Ue(un),Ue(Gt),Eg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return kg(e),null;case 13:if(Ue(Ke),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));Is()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ue(Ke),null;case 4:return Rs(),null;case 10:return yg(e.type._context),null;case 22:case 23:return Lg(),null;case 24:return null;default:return null}}var Uc=!1,jt=!1,R2=typeof WeakSet=="function"?WeakSet:Set,J=null;function as(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ze(t,e,r)}else n.current=null}function Fp(t,e,n){try{n()}catch(r){Ze(t,e,r)}}var F0=!1;function P2(t,e){if(bp=Lu,t=$_(),hg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++c===i&&(a=s),h===o&&++u===r&&(l=s),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(kp={focusedElem:t,selectionRange:n},Lu=!1,J=e;J!==null;)if(e=J,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,J=t;else for(;J!==null;){e=J;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var b=m.memoizedProps,S=m.memoizedState,w=e.stateNode,p=w.getSnapshotBeforeUpdate(e.elementType===e.type?b:Un(e.type,b),S);w.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(v){Ze(e,e.return,v)}if(t=e.sibling,t!==null){t.return=e.return,J=t;break}J=e.return}return m=F0,F0=!1,m}function Xa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Fp(e,n,o)}i=i.next}while(i!==r)}}function Vd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Vp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Bb(t){var e=t.alternate;e!==null&&(t.alternate=null,Bb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[lr],delete e[El],delete e[Sp],delete e[f2],delete e[p2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Fb(t){return t.tag===5||t.tag===3||t.tag===4}function V0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Fb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $p(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Bu));else if(r!==4&&(t=t.child,t!==null))for($p(t,e,n),t=t.sibling;t!==null;)$p(t,e,n),t=t.sibling}function Up(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Up(t,e,n),t=t.sibling;t!==null;)Up(t,e,n),t=t.sibling}var It=null,jn=!1;function ai(t,e,n){for(n=n.child;n!==null;)Vb(t,e,n),n=n.sibling}function Vb(t,e,n){if(pr&&typeof pr.onCommitFiberUnmount=="function")try{pr.onCommitFiberUnmount(Pd,n)}catch{}switch(n.tag){case 5:jt||as(n,e);case 6:var r=It,i=jn;It=null,ai(t,e,n),It=r,jn=i,It!==null&&(jn?(t=It,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):It.removeChild(n.stateNode));break;case 18:It!==null&&(jn?(t=It,n=n.stateNode,t.nodeType===8?lf(t.parentNode,n):t.nodeType===1&&lf(t,n),yl(t)):lf(It,n.stateNode));break;case 4:r=It,i=jn,It=n.stateNode.containerInfo,jn=!0,ai(t,e,n),It=r,jn=i;break;case 0:case 11:case 14:case 15:if(!jt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Fp(n,e,s),i=i.next}while(i!==r)}ai(t,e,n);break;case 1:if(!jt&&(as(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ze(n,e,a)}ai(t,e,n);break;case 21:ai(t,e,n);break;case 22:n.mode&1?(jt=(r=jt)||n.memoizedState!==null,ai(t,e,n),jt=r):ai(t,e,n);break;default:ai(t,e,n)}}function $0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new R2),e.forEach(function(r){var i=$2.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function $n(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:It=a.stateNode,jn=!1;break e;case 3:It=a.stateNode.containerInfo,jn=!0;break e;case 4:It=a.stateNode.containerInfo,jn=!0;break e}a=a.return}if(It===null)throw Error(W(160));Vb(o,s,i),It=null,jn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Ze(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)$b(e,t),e=e.sibling}function $b(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if($n(e,t),ir(t),r&4){try{Xa(3,t,t.return),Vd(3,t)}catch(b){Ze(t,t.return,b)}try{Xa(5,t,t.return)}catch(b){Ze(t,t.return,b)}}break;case 1:$n(e,t),ir(t),r&512&&n!==null&&as(n,n.return);break;case 5:if($n(e,t),ir(t),r&512&&n!==null&&as(n,n.return),t.flags&32){var i=t.stateNode;try{pl(i,"")}catch(b){Ze(t,t.return,b)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&a_(i,o),dp(a,s);var c=dp(a,o);for(s=0;s<l.length;s+=2){var u=l[s],d=l[s+1];u==="style"?h_(i,d):u==="dangerouslySetInnerHTML"?u_(i,d):u==="children"?pl(i,d):Zm(i,u,d,c)}switch(a){case"input":sp(i,o);break;case"textarea":l_(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var f=o.value;f!=null?hs(i,!!o.multiple,f,!1):h!==!!o.multiple&&(o.defaultValue!=null?hs(i,!!o.multiple,o.defaultValue,!0):hs(i,!!o.multiple,o.multiple?[]:"",!1))}i[El]=o}catch(b){Ze(t,t.return,b)}}break;case 6:if($n(e,t),ir(t),r&4){if(t.stateNode===null)throw Error(W(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(b){Ze(t,t.return,b)}}break;case 3:if($n(e,t),ir(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{yl(e.containerInfo)}catch(b){Ze(t,t.return,b)}break;case 4:$n(e,t),ir(t);break;case 13:$n(e,t),ir(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Mg=ct())),r&4&&$0(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(jt=(c=jt)||u,$n(e,t),jt=c):$n(e,t),ir(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(J=t,u=t.child;u!==null;){for(d=J=u;J!==null;){switch(h=J,f=h.child,h.tag){case 0:case 11:case 14:case 15:Xa(4,h,h.return);break;case 1:as(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(b){Ze(r,n,b)}}break;case 5:as(h,h.return);break;case 22:if(h.memoizedState!==null){j0(d);continue}}f!==null?(f.return=h,J=f):j0(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=d_("display",s))}catch(b){Ze(t,t.return,b)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(b){Ze(t,t.return,b)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:$n(e,t),ir(t),r&4&&$0(t);break;case 21:break;default:$n(e,t),ir(t)}}function ir(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Fb(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(pl(i,""),r.flags&=-33);var o=V0(t);Up(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=V0(t);$p(t,a,s);break;default:throw Error(W(161))}}catch(l){Ze(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function M2(t,e,n){J=t,Ub(t)}function Ub(t,e,n){for(var r=(t.mode&1)!==0;J!==null;){var i=J,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Uc;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||jt;a=Uc;var c=jt;if(Uc=s,(jt=l)&&!c)for(J=i;J!==null;)s=J,l=s.child,s.tag===22&&s.memoizedState!==null?z0(i):l!==null?(l.return=s,J=l):z0(i);for(;o!==null;)J=o,Ub(o),o=o.sibling;J=i,Uc=a,jt=c}U0(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,J=o):U0(t)}}function U0(t){for(;J!==null;){var e=J;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:jt||Vd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!jt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Un(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&x0(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}x0(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&yl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}jt||e.flags&512&&Vp(e)}catch(h){Ze(e,e.return,h)}}if(e===t){J=null;break}if(n=e.sibling,n!==null){n.return=e.return,J=n;break}J=e.return}}function j0(t){for(;J!==null;){var e=J;if(e===t){J=null;break}var n=e.sibling;if(n!==null){n.return=e.return,J=n;break}J=e.return}}function z0(t){for(;J!==null;){var e=J;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Vd(4,e)}catch(l){Ze(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ze(e,i,l)}}var o=e.return;try{Vp(e)}catch(l){Ze(e,o,l)}break;case 5:var s=e.return;try{Vp(e)}catch(l){Ze(e,s,l)}}}catch(l){Ze(e,e.return,l)}if(e===t){J=null;break}var a=e.sibling;if(a!==null){a.return=e.return,J=a;break}J=e.return}}var O2=Math.ceil,qu=ei.ReactCurrentDispatcher,Rg=ei.ReactCurrentOwner,On=ei.ReactCurrentBatchConfig,Te=0,xt=null,pt=null,Mt=0,pn=0,ls=ji(0),wt=0,Al=null,ko=0,$d=0,Pg=0,Ja=null,an=null,Mg=0,Ms=1/0,Cr=null,Ku=!1,jp=null,Ci=null,jc=!1,vi=null,Qu=0,Za=0,zp=null,mu=-1,gu=0;function nn(){return Te&6?ct():mu!==-1?mu:mu=ct()}function Ii(t){return t.mode&1?Te&2&&Mt!==0?Mt&-Mt:g2.transition!==null?(gu===0&&(gu=x_()),gu):(t=Pe,t!==0||(t=window.event,t=t===void 0?16:P_(t.type)),t):1}function Xn(t,e,n,r){if(50<Za)throw Za=0,zp=null,Error(W(185));Zl(t,n,r),(!(Te&2)||t!==xt)&&(t===xt&&(!(Te&2)&&($d|=n),wt===4&&pi(t,Mt)),hn(t,r),n===1&&Te===0&&!(e.mode&1)&&(Ms=ct()+500,Nd&&zi()))}function hn(t,e){var n=t.callbackNode;gI(t,e);var r=Ou(t,t===xt?Mt:0);if(r===0)n!==null&&Jy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Jy(n),e===1)t.tag===0?m2(H0.bind(null,t)):Q_(H0.bind(null,t)),d2(function(){!(Te&6)&&zi()}),n=null;else{switch(S_(r)){case 1:n=ig;break;case 4:n=k_;break;case 16:n=Mu;break;case 536870912:n=E_;break;default:n=Mu}n=Kb(n,jb.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function jb(t,e){if(mu=-1,gu=0,Te&6)throw Error(W(327));var n=t.callbackNode;if(vs()&&t.callbackNode!==n)return null;var r=Ou(t,t===xt?Mt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Xu(t,r);else{e=r;var i=Te;Te|=2;var o=Hb();(xt!==t||Mt!==e)&&(Cr=null,Ms=ct()+500,fo(t,e));do try{N2();break}catch(a){zb(t,a)}while(1);vg(),qu.current=o,Te=i,pt!==null?e=0:(xt=null,Mt=0,e=wt)}if(e!==0){if(e===2&&(i=gp(t),i!==0&&(r=i,e=Hp(t,i))),e===1)throw n=Al,fo(t,0),pi(t,r),hn(t,ct()),n;if(e===6)pi(t,r);else{if(i=t.current.alternate,!(r&30)&&!L2(i)&&(e=Xu(t,r),e===2&&(o=gp(t),o!==0&&(r=o,e=Hp(t,o))),e===1))throw n=Al,fo(t,0),pi(t,r),hn(t,ct()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:eo(t,an,Cr);break;case 3:if(pi(t,r),(r&130023424)===r&&(e=Mg+500-ct(),10<e)){if(Ou(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){nn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=xp(eo.bind(null,t,an,Cr),e);break}eo(t,an,Cr);break;case 4:if(pi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Qn(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=ct()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*O2(r/1960))-r,10<r){t.timeoutHandle=xp(eo.bind(null,t,an,Cr),r);break}eo(t,an,Cr);break;case 5:eo(t,an,Cr);break;default:throw Error(W(329))}}}return hn(t,ct()),t.callbackNode===n?jb.bind(null,t):null}function Hp(t,e){var n=Ja;return t.current.memoizedState.isDehydrated&&(fo(t,e).flags|=256),t=Xu(t,e),t!==2&&(e=an,an=n,e!==null&&Wp(e)),t}function Wp(t){an===null?an=t:an.push.apply(an,t)}function L2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Jn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function pi(t,e){for(e&=~Pg,e&=~$d,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Qn(e),r=1<<n;t[n]=-1,e&=~r}}function H0(t){if(Te&6)throw Error(W(327));vs();var e=Ou(t,0);if(!(e&1))return hn(t,ct()),null;var n=Xu(t,e);if(t.tag!==0&&n===2){var r=gp(t);r!==0&&(e=r,n=Hp(t,r))}if(n===1)throw n=Al,fo(t,0),pi(t,e),hn(t,ct()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,eo(t,an,Cr),hn(t,ct()),null}function Og(t,e){var n=Te;Te|=1;try{return t(e)}finally{Te=n,Te===0&&(Ms=ct()+500,Nd&&zi())}}function Eo(t){vi!==null&&vi.tag===0&&!(Te&6)&&vs();var e=Te;Te|=1;var n=On.transition,r=Pe;try{if(On.transition=null,Pe=1,t)return t()}finally{Pe=r,On.transition=n,Te=e,!(Te&6)&&zi()}}function Lg(){pn=ls.current,Ue(ls)}function fo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,u2(n)),pt!==null)for(n=pt.return;n!==null;){var r=n;switch(pg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Fu();break;case 3:Rs(),Ue(un),Ue(Gt),Eg();break;case 5:kg(r);break;case 4:Rs();break;case 13:Ue(Ke);break;case 19:Ue(Ke);break;case 10:yg(r.type._context);break;case 22:case 23:Lg()}n=n.return}if(xt=t,pt=t=Ai(t.current,null),Mt=pn=e,wt=0,Al=null,Pg=$d=ko=0,an=Ja=null,oo!==null){for(e=0;e<oo.length;e++)if(n=oo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}oo=null}return t}function zb(t,e){do{var n=pt;try{if(vg(),hu.current=Gu,Yu){for(var r=Qe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Yu=!1}if(bo=0,Et=vt=Qe=null,Qa=!1,Tl=0,Rg.current=null,n===null||n.return===null){wt=1,Al=e,pt=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Mt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=P0(s);if(f!==null){f.flags&=-257,M0(f,s,a,o,e),f.mode&1&&R0(o,c,e),e=f,l=c;var m=e.updateQueue;if(m===null){var b=new Set;b.add(l),e.updateQueue=b}else m.add(l);break e}else{if(!(e&1)){R0(o,c,e),Dg();break e}l=Error(W(426))}}else if(Ye&&a.mode&1){var S=P0(s);if(S!==null){!(S.flags&65536)&&(S.flags|=256),M0(S,s,a,o,e),mg(Ps(l,a));break e}}o=l=Ps(l,a),wt!==4&&(wt=2),Ja===null?Ja=[o]:Ja.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var w=Tb(o,l,e);E0(o,w);break e;case 1:a=l;var p=o.type,g=o.stateNode;if(!(o.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ci===null||!Ci.has(g)))){o.flags|=65536,e&=-e,o.lanes|=e;var v=Cb(o,a,e);E0(o,v);break e}}o=o.return}while(o!==null)}Yb(n)}catch(E){e=E,pt===n&&n!==null&&(pt=n=n.return);continue}break}while(1)}function Hb(){var t=qu.current;return qu.current=Gu,t===null?Gu:t}function Dg(){(wt===0||wt===3||wt===2)&&(wt=4),xt===null||!(ko&268435455)&&!($d&268435455)||pi(xt,Mt)}function Xu(t,e){var n=Te;Te|=2;var r=Hb();(xt!==t||Mt!==e)&&(Cr=null,fo(t,e));do try{D2();break}catch(i){zb(t,i)}while(1);if(vg(),Te=n,qu.current=r,pt!==null)throw Error(W(261));return xt=null,Mt=0,wt}function D2(){for(;pt!==null;)Wb(pt)}function N2(){for(;pt!==null&&!aI();)Wb(pt)}function Wb(t){var e=qb(t.alternate,t,pn);t.memoizedProps=t.pendingProps,e===null?Yb(t):pt=e,Rg.current=null}function Yb(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=A2(n,e),n!==null){n.flags&=32767,pt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{wt=6,pt=null;return}}else if(n=I2(n,e,pn),n!==null){pt=n;return}if(e=e.sibling,e!==null){pt=e;return}pt=e=t}while(e!==null);wt===0&&(wt=5)}function eo(t,e,n){var r=Pe,i=On.transition;try{On.transition=null,Pe=1,B2(t,e,n,r)}finally{On.transition=i,Pe=r}return null}function B2(t,e,n,r){do vs();while(vi!==null);if(Te&6)throw Error(W(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(vI(t,o),t===xt&&(pt=xt=null,Mt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||jc||(jc=!0,Kb(Mu,function(){return vs(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=On.transition,On.transition=null;var s=Pe;Pe=1;var a=Te;Te|=4,Rg.current=null,P2(t,n),$b(n,t),r2(kp),Lu=!!bp,kp=bp=null,t.current=n,M2(n),lI(),Te=a,Pe=s,On.transition=o}else t.current=n;if(jc&&(jc=!1,vi=t,Qu=i),o=t.pendingLanes,o===0&&(Ci=null),dI(n.stateNode),hn(t,ct()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ku)throw Ku=!1,t=jp,jp=null,t;return Qu&1&&t.tag!==0&&vs(),o=t.pendingLanes,o&1?t===zp?Za++:(Za=0,zp=t):Za=0,zi(),null}function vs(){if(vi!==null){var t=S_(Qu),e=On.transition,n=Pe;try{if(On.transition=null,Pe=16>t?16:t,vi===null)var r=!1;else{if(t=vi,vi=null,Qu=0,Te&6)throw Error(W(331));var i=Te;for(Te|=4,J=t.current;J!==null;){var o=J,s=o.child;if(J.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(J=c;J!==null;){var u=J;switch(u.tag){case 0:case 11:case 15:Xa(8,u,o)}var d=u.child;if(d!==null)d.return=u,J=d;else for(;J!==null;){u=J;var h=u.sibling,f=u.return;if(Bb(u),u===c){J=null;break}if(h!==null){h.return=f,J=h;break}J=f}}}var m=o.alternate;if(m!==null){var b=m.child;if(b!==null){m.child=null;do{var S=b.sibling;b.sibling=null,b=S}while(b!==null)}}J=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,J=s;else e:for(;J!==null;){if(o=J,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Xa(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,J=w;break e}J=o.return}}var p=t.current;for(J=p;J!==null;){s=J;var g=s.child;if(s.subtreeFlags&2064&&g!==null)g.return=s,J=g;else e:for(s=p;J!==null;){if(a=J,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Vd(9,a)}}catch(E){Ze(a,a.return,E)}if(a===s){J=null;break e}var v=a.sibling;if(v!==null){v.return=a.return,J=v;break e}J=a.return}}if(Te=i,zi(),pr&&typeof pr.onPostCommitFiberRoot=="function")try{pr.onPostCommitFiberRoot(Pd,t)}catch{}r=!0}return r}finally{Pe=n,On.transition=e}}return!1}function W0(t,e,n){e=Ps(n,e),e=Tb(t,e,1),t=Ti(t,e,1),e=nn(),t!==null&&(Zl(t,1,e),hn(t,e))}function Ze(t,e,n){if(t.tag===3)W0(t,t,n);else for(;e!==null;){if(e.tag===3){W0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ci===null||!Ci.has(r))){t=Ps(n,t),t=Cb(e,t,1),e=Ti(e,t,1),t=nn(),e!==null&&(Zl(e,1,t),hn(e,t));break}}e=e.return}}function F2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=nn(),t.pingedLanes|=t.suspendedLanes&n,xt===t&&(Mt&n)===n&&(wt===4||wt===3&&(Mt&130023424)===Mt&&500>ct()-Mg?fo(t,0):Pg|=n),hn(t,e)}function Gb(t,e){e===0&&(t.mode&1?(e=Mc,Mc<<=1,!(Mc&130023424)&&(Mc=4194304)):e=1);var n=nn();t=Wr(t,e),t!==null&&(Zl(t,e,n),hn(t,n))}function V2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Gb(t,n)}function $2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),Gb(t,n)}var qb;qb=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||un.current)ln=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ln=!1,C2(t,e,n);ln=!!(t.flags&131072)}else ln=!1,Ye&&e.flags&1048576&&X_(e,Uu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;pu(t,e),t=e.pendingProps;var i=Cs(e,Gt.current);gs(e,n),i=Sg(null,e,r,t,i,n);var o=Tg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,dn(r)?(o=!0,Vu(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,_g(e),i.updater=Bd,e.stateNode=i,i._reactInternals=e,Pp(e,r,t,n),e=Lp(null,e,r,!0,o,n)):(e.tag=0,Ye&&o&&fg(e),en(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(pu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=j2(r),t=Un(r,t),i){case 0:e=Op(null,e,r,t,n);break e;case 1:e=D0(null,e,r,t,n);break e;case 11:e=O0(null,e,r,t,n);break e;case 14:e=L0(null,e,r,Un(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Un(r,i),Op(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Un(r,i),D0(t,e,r,i,n);case 3:e:{if(Pb(e),t===null)throw Error(W(387));r=e.pendingProps,o=e.memoizedState,i=o.element,tb(t,e),Hu(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Ps(Error(W(423)),e),e=N0(t,e,r,n,i);break e}else if(r!==i){i=Ps(Error(W(424)),e),e=N0(t,e,r,n,i);break e}else for(vn=Si(e.stateNode.containerInfo.firstChild),wn=e,Ye=!0,Hn=null,n=ob(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Is(),r===i){e=Yr(t,e,n);break e}en(t,e,r,n)}e=e.child}return e;case 5:return sb(e),t===null&&Ip(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Ep(r,i)?s=null:o!==null&&Ep(r,o)&&(e.flags|=32),Rb(t,e),en(t,e,s,n),e.child;case 6:return t===null&&Ip(e),null;case 13:return Mb(t,e,n);case 4:return bg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=As(e,null,r,n):en(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Un(r,i),O0(t,e,r,i,n);case 7:return en(t,e,e.pendingProps,n),e.child;case 8:return en(t,e,e.pendingProps.children,n),e.child;case 12:return en(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Be(ju,r._currentValue),r._currentValue=s,o!==null)if(Jn(o.value,s)){if(o.children===i.children&&!un.current){e=Yr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Br(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Ap(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(W(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Ap(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}en(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,gs(e,n),i=Dn(i),r=r(i),e.flags|=1,en(t,e,r,n),e.child;case 14:return r=e.type,i=Un(r,e.pendingProps),i=Un(r.type,i),L0(t,e,r,i,n);case 15:return Ib(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Un(r,i),pu(t,e),e.tag=1,dn(r)?(t=!0,Vu(e)):t=!1,gs(e,n),rb(e,r,i),Pp(e,r,i,n),Lp(null,e,r,!0,t,n);case 19:return Ob(t,e,n);case 22:return Ab(t,e,n)}throw Error(W(156,e.tag))};function Kb(t,e){return b_(t,e)}function U2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(t,e,n,r){return new U2(t,e,n,r)}function Ng(t){return t=t.prototype,!(!t||!t.isReactComponent)}function j2(t){if(typeof t=="function")return Ng(t)?1:0;if(t!=null){if(t=t.$$typeof,t===tg)return 11;if(t===ng)return 14}return 2}function Ai(t,e){var n=t.alternate;return n===null?(n=Mn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function vu(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Ng(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Jo:return po(n.children,i,o,e);case eg:s=8,i|=8;break;case tp:return t=Mn(12,n,e,i|2),t.elementType=tp,t.lanes=o,t;case np:return t=Mn(13,n,e,i),t.elementType=np,t.lanes=o,t;case rp:return t=Mn(19,n,e,i),t.elementType=rp,t.lanes=o,t;case i_:return Ud(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case n_:s=10;break e;case r_:s=9;break e;case tg:s=11;break e;case ng:s=14;break e;case di:s=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=Mn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function po(t,e,n,r){return t=Mn(7,t,r,e),t.lanes=n,t}function Ud(t,e,n,r){return t=Mn(22,t,r,e),t.elementType=i_,t.lanes=n,t.stateNode={isHidden:!1},t}function gf(t,e,n){return t=Mn(6,t,null,e),t.lanes=n,t}function vf(t,e,n){return e=Mn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function z2(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qh(0),this.expirationTimes=Qh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bg(t,e,n,r,i,o,s,a,l){return t=new z2(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Mn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_g(o),t}function H2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Qb(t){if(!t)return Ni;t=t._reactInternals;e:{if(Lo(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(dn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(dn(n))return K_(t,n,e)}return e}function Xb(t,e,n,r,i,o,s,a,l){return t=Bg(n,r,!0,t,i,o,s,a,l),t.context=Qb(null),n=t.current,r=nn(),i=Ii(n),o=Br(r,i),o.callback=e??null,Ti(n,o,i),t.current.lanes=i,Zl(t,i,r),hn(t,r),t}function jd(t,e,n,r){var i=e.current,o=nn(),s=Ii(i);return n=Qb(n),e.context===null?e.context=n:e.pendingContext=n,e=Br(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ti(i,e,s),t!==null&&(Xn(t,i,s,o),du(t,i,s)),s}function Ju(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Y0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Fg(t,e){Y0(t,e),(t=t.alternate)&&Y0(t,e)}function W2(){return null}var Jb=typeof reportError=="function"?reportError:function(t){console.error(t)};function Vg(t){this._internalRoot=t}zd.prototype.render=Vg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));jd(t,e,null,null)};zd.prototype.unmount=Vg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Eo(function(){jd(null,t,null,null)}),e[Hr]=null}};function zd(t){this._internalRoot=t}zd.prototype.unstable_scheduleHydration=function(t){if(t){var e=I_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<fi.length&&e!==0&&e<fi[n].priority;n++);fi.splice(n,0,t),n===0&&R_(t)}};function $g(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Hd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function G0(){}function Y2(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=Ju(s);o.call(c)}}var s=Xb(e,r,t,0,null,!1,!1,"",G0);return t._reactRootContainer=s,t[Hr]=s.current,bl(t.nodeType===8?t.parentNode:t),Eo(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Ju(l);a.call(c)}}var l=Bg(t,0,!1,null,null,!1,!1,"",G0);return t._reactRootContainer=l,t[Hr]=l.current,bl(t.nodeType===8?t.parentNode:t),Eo(function(){jd(e,l,n,r)}),l}function Wd(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Ju(s);a.call(l)}}jd(e,s,t,i)}else s=Y2(n,e,t,i,r);return Ju(s)}T_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Na(e.pendingLanes);n!==0&&(og(e,n|1),hn(e,ct()),!(Te&6)&&(Ms=ct()+500,zi()))}break;case 13:Eo(function(){var r=Wr(t,1);if(r!==null){var i=nn();Xn(r,t,1,i)}}),Fg(t,1)}};sg=function(t){if(t.tag===13){var e=Wr(t,134217728);if(e!==null){var n=nn();Xn(e,t,134217728,n)}Fg(t,134217728)}};C_=function(t){if(t.tag===13){var e=Ii(t),n=Wr(t,e);if(n!==null){var r=nn();Xn(n,t,e,r)}Fg(t,e)}};I_=function(){return Pe};A_=function(t,e){var n=Pe;try{return Pe=t,e()}finally{Pe=n}};fp=function(t,e,n){switch(e){case"input":if(sp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Dd(r);if(!i)throw Error(W(90));s_(r),sp(r,i)}}}break;case"textarea":l_(t,n);break;case"select":e=n.value,e!=null&&hs(t,!!n.multiple,e,!1)}};m_=Og;g_=Eo;var G2={usingClientEntryPoint:!1,Events:[tc,ns,Dd,f_,p_,Og]},ya={findFiberByHostInstance:io,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},q2={bundleType:ya.bundleType,version:ya.version,rendererPackageName:ya.rendererPackageName,rendererConfig:ya.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ei.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=w_(t),t===null?null:t.stateNode},findFiberByHostInstance:ya.findFiberByHostInstance||W2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zc.isDisabled&&zc.supportsFiber)try{Pd=zc.inject(q2),pr=zc}catch{}}kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G2;kn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$g(e))throw Error(W(200));return H2(t,e,null,n)};kn.createRoot=function(t,e){if(!$g(t))throw Error(W(299));var n=!1,r="",i=Jb;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Bg(t,1,!1,null,null,n,!1,r,i),t[Hr]=e.current,bl(t.nodeType===8?t.parentNode:t),new Vg(e)};kn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=w_(e),t=t===null?null:t.stateNode,t};kn.flushSync=function(t){return Eo(t)};kn.hydrate=function(t,e,n){if(!Hd(e))throw Error(W(200));return Wd(null,t,e,!0,n)};kn.hydrateRoot=function(t,e,n){if(!$g(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=Jb;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=Xb(e,null,t,1,n??null,i,!1,o,s),t[Hr]=e.current,bl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new zd(e)};kn.render=function(t,e,n){if(!Hd(e))throw Error(W(200));return Wd(null,t,e,!1,n)};kn.unmountComponentAtNode=function(t){if(!Hd(t))throw Error(W(40));return t._reactRootContainer?(Eo(function(){Wd(null,null,t,!1,function(){t._reactRootContainer=null,t[Hr]=null})}),!0):!1};kn.unstable_batchedUpdates=Og;kn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Hd(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return Wd(t,e,n,!1,r)};kn.version="18.2.0-next-9e3b772b8-20220608";function Zb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Zb)}catch(t){console.error(t)}}Zb(),X1.exports=kn;var K2=X1.exports,q0=K2;Zf.createRoot=q0.createRoot,Zf.hydrateRoot=q0.hydrateRoot;/**
 * @remix-run/router v1.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function et(){return et=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},et.apply(this,arguments)}var st;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(st||(st={}));const K0="popstate";function Q2(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return Rl("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:So(i)}return J2(e,n,null,t)}function ve(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function xo(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function X2(){return Math.random().toString(36).substr(2,8)}function Q0(t,e){return{usr:t.state,key:t.key,idx:e}}function Rl(t,e,n,r){return n===void 0&&(n=null),et({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ti(e):e,{state:n,key:e&&e.key||r||X2()})}function So(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ti(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function J2(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=st.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(et({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function d(){a=st.Pop;let S=u(),w=S==null?null:S-c;c=S,l&&l({action:a,location:b.location,delta:w})}function h(S,w){a=st.Push;let p=Rl(b.location,S,w);n&&n(p,S),c=u()+1;let g=Q0(p,c),v=b.createHref(p);try{s.pushState(g,"",v)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(v)}o&&l&&l({action:a,location:b.location,delta:1})}function f(S,w){a=st.Replace;let p=Rl(b.location,S,w);n&&n(p,S),c=u();let g=Q0(p,c),v=b.createHref(p);s.replaceState(g,"",v),o&&l&&l({action:a,location:b.location,delta:0})}function m(S){let w=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof S=="string"?S:So(S);return ve(w,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,w)}let b={get action(){return a},get location(){return t(i,s)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(K0,d),l=S,()=>{i.removeEventListener(K0,d),l=null}},createHref(S){return e(i,S)},createURL:m,encodeLocation(S){let w=m(S);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:h,replace:f,go(S){return s.go(S)}};return b}var lt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(lt||(lt={}));const Z2=new Set(["lazy","caseSensitive","path","id","index","children"]);function eA(t){return t.index===!0}function Yp(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,o)=>{let s=[...n,o],a=typeof i.id=="string"?i.id:s.join("-");if(ve(i.index!==!0||!i.children,"Cannot specify children on an index route"),ve(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),eA(i)){let l=et({},i,e(i),{id:a});return r[a]=l,l}else{let l=et({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=Yp(i.children,e,s,r)),l}})}function cs(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?ti(e):e,i=Ks(r.pathname||"/",n);if(i==null)return null;let o=ek(t);nA(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=dA(o[a],pA(i));return s}function tA(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function ek(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(ve(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Fr([r,l.relativePath]),u=n.concat(l);o.children&&o.children.length>0&&(ve(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),ek(o.children,e,u,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:cA(c,o.index),routesMeta:u})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of tk(o.path))i(o,s,l)}),e}function tk(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=tk(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function nA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:uA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const rA=/^:\w+$/,iA=3,oA=2,sA=1,aA=10,lA=-2,X0=t=>t==="*";function cA(t,e){let n=t.split("/"),r=n.length;return n.some(X0)&&(r+=lA),e&&(r+=oA),n.filter(i=>!X0(i)).reduce((i,o)=>i+(rA.test(o)?iA:o===""?sA:aA),r)}function uA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function dA(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",u=hA({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let d=a.route;o.push({params:r,pathname:Fr([i,u.pathname]),pathnameBase:yA(Fr([i,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(i=Fr([i,u.pathnameBase]))}return o}function hA(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=fA(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:h,isOptional:f}=u;if(h==="*"){let b=a[d]||"";s=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const m=a[d];return f&&!m?c[h]=void 0:c[h]=mA(m||"",h),c},{}),pathname:o,pathnameBase:s,pattern:t}}function fA(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),xo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function pA(t){try{return decodeURI(t)}catch(e){return xo(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function mA(t,e){try{return decodeURIComponent(t)}catch(n){return xo(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Ks(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function gA(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ti(t):t;return{pathname:n?n.startsWith("/")?n:vA(n,e):e,search:wA(r),hash:_A(i)}}function vA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function yf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Yd(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ug(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ti(t):(i=et({},t),ve(!i.pathname||!i.pathname.includes("?"),yf("?","pathname","search",i)),ve(!i.pathname||!i.pathname.includes("#"),yf("#","pathname","hash",i)),ve(!i.search||!i.search.includes("#"),yf("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(r||s==null)a=n;else{let d=e.length-1;if(s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=gA(i,a),c=s&&s!=="/"&&s.endsWith("/"),u=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Fr=t=>t.join("/").replace(/\/\/+/g,"/"),yA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),wA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,_A=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class jg{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function nk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const rk=["post","put","patch","delete"],bA=new Set(rk),kA=["get",...rk],EA=new Set(kA),xA=new Set([301,302,303,307,308]),SA=new Set([307,308]),wf={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},TA={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},wa={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ik=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,CA=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),ok="remix-router-transitions";function IA(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;ve(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let O=t.detectErrorBoundary;i=D=>({hasErrorBoundary:O(D)})}else i=CA;let o={},s=Yp(t.routes,i,void 0,o),a,l=t.basename||"/",c=et({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_prependBasename:!1},t.future),u=null,d=new Set,h=null,f=null,m=null,b=t.hydrationData!=null,S=cs(s,t.history.location,l),w=null;if(S==null){let O=Tn(404,{pathname:t.history.location.pathname}),{matches:D,route:$}=ow(s);S=D,w={[$.id]:O}}let p=!S.some(O=>O.route.lazy)&&(!S.some(O=>O.route.loader)||t.hydrationData!=null),g,v={historyAction:t.history.action,location:t.history.location,matches:S,initialized:p,navigation:wf,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||w,fetchers:new Map,blockers:new Map},E=st.Pop,A=!1,R,_=!1,y=new Map,k=null,x=!1,I=!1,C=[],M=[],T=new Map,L=0,H=-1,P=new Map,B=new Set,V=new Map,Z=new Map,K=new Set,ut=new Map,Xt=new Map,Gi=!1;function Er(){if(u=t.history.listen(O=>{let{action:D,location:$,delta:Q}=O;if(Gi){Gi=!1;return}xo(Xt.size===0||Q!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ie=Ny({currentLocation:v.location,nextLocation:$,historyAction:D});if(ie&&Q!=null){Gi=!0,t.history.go(Q*-1),Sc(ie,{state:"blocked",location:$,proceed(){Sc(ie,{state:"proceeding",proceed:void 0,reset:void 0,location:$}),t.history.go(Q)},reset(){let ae=new Map(v.blockers);ae.set(ie,wa),dt({blockers:ae})}});return}return qi(D,$)}),n){VA(e,y);let O=()=>$A(e,y);e.addEventListener("pagehide",O),k=()=>e.removeEventListener("pagehide",O)}return v.initialized||qi(st.Pop,v.location),g}function $o(){u&&u(),k&&k(),d.clear(),R&&R.abort(),v.fetchers.forEach((O,D)=>xc(D)),v.blockers.forEach((O,D)=>Dy(D))}function cC(O){return d.add(O),()=>d.delete(O)}function dt(O,D){v=et({},v,O);let $=[],Q=[];c.v7_fetcherPersist&&v.fetchers.forEach((ie,ae)=>{ie.state==="idle"&&(K.has(ae)?Q.push(ae):$.push(ae))}),d.forEach(ie=>ie(v,{deletedFetchers:Q,unstable_viewTransitionOpts:D})),c.v7_fetcherPersist&&($.forEach(ie=>v.fetchers.delete(ie)),Q.forEach(ie=>xc(ie)))}function sa(O,D){var $,Q;let ie=v.actionData!=null&&v.navigation.formMethod!=null&&zn(v.navigation.formMethod)&&v.navigation.state==="loading"&&(($=O.state)==null?void 0:$._isRedirect)!==!0,ae;D.actionData?Object.keys(D.actionData).length>0?ae=D.actionData:ae=null:ie?ae=v.actionData:ae=null;let fe=D.loaderData?iw(v.loaderData,D.loaderData,D.matches||[],D.errors):v.loaderData,le=v.blockers;le.size>0&&(le=new Map(le),le.forEach((qe,_e)=>le.set(_e,wa)));let re=A===!0||v.navigation.formMethod!=null&&zn(v.navigation.formMethod)&&((Q=O.state)==null?void 0:Q._isRedirect)!==!0;a&&(s=a,a=void 0),x||E===st.Pop||(E===st.Push?t.history.push(O,O.state):E===st.Replace&&t.history.replace(O,O.state));let De;if(E===st.Pop){let qe=y.get(v.location.pathname);qe&&qe.has(O.pathname)?De={currentLocation:v.location,nextLocation:O}:y.has(O.pathname)&&(De={currentLocation:O,nextLocation:v.location})}else if(_){let qe=y.get(v.location.pathname);qe?qe.add(O.pathname):(qe=new Set([O.pathname]),y.set(v.location.pathname,qe)),De={currentLocation:v.location,nextLocation:O}}dt(et({},D,{actionData:ae,loaderData:fe,historyAction:E,location:O,initialized:!0,navigation:wf,revalidation:"idle",restoreScrollPosition:Fy(O,D.matches||v.matches),preventScrollReset:re,blockers:le}),De),E=st.Pop,A=!1,_=!1,x=!1,I=!1,C=[],M=[]}async function Ay(O,D){if(typeof O=="number"){t.history.go(O);return}let $=Gp(v.location,v.matches,l,c.v7_prependBasename,O,D==null?void 0:D.fromRouteId,D==null?void 0:D.relative),{path:Q,submission:ie,error:ae}=J0(c.v7_normalizeFormMethod,!1,$,D),fe=v.location,le=Rl(v.location,Q,D&&D.state);le=et({},le,t.history.encodeLocation(le));let re=D&&D.replace!=null?D.replace:void 0,De=st.Push;re===!0?De=st.Replace:re===!1||ie!=null&&zn(ie.formMethod)&&ie.formAction===v.location.pathname+v.location.search&&(De=st.Replace);let qe=D&&"preventScrollReset"in D?D.preventScrollReset===!0:void 0,_e=Ny({currentLocation:fe,nextLocation:le,historyAction:De});if(_e){Sc(_e,{state:"blocked",location:le,proceed(){Sc(_e,{state:"proceeding",proceed:void 0,reset:void 0,location:le}),Ay(O,D)},reset(){let Ne=new Map(v.blockers);Ne.set(_e,wa),dt({blockers:Ne})}});return}return await qi(De,le,{submission:ie,pendingError:ae,preventScrollReset:qe,replace:D&&D.replace,enableViewTransition:D&&D.unstable_viewTransition})}function uC(){if(Vh(),dt({revalidation:"loading"}),v.navigation.state!=="submitting"){if(v.navigation.state==="idle"){qi(v.historyAction,v.location,{startUninterruptedRevalidation:!0});return}qi(E||v.historyAction,v.navigation.location,{overrideNavigation:v.navigation})}}async function qi(O,D,$){R&&R.abort(),R=null,E=O,x=($&&$.startUninterruptedRevalidation)===!0,wC(v.location,v.matches),A=($&&$.preventScrollReset)===!0,_=($&&$.enableViewTransition)===!0;let Q=a||s,ie=$&&$.overrideNavigation,ae=cs(Q,D,l);if(!ae){let Ne=Tn(404,{pathname:D.pathname}),{matches:mt,route:Ki}=ow(Q);$h(),sa(D,{matches:mt,loaderData:{},errors:{[Ki.id]:Ne}});return}if(v.initialized&&!I&&OA(v.location,D)&&!($&&$.submission&&zn($.submission.formMethod))){sa(D,{matches:ae});return}R=new AbortController;let fe=ba(t.history,D,R.signal,$&&$.submission),le,re;if($&&$.pendingError)re={[el(ae).route.id]:$.pendingError};else if($&&$.submission&&zn($.submission.formMethod)){let Ne=await dC(fe,D,$.submission,ae,{replace:$.replace});if(Ne.shortCircuited)return;le=Ne.pendingActionData,re=Ne.pendingActionError,ie=_f(D,$.submission),fe=new Request(fe.url,{signal:fe.signal})}let{shortCircuited:De,loaderData:qe,errors:_e}=await hC(fe,D,ae,ie,$&&$.submission,$&&$.fetcherSubmission,$&&$.replace,le,re);De||(R=null,sa(D,et({matches:ae},le?{actionData:le}:{},{loaderData:qe,errors:_e})))}async function dC(O,D,$,Q,ie){ie===void 0&&(ie={}),Vh();let ae=BA(D,$);dt({navigation:ae});let fe,le=Kp(Q,D);if(!le.route.action&&!le.route.lazy)fe={type:lt.error,error:Tn(405,{method:O.method,pathname:D.pathname,routeId:le.route.id})};else if(fe=await _a("action",O,le,Q,o,i,l),O.signal.aborted)return{shortCircuited:!0};if(ys(fe)){let re;return ie&&ie.replace!=null?re=ie.replace:re=fe.location===v.location.pathname+v.location.search,await aa(v,fe,{submission:$,replace:re}),{shortCircuited:!0}}if(tl(fe)){let re=el(Q,le.route.id);return(ie&&ie.replace)!==!0&&(E=st.Push),{pendingActionData:{},pendingActionError:{[re.route.id]:fe.error}}}if(ao(fe))throw Tn(400,{type:"defer-action"});return{pendingActionData:{[le.route.id]:fe.data}}}async function hC(O,D,$,Q,ie,ae,fe,le,re){let De=Q||_f(D,ie),qe=ie||ae||lw(De),_e=a||s,[Ne,mt]=Z0(t.history,v,$,qe,D,I,C,M,V,B,_e,l,le,re);if($h(Oe=>!($&&$.some(Vn=>Vn.route.id===Oe))||Ne&&Ne.some(Vn=>Vn.route.id===Oe)),H=++L,Ne.length===0&&mt.length===0){let Oe=Oy();return sa(D,et({matches:$,loaderData:{},errors:re||null},le?{actionData:le}:{},Oe?{fetchers:new Map(v.fetchers)}:{})),{shortCircuited:!0}}if(!x){mt.forEach(Vn=>{let si=v.fetchers.get(Vn.key),it=ka(void 0,si?si.data:void 0);v.fetchers.set(Vn.key,it)});let Oe=le||v.actionData;dt(et({navigation:De},Oe?Object.keys(Oe).length===0?{actionData:null}:{actionData:Oe}:{},mt.length>0?{fetchers:new Map(v.fetchers)}:{}))}mt.forEach(Oe=>{T.has(Oe.key)&&ii(Oe.key),Oe.controller&&T.set(Oe.key,Oe.controller)});let Ki=()=>mt.forEach(Oe=>ii(Oe.key));R&&R.signal.addEventListener("abort",Ki);let{results:Qi,loaderResults:ca,fetcherResults:Uh}=await Py(v.matches,$,Ne,mt,O);if(O.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",Ki),mt.forEach(Oe=>T.delete(Oe.key));let xr=sw(Qi);if(xr){if(xr.idx>=Ne.length){let Oe=mt[xr.idx-Ne.length].key;B.add(Oe)}return await aa(v,xr.result,{replace:fe}),{shortCircuited:!0}}let{loaderData:oi,errors:Tc}=rw(v,$,Ne,ca,re,mt,Uh,ut);ut.forEach((Oe,Vn)=>{Oe.subscribe(si=>{(si||Oe.done)&&ut.delete(Vn)})});let jh=Oy(),zh=Ly(H),Hh=jh||zh||mt.length>0;return et({loaderData:oi,errors:Tc},Hh?{fetchers:new Map(v.fetchers)}:{})}function Ry(O){return c.v7_fetcherPersist&&(Z.set(O,(Z.get(O)||0)+1),K.has(O)&&K.delete(O)),v.fetchers.get(O)||TA}function fC(O,D,$,Q){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");T.has(O)&&ii(O);let ie=a||s,ae=Gp(v.location,v.matches,l,c.v7_prependBasename,$,D,Q==null?void 0:Q.relative),fe=cs(ie,ae,l);if(!fe){la(O,D,Tn(404,{pathname:ae}));return}let{path:le,submission:re,error:De}=J0(c.v7_normalizeFormMethod,!0,ae,Q);if(De){la(O,D,De);return}let qe=Kp(fe,le);if(A=(Q&&Q.preventScrollReset)===!0,re&&zn(re.formMethod)){pC(O,D,le,qe,fe,re);return}V.set(O,{routeId:D,path:le}),mC(O,D,le,qe,fe,re)}async function pC(O,D,$,Q,ie,ae){if(Vh(),V.delete(O),!Q.route.action&&!Q.route.lazy){let it=Tn(405,{method:ae.formMethod,pathname:$,routeId:D});la(O,D,it);return}let fe=v.fetchers.get(O),le=FA(ae,fe);v.fetchers.set(O,le),dt({fetchers:new Map(v.fetchers)});let re=new AbortController,De=ba(t.history,$,re.signal,ae);T.set(O,re);let qe=L,_e=await _a("action",De,Q,ie,o,i,l);if(De.signal.aborted){T.get(O)===re&&T.delete(O);return}if(K.has(O)){v.fetchers.set(O,ci(void 0)),dt({fetchers:new Map(v.fetchers)});return}if(ys(_e))if(T.delete(O),H>qe){let it=ci(void 0);v.fetchers.set(O,it),dt({fetchers:new Map(v.fetchers)});return}else{B.add(O);let it=ka(ae);return v.fetchers.set(O,it),dt({fetchers:new Map(v.fetchers)}),aa(v,_e,{fetcherSubmission:ae})}if(tl(_e)){la(O,D,_e.error);return}if(ao(_e))throw Tn(400,{type:"defer-action"});let Ne=v.navigation.location||v.location,mt=ba(t.history,Ne,re.signal),Ki=a||s,Qi=v.navigation.state!=="idle"?cs(Ki,v.navigation.location,l):v.matches;ve(Qi,"Didn't find any matches after fetcher action");let ca=++L;P.set(O,ca);let Uh=ka(ae,_e.data);v.fetchers.set(O,Uh);let[xr,oi]=Z0(t.history,v,Qi,ae,Ne,I,C,M,V,B,Ki,l,{[Q.route.id]:_e.data},void 0);oi.filter(it=>it.key!==O).forEach(it=>{let ua=it.key,Vy=v.fetchers.get(ua),bC=ka(void 0,Vy?Vy.data:void 0);v.fetchers.set(ua,bC),T.has(ua)&&ii(ua),it.controller&&T.set(ua,it.controller)}),dt({fetchers:new Map(v.fetchers)});let Tc=()=>oi.forEach(it=>ii(it.key));re.signal.addEventListener("abort",Tc);let{results:jh,loaderResults:zh,fetcherResults:Hh}=await Py(v.matches,Qi,xr,oi,mt);if(re.signal.aborted)return;re.signal.removeEventListener("abort",Tc),P.delete(O),T.delete(O),oi.forEach(it=>T.delete(it.key));let Oe=sw(jh);if(Oe){if(Oe.idx>=xr.length){let it=oi[Oe.idx-xr.length].key;B.add(it)}return aa(v,Oe.result)}let{loaderData:Vn,errors:si}=rw(v,v.matches,xr,zh,void 0,oi,Hh,ut);if(v.fetchers.has(O)){let it=ci(_e.data);v.fetchers.set(O,it)}Ly(ca),v.navigation.state==="loading"&&ca>H?(ve(E,"Expected pending action"),R&&R.abort(),sa(v.navigation.location,{matches:Qi,loaderData:Vn,errors:si,fetchers:new Map(v.fetchers)})):(dt({errors:si,loaderData:iw(v.loaderData,Vn,Qi,si),fetchers:new Map(v.fetchers)}),I=!1)}async function mC(O,D,$,Q,ie,ae){let fe=v.fetchers.get(O),le=ka(ae,fe?fe.data:void 0);v.fetchers.set(O,le),dt({fetchers:new Map(v.fetchers)});let re=new AbortController,De=ba(t.history,$,re.signal);T.set(O,re);let qe=L,_e=await _a("loader",De,Q,ie,o,i,l);if(ao(_e)&&(_e=await lk(_e,De.signal,!0)||_e),T.get(O)===re&&T.delete(O),De.signal.aborted)return;if(K.has(O)){v.fetchers.set(O,ci(void 0)),dt({fetchers:new Map(v.fetchers)});return}if(ys(_e))if(H>qe){let mt=ci(void 0);v.fetchers.set(O,mt),dt({fetchers:new Map(v.fetchers)});return}else{B.add(O),await aa(v,_e);return}if(tl(_e)){la(O,D,_e.error);return}ve(!ao(_e),"Unhandled fetcher deferred data");let Ne=ci(_e.data);v.fetchers.set(O,Ne),dt({fetchers:new Map(v.fetchers)})}async function aa(O,D,$){let{submission:Q,fetcherSubmission:ie,replace:ae}=$===void 0?{}:$;D.revalidate&&(I=!0);let fe=Rl(O.location,D.location,{_isRedirect:!0});if(ve(fe,"Expected a location on the redirect navigation"),n){let Ne=!1;if(D.reloadDocument)Ne=!0;else if(ik.test(D.location)){const mt=t.history.createURL(D.location);Ne=mt.origin!==e.location.origin||Ks(mt.pathname,l)==null}if(Ne){ae?e.location.replace(D.location):e.location.assign(D.location);return}}R=null;let le=ae===!0?st.Replace:st.Push,{formMethod:re,formAction:De,formEncType:qe}=O.navigation;!Q&&!ie&&re&&De&&qe&&(Q=lw(O.navigation));let _e=Q||ie;if(SA.has(D.status)&&_e&&zn(_e.formMethod))await qi(le,fe,{submission:et({},_e,{formAction:D.location}),preventScrollReset:A});else{let Ne=_f(fe,Q);await qi(le,fe,{overrideNavigation:Ne,fetcherSubmission:ie,preventScrollReset:A})}}async function Py(O,D,$,Q,ie){let ae=await Promise.all([...$.map(re=>_a("loader",ie,re,D,o,i,l)),...Q.map(re=>re.matches&&re.match&&re.controller?_a("loader",ba(t.history,re.path,re.controller.signal),re.match,re.matches,o,i,l):{type:lt.error,error:Tn(404,{pathname:re.path})})]),fe=ae.slice(0,$.length),le=ae.slice($.length);return await Promise.all([aw(O,$,fe,fe.map(()=>ie.signal),!1,v.loaderData),aw(O,Q.map(re=>re.match),le,Q.map(re=>re.controller?re.controller.signal:null),!0)]),{results:ae,loaderResults:fe,fetcherResults:le}}function Vh(){I=!0,C.push(...$h()),V.forEach((O,D)=>{T.has(D)&&(M.push(D),ii(D))})}function la(O,D,$){let Q=el(v.matches,D);xc(O),dt({errors:{[Q.route.id]:$},fetchers:new Map(v.fetchers)})}function xc(O){let D=v.fetchers.get(O);T.has(O)&&!(D&&D.state==="loading"&&P.has(O))&&ii(O),V.delete(O),P.delete(O),B.delete(O),K.delete(O),v.fetchers.delete(O)}function gC(O){if(c.v7_fetcherPersist){let D=(Z.get(O)||0)-1;D<=0?(Z.delete(O),K.add(O)):Z.set(O,D)}else xc(O);dt({fetchers:new Map(v.fetchers)})}function ii(O){let D=T.get(O);ve(D,"Expected fetch controller: "+O),D.abort(),T.delete(O)}function My(O){for(let D of O){let $=Ry(D),Q=ci($.data);v.fetchers.set(D,Q)}}function Oy(){let O=[],D=!1;for(let $ of B){let Q=v.fetchers.get($);ve(Q,"Expected fetcher: "+$),Q.state==="loading"&&(B.delete($),O.push($),D=!0)}return My(O),D}function Ly(O){let D=[];for(let[$,Q]of P)if(Q<O){let ie=v.fetchers.get($);ve(ie,"Expected fetcher: "+$),ie.state==="loading"&&(ii($),P.delete($),D.push($))}return My(D),D.length>0}function vC(O,D){let $=v.blockers.get(O)||wa;return Xt.get(O)!==D&&Xt.set(O,D),$}function Dy(O){v.blockers.delete(O),Xt.delete(O)}function Sc(O,D){let $=v.blockers.get(O)||wa;ve($.state==="unblocked"&&D.state==="blocked"||$.state==="blocked"&&D.state==="blocked"||$.state==="blocked"&&D.state==="proceeding"||$.state==="blocked"&&D.state==="unblocked"||$.state==="proceeding"&&D.state==="unblocked","Invalid blocker state transition: "+$.state+" -> "+D.state);let Q=new Map(v.blockers);Q.set(O,D),dt({blockers:Q})}function Ny(O){let{currentLocation:D,nextLocation:$,historyAction:Q}=O;if(Xt.size===0)return;Xt.size>1&&xo(!1,"A router only supports one blocker at a time");let ie=Array.from(Xt.entries()),[ae,fe]=ie[ie.length-1],le=v.blockers.get(ae);if(!(le&&le.state==="proceeding")&&fe({currentLocation:D,nextLocation:$,historyAction:Q}))return ae}function $h(O){let D=[];return ut.forEach(($,Q)=>{(!O||O(Q))&&($.cancel(),D.push(Q),ut.delete(Q))}),D}function yC(O,D,$){if(h=O,m=D,f=$||null,!b&&v.navigation===wf){b=!0;let Q=Fy(v.location,v.matches);Q!=null&&dt({restoreScrollPosition:Q})}return()=>{h=null,m=null,f=null}}function By(O,D){return f&&f(O,D.map(Q=>tA(Q,v.loaderData)))||O.key}function wC(O,D){if(h&&m){let $=By(O,D);h[$]=m()}}function Fy(O,D){if(h){let $=By(O,D),Q=h[$];if(typeof Q=="number")return Q}return null}function _C(O){o={},a=Yp(O,i,void 0,o)}return g={get basename(){return l},get state(){return v},get routes(){return s},get window(){return e},initialize:Er,subscribe:cC,enableScrollRestoration:yC,navigate:Ay,fetch:fC,revalidate:uC,createHref:O=>t.history.createHref(O),encodeLocation:O=>t.history.encodeLocation(O),getFetcher:Ry,deleteFetcher:gC,dispose:$o,getBlocker:vC,deleteBlocker:Dy,_internalFetchControllers:T,_internalActiveDeferreds:ut,_internalSetRoutes:_C},g}function AA(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Gp(t,e,n,r,i,o,s){let a,l;if(o!=null&&s!=="path"){a=[];for(let u of e)if(a.push(u),u.route.id===o){l=u;break}}else a=e,l=e[e.length-1];let c=Ug(i||".",Yd(a).map(u=>u.pathnameBase),Ks(t.pathname,n)||t.pathname,s==="path");return i==null&&(c.search=t.search,c.hash=t.hash),(i==null||i===""||i===".")&&l&&l.route.index&&!zg(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(c.pathname=c.pathname==="/"?n:Fr([n,c.pathname])),So(c)}function J0(t,e,n,r){if(!r||!AA(r))return{path:n};if(r.formMethod&&!NA(r.formMethod))return{path:n,error:Tn(405,{method:r.formMethod})};let i=()=>({path:n,error:Tn(400,{type:"invalid-body"})}),o=r.formMethod||"get",s=t?o.toUpperCase():o.toLowerCase(),a=ak(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!zn(s))return i();let h=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((f,m)=>{let[b,S]=m;return""+f+b+"="+S+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:h}}}else if(r.formEncType==="application/json"){if(!zn(s))return i();try{let h=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:h,text:void 0}}}catch{return i()}}}ve(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=qp(r.formData),c=r.formData;else if(r.body instanceof FormData)l=qp(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=nw(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=nw(l)}catch{return i()}let u={formMethod:s,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(zn(u.formMethod))return{path:n,submission:u};let d=ti(n);return e&&d.search&&zg(d.search)&&l.append("index",""),d.search="?"+l,{path:So(d),submission:u}}function RA(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function Z0(t,e,n,r,i,o,s,a,l,c,u,d,h,f){let m=f?Object.values(f)[0]:h?Object.values(h)[0]:void 0,b=t.createURL(e.location),S=t.createURL(i),w=f?Object.keys(f)[0]:void 0,g=RA(n,w).filter((E,A)=>{if(E.route.lazy)return!0;if(E.route.loader==null)return!1;if(PA(e.loaderData,e.matches[A],E)||s.some(y=>y===E.route.id))return!0;let R=e.matches[A],_=E;return ew(E,et({currentUrl:b,currentParams:R.params,nextUrl:S,nextParams:_.params},r,{actionResult:m,defaultShouldRevalidate:o||b.pathname+b.search===S.pathname+S.search||b.search!==S.search||sk(R,_)}))}),v=[];return l.forEach((E,A)=>{if(!n.some(x=>x.route.id===E.routeId))return;let R=cs(u,E.path,d);if(!R){v.push({key:A,routeId:E.routeId,path:E.path,matches:null,match:null,controller:null});return}let _=e.fetchers.get(A),y=Kp(R,E.path),k=!1;c.has(A)?k=!1:a.includes(A)?k=!0:_&&_.state!=="idle"&&_.data===void 0?k=o:k=ew(y,et({currentUrl:b,currentParams:e.matches[e.matches.length-1].params,nextUrl:S,nextParams:n[n.length-1].params},r,{actionResult:m,defaultShouldRevalidate:o})),k&&v.push({key:A,routeId:E.routeId,path:E.path,matches:R,match:y,controller:new AbortController})}),[g,v]}function PA(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function sk(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function ew(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function tw(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];ve(i,"No route found in manifest");let o={};for(let s in r){let l=i[s]!==void 0&&s!=="hasErrorBoundary";xo(!l,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!l&&!Z2.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,et({},e(i),{lazy:void 0}))}async function _a(t,e,n,r,i,o,s,a){a===void 0&&(a={});let l,c,u,d=m=>{let b,S=new Promise((w,p)=>b=p);return u=()=>b(),e.signal.addEventListener("abort",u),Promise.race([m({request:e,params:n.params,context:a.requestContext}),S])};try{let m=n.route[t];if(n.route.lazy)if(m){let b,S=await Promise.all([d(m).catch(w=>{b=w}),tw(n.route,o,i)]);if(b)throw b;c=S[0]}else if(await tw(n.route,o,i),m=n.route[t],m)c=await d(m);else if(t==="action"){let b=new URL(e.url),S=b.pathname+b.search;throw Tn(405,{method:e.method,pathname:S,routeId:n.route.id})}else return{type:lt.data,data:void 0};else if(m)c=await d(m);else{let b=new URL(e.url),S=b.pathname+b.search;throw Tn(404,{pathname:S})}ve(c!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(m){l=lt.error,c=m}finally{u&&e.signal.removeEventListener("abort",u)}if(DA(c)){let m=c.status;if(xA.has(m)){let w=c.headers.get("Location");if(ve(w,"Redirects returned/thrown from loaders/actions must have a Location header"),!ik.test(w))w=Gp(new URL(e.url),r.slice(0,r.indexOf(n)+1),s,!0,w);else if(!a.isStaticRequest){let p=new URL(e.url),g=w.startsWith("//")?new URL(p.protocol+w):new URL(w),v=Ks(g.pathname,s)!=null;g.origin===p.origin&&v&&(w=g.pathname+g.search+g.hash)}if(a.isStaticRequest)throw c.headers.set("Location",w),c;return{type:lt.redirect,status:m,location:w,revalidate:c.headers.get("X-Remix-Revalidate")!==null,reloadDocument:c.headers.get("X-Remix-Reload-Document")!==null}}if(a.isRouteRequest)throw{type:l===lt.error?lt.error:lt.data,response:c};let b,S=c.headers.get("Content-Type");return S&&/\bapplication\/json\b/.test(S)?b=await c.json():b=await c.text(),l===lt.error?{type:l,error:new jg(m,c.statusText,b),headers:c.headers}:{type:lt.data,data:b,statusCode:c.status,headers:c.headers}}if(l===lt.error)return{type:l,error:c};if(LA(c)){var h,f;return{type:lt.deferred,deferredData:c,statusCode:(h=c.init)==null?void 0:h.status,headers:((f=c.init)==null?void 0:f.headers)&&new Headers(c.init.headers)}}return{type:lt.data,data:c}}function ba(t,e,n,r){let i=t.createURL(ak(e)).toString(),o={signal:n};if(r&&zn(r.formMethod)){let{formMethod:s,formEncType:a}=r;o.method=s.toUpperCase(),a==="application/json"?(o.headers=new Headers({"Content-Type":a}),o.body=JSON.stringify(r.json)):a==="text/plain"?o.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?o.body=qp(r.formData):o.body=r.formData}return new Request(i,o)}function qp(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function nw(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function MA(t,e,n,r,i){let o={},s=null,a,l=!1,c={};return n.forEach((u,d)=>{let h=e[d].route.id;if(ve(!ys(u),"Cannot handle redirect results in processLoaderData"),tl(u)){let f=el(t,h),m=u.error;r&&(m=Object.values(r)[0],r=void 0),s=s||{},s[f.route.id]==null&&(s[f.route.id]=m),o[h]=void 0,l||(l=!0,a=nk(u.error)?u.error.status:500),u.headers&&(c[h]=u.headers)}else ao(u)?(i.set(h,u.deferredData),o[h]=u.deferredData.data):o[h]=u.data,u.statusCode!=null&&u.statusCode!==200&&!l&&(a=u.statusCode),u.headers&&(c[h]=u.headers)}),r&&(s=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:s,statusCode:a||200,loaderHeaders:c}}function rw(t,e,n,r,i,o,s,a){let{loaderData:l,errors:c}=MA(e,n,r,i,a);for(let u=0;u<o.length;u++){let{key:d,match:h,controller:f}=o[u];ve(s!==void 0&&s[u]!==void 0,"Did not find corresponding fetcher result");let m=s[u];if(!(f&&f.signal.aborted))if(tl(m)){let b=el(t.matches,h==null?void 0:h.route.id);c&&c[b.route.id]||(c=et({},c,{[b.route.id]:m.error})),t.fetchers.delete(d)}else if(ys(m))ve(!1,"Unhandled fetcher revalidation redirect");else if(ao(m))ve(!1,"Unhandled fetcher deferred data");else{let b=ci(m.data);t.fetchers.set(d,b)}}return{loaderData:l,errors:c}}function iw(t,e,n,r){let i=et({},e);for(let o of n){let s=o.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(i[s]=e[s]):t[s]!==void 0&&o.route.loader&&(i[s]=t[s]),r&&r.hasOwnProperty(s))break}return i}function el(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function ow(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Tn(t,e){let{pathname:n,routeId:r,method:i,type:o}=e===void 0?{}:e,s="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(s="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?a="defer() is not supported in actions":o==="invalid-body"&&(a="Unable to encode submission body")):t===403?(s="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(s="Not Found",a='No route matches URL "'+n+'"'):t===405&&(s="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new jg(t||500,s,new Error(a),!0)}function sw(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(ys(n))return{result:n,idx:e}}}function ak(t){let e=typeof t=="string"?ti(t):t;return So(et({},e,{hash:""}))}function OA(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function ao(t){return t.type===lt.deferred}function tl(t){return t.type===lt.error}function ys(t){return(t&&t.type)===lt.redirect}function LA(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function DA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function NA(t){return EA.has(t.toLowerCase())}function zn(t){return bA.has(t.toLowerCase())}async function aw(t,e,n,r,i,o){for(let s=0;s<n.length;s++){let a=n[s],l=e[s];if(!l)continue;let c=t.find(d=>d.route.id===l.route.id),u=c!=null&&!sk(c,l)&&(o&&o[l.route.id])!==void 0;if(ao(a)&&(i||u)){let d=r[s];ve(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await lk(a,d,i).then(h=>{h&&(n[s]=h||n[s])})}}}async function lk(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:lt.data,data:t.deferredData.unwrappedData}}catch(i){return{type:lt.error,error:i}}return{type:lt.data,data:t.deferredData.data}}}function zg(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Kp(t,e){let n=typeof e=="string"?ti(e).search:e.search;if(t[t.length-1].route.index&&zg(n||""))return t[t.length-1];let r=Yd(t);return r[r.length-1]}function lw(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:o,json:s}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function _f(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function BA(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function ka(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function FA(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function ci(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function VA(t,e){try{let n=t.sessionStorage.getItem(ok);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function $A(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(ok,JSON.stringify(n))}catch(r){xo(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zu(){return Zu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zu.apply(this,arguments)}const Gd=F.createContext(null),ck=F.createContext(null),Qs=F.createContext(null),qd=F.createContext(null),Hi=F.createContext({outlet:null,matches:[],isDataRoute:!1}),uk=F.createContext(null);function UA(t,e){let{relative:n}=e===void 0?{}:e;rc()||ve(!1);let{basename:r,navigator:i}=F.useContext(Qs),{hash:o,pathname:s,search:a}=hk(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:Fr([r,s])),i.createHref({pathname:l,search:a,hash:o})}function rc(){return F.useContext(qd)!=null}function Kd(){return rc()||ve(!1),F.useContext(qd).location}function dk(t){F.useContext(Qs).static||F.useLayoutEffect(t)}function jA(){let{isDataRoute:t}=F.useContext(Hi);return t?tR():zA()}function zA(){rc()||ve(!1);let t=F.useContext(Gd),{basename:e,navigator:n}=F.useContext(Qs),{matches:r}=F.useContext(Hi),{pathname:i}=Kd(),o=JSON.stringify(Yd(r).map(l=>l.pathnameBase)),s=F.useRef(!1);return dk(()=>{s.current=!0}),F.useCallback(function(l,c){if(c===void 0&&(c={}),!s.current)return;if(typeof l=="number"){n.go(l);return}let u=Ug(l,JSON.parse(o),i,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:Fr([e,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[e,n,o,i,t])}function HA(){let{matches:t}=F.useContext(Hi),e=t[t.length-1];return e?e.params:{}}function hk(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=F.useContext(Hi),{pathname:i}=Kd(),o=JSON.stringify(Yd(r).map(s=>s.pathnameBase));return F.useMemo(()=>Ug(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function WA(t,e,n){rc()||ve(!1);let{navigator:r}=F.useContext(Qs),{matches:i}=F.useContext(Hi),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let l=Kd(),c;if(e){var u;let b=typeof e=="string"?ti(e):e;a==="/"||(u=b.pathname)!=null&&u.startsWith(a)||ve(!1),c=b}else c=l;let d=c.pathname||"/",h=a==="/"?d:d.slice(a.length)||"/",f=cs(t,{pathname:h}),m=QA(f&&f.map(b=>Object.assign({},b,{params:Object.assign({},s,b.params),pathname:Fr([a,r.encodeLocation?r.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?a:Fr([a,r.encodeLocation?r.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n);return e&&m?F.createElement(qd.Provider,{value:{location:Zu({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:st.Pop}},m):m}function YA(){let t=eR(),e=nk(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.createElement("pre",{style:i},n):null,o)}const GA=F.createElement(YA,null);class qA extends F.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?F.createElement(Hi.Provider,{value:this.props.routeContext},F.createElement(uk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function KA(t){let{routeContext:e,match:n,children:r}=t,i=F.useContext(Gd);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),F.createElement(Hi.Provider,{value:e},r)}function QA(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let o=t,s=(r=n)==null?void 0:r.errors;if(s!=null){let a=o.findIndex(l=>l.route.id&&(s==null?void 0:s[l.route.id]));a>=0||ve(!1),o=o.slice(0,Math.min(o.length,a+1))}return o.reduceRight((a,l,c)=>{let u=l.route.id?s==null?void 0:s[l.route.id]:null,d=null;n&&(d=l.route.errorElement||GA);let h=e.concat(o.slice(0,c+1)),f=()=>{let m;return u?m=d:l.route.Component?m=F.createElement(l.route.Component,null):l.route.element?m=l.route.element:m=a,F.createElement(KA,{match:l,routeContext:{outlet:a,matches:h,isDataRoute:n!=null},children:m})};return n&&(l.route.ErrorBoundary||l.route.errorElement||c===0)?F.createElement(qA,{location:n.location,revalidation:n.revalidation,component:d,error:u,children:f(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):f()},null)}var fk=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(fk||{}),ed=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ed||{});function XA(t){let e=F.useContext(Gd);return e||ve(!1),e}function JA(t){let e=F.useContext(ck);return e||ve(!1),e}function ZA(t){let e=F.useContext(Hi);return e||ve(!1),e}function pk(t){let e=ZA(),n=e.matches[e.matches.length-1];return n.route.id||ve(!1),n.route.id}function eR(){var t;let e=F.useContext(uk),n=JA(ed.UseRouteError),r=pk(ed.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function tR(){let{router:t}=XA(fk.UseNavigateStable),e=pk(ed.UseNavigateStable),n=F.useRef(!1);return dk(()=>{n.current=!0}),F.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Zu({fromRouteId:e},o)))},[t,e])}function nR(t){let{basename:e="/",children:n=null,location:r,navigationType:i=st.Pop,navigator:o,static:s=!1}=t;rc()&&ve(!1);let a=e.replace(/^\/*/,"/"),l=F.useMemo(()=>({basename:a,navigator:o,static:s}),[a,o,s]);typeof r=="string"&&(r=ti(r));let{pathname:c="/",search:u="",hash:d="",state:h=null,key:f="default"}=r,m=F.useMemo(()=>{let b=Ks(c,a);return b==null?null:{location:{pathname:b,search:u,hash:d,state:h,key:f},navigationType:i}},[a,c,u,d,h,f,i]);return m==null?null:F.createElement(Qs.Provider,{value:l},F.createElement(qd.Provider,{children:n,value:m}))}new Promise(()=>{});function rR(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:F.createElement(t.Component),Component:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:F.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pl(){return Pl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pl.apply(this,arguments)}function iR(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function oR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function sR(t,e){return t.button===0&&(!e||e==="_self")&&!oR(t)}const aR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];function lR(t,e){return IA({basename:e==null?void 0:e.basename,future:Pl({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:Q2({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||cR(),routes:t,mapRouteProperties:rR,window:e==null?void 0:e.window}).initialize()}function cR(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Pl({},e,{errors:uR(e.errors)})),e}function uR(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new jg(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let s=new o(i.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}const dR=F.createContext({isTransitioning:!1}),hR=F.createContext(new Map),fR="startTransition",cw=VC[fR];function pR(t){cw?cw(t):t()}let mR=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function gR(t){let{fallbackElement:e,router:n,future:r}=t,[i,o]=F.useState(n.state),[s,a]=F.useState(),[l,c]=F.useState({isTransitioning:!1}),[u,d]=F.useState(),[h,f]=F.useState(),[m,b]=F.useState(),S=F.useRef(new Map),{v7_startTransition:w}=r||{},p=F.useCallback(R=>{w?pR(R):R()},[w]),g=F.useCallback((R,_)=>{let{deletedFetchers:y,unstable_viewTransitionOpts:k}=_;y.forEach(x=>S.current.delete(x)),R.fetchers.forEach((x,I)=>{x.data!==void 0&&S.current.set(I,x.data)}),!k||n.window==null||typeof n.window.document.startViewTransition!="function"?p(()=>o(R)):h&&u?(u.resolve(),h.skipTransition(),b({state:R,currentLocation:k.currentLocation,nextLocation:k.nextLocation})):(a(R),c({isTransitioning:!0,currentLocation:k.currentLocation,nextLocation:k.nextLocation}))},[n.window,h,u,S,p]);F.useLayoutEffect(()=>n.subscribe(g),[n,g]),F.useEffect(()=>{l.isTransitioning&&d(new mR)},[l.isTransitioning]),F.useEffect(()=>{if(u&&s&&n.window){let R=s,_=u.promise,y=n.window.document.startViewTransition(async()=>{p(()=>o(R)),await _});y.finished.finally(()=>{d(void 0),f(void 0),a(void 0),c({isTransitioning:!1})}),f(y)}},[p,s,u,n.window]),F.useEffect(()=>{u&&s&&i.location.key===s.location.key&&u.resolve()},[u,h,i.location,s]),F.useEffect(()=>{!l.isTransitioning&&m&&(a(m.state),c({isTransitioning:!0,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),b(void 0))},[l.isTransitioning,m]);let v=F.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:R=>n.navigate(R),push:(R,_,y)=>n.navigate(R,{state:_,preventScrollReset:y==null?void 0:y.preventScrollReset}),replace:(R,_,y)=>n.navigate(R,{replace:!0,state:_,preventScrollReset:y==null?void 0:y.preventScrollReset})}),[n]),E=n.basename||"/",A=F.useMemo(()=>({router:n,navigator:v,static:!1,basename:E}),[n,v,E]);return F.createElement(F.Fragment,null,F.createElement(Gd.Provider,{value:A},F.createElement(ck.Provider,{value:i},F.createElement(hR.Provider,{value:S.current},F.createElement(dR.Provider,{value:l},F.createElement(nR,{basename:E,location:i.location,navigationType:i.historyAction,navigator:v},i.initialized?F.createElement(vR,{routes:n.routes,state:i}):e))))),null)}function vR(t){let{routes:e,state:n}=t;return WA(e,void 0,n)}const yR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mk=F.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:d}=e,h=iR(e,aR),{basename:f}=F.useContext(Qs),m,b=!1;if(typeof c=="string"&&wR.test(c)&&(m=c,yR))try{let g=new URL(window.location.href),v=c.startsWith("//")?new URL(g.protocol+c):new URL(c),E=Ks(v.pathname,f);v.origin===g.origin&&E!=null?c=E+v.search+v.hash:b=!0}catch{}let S=UA(c,{relative:i}),w=_R(c,{replace:s,state:a,target:l,preventScrollReset:u,relative:i,unstable_viewTransition:d});function p(g){r&&r(g),g.defaultPrevented||w(g)}return F.createElement("a",Pl({},h,{href:m||S,onClick:b||o?r:p,ref:n,target:l}))});var uw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(uw||(uw={}));var dw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(dw||(dw={}));function _R(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a}=e===void 0?{}:e,l=jA(),c=Kd(),u=hk(t,{relative:s});return F.useCallback(d=>{if(sR(d,n)){d.preventDefault();let h=r!==void 0?r:So(c)===So(u);l(t,{replace:h,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a})}},[c,l,u,r,i,n,t,o,s,a])}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},bR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},vk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4;let h=(a&15)<<2|c>>6,f=c&63;l||(f=64,s||(h=64)),r.push(n[u],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(gk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):bR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||c==null||d==null)throw new kR;const h=o<<2|a>>4;if(r.push(h),c!==64){const f=a<<4&240|c>>2;if(r.push(f),d!==64){const m=c<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class kR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ER=function(t){const e=gk(t);return vk.encodeByteArray(e,!0)},td=function(t){return ER(t).replace(/\./g,"")},xR=function(t){try{return vk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=()=>SR().__FIREBASE_DEFAULTS__,CR=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},IR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&xR(t[1]);return e&&JSON.parse(e)},Hg=()=>{try{return TR()||CR()||IR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},AR=t=>{var e,n;return(n=(e=Hg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},yk=t=>{const e=AR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},wk=()=>{var t;return(t=Hg())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[td(JSON.stringify(n)),td(JSON.stringify(s)),a].join(".")}function PR(){var t;const e=(t=Hg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function MR(){try{return typeof indexedDB=="object"}catch{return!1}}function OR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR="FirebaseError";class Do extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=LR,Object.setPrototypeOf(this,Do.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bk.prototype.create)}}class bk{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?DR(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Do(i,a,r)}}function DR(t,e){return t.replace(NR,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const NR=/\{\$([^}]+)}/g;function Qp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(hw(o)&&hw(s)){if(!Qp(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function hw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(t){return t&&t._delegate?t._delegate:t}class Os{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new RR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VR(e))try{this.getOrInitializeService({instanceIdentifier:to})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=to){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=to){return this.instances.has(e)}getOptions(e=to){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:FR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=to){return this.component?this.component.multipleInstances?e:to:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FR(t){return t===to?void 0:t}function VR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new BR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Se||(Se={}));const UR={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},jR=Se.INFO,zR={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},HR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=zR[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class kk{constructor(e){this.name=e,this._logLevel=jR,this._logHandler=HR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}}const WR=(t,e)=>e.some(n=>t instanceof n);let fw,pw;function YR(){return fw||(fw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GR(){return pw||(pw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ek=new WeakMap,Xp=new WeakMap,xk=new WeakMap,bf=new WeakMap,Wg=new WeakMap;function qR(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Ri(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&Ek.set(n,t)}).catch(()=>{}),Wg.set(e,t),e}function KR(t){if(Xp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Xp.set(t,e)}let Jp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Xp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||xk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ri(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function QR(t){Jp=t(Jp)}function XR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(kf(this),e,...n);return xk.set(r,e.sort?e.sort():[e]),Ri(r)}:GR().includes(t)?function(...e){return t.apply(kf(this),e),Ri(Ek.get(this))}:function(...e){return Ri(t.apply(kf(this),e))}}function JR(t){return typeof t=="function"?XR(t):(t instanceof IDBTransaction&&KR(t),WR(t,YR())?new Proxy(t,Jp):t)}function Ri(t){if(t instanceof IDBRequest)return qR(t);if(bf.has(t))return bf.get(t);const e=JR(t);return e!==t&&(bf.set(t,e),Wg.set(e,t)),e}const kf=t=>Wg.get(t);function ZR(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Ri(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Ri(s.result),l.oldVersion,l.newVersion,Ri(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const eP=["get","getKey","getAll","getAllKeys","count"],tP=["put","add","delete","clear"],Ef=new Map;function mw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ef.get(e))return Ef.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=tP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||eP.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Ef.set(e,o),o}QR(t=>({...t,get:(e,n,r)=>mw(e,n)||t.get(e,n,r),has:(e,n)=>!!mw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(rP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function rP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zp="@firebase/app",gw="0.9.23";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=new kk("@firebase/app"),iP="@firebase/app-compat",oP="@firebase/analytics-compat",sP="@firebase/analytics",aP="@firebase/app-check-compat",lP="@firebase/app-check",cP="@firebase/auth",uP="@firebase/auth-compat",dP="@firebase/database",hP="@firebase/database-compat",fP="@firebase/functions",pP="@firebase/functions-compat",mP="@firebase/installations",gP="@firebase/installations-compat",vP="@firebase/messaging",yP="@firebase/messaging-compat",wP="@firebase/performance",_P="@firebase/performance-compat",bP="@firebase/remote-config",kP="@firebase/remote-config-compat",EP="@firebase/storage",xP="@firebase/storage-compat",SP="@firebase/firestore",TP="@firebase/firestore-compat",CP="firebase",IP="10.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em="[DEFAULT]",AP={[Zp]:"fire-core",[iP]:"fire-core-compat",[sP]:"fire-analytics",[oP]:"fire-analytics-compat",[lP]:"fire-app-check",[aP]:"fire-app-check-compat",[cP]:"fire-auth",[uP]:"fire-auth-compat",[dP]:"fire-rtdb",[hP]:"fire-rtdb-compat",[fP]:"fire-fn",[pP]:"fire-fn-compat",[mP]:"fire-iid",[gP]:"fire-iid-compat",[vP]:"fire-fcm",[yP]:"fire-fcm-compat",[wP]:"fire-perf",[_P]:"fire-perf-compat",[bP]:"fire-rc",[kP]:"fire-rc-compat",[EP]:"fire-gcs",[xP]:"fire-gcs-compat",[SP]:"fire-fst",[TP]:"fire-fst-compat","fire-js":"fire-js",[CP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd=new Map,tm=new Map;function RP(t,e){try{t.container.addComponent(e)}catch(n){To.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ml(t){const e=t.name;if(tm.has(e))return To.debug(`There were multiple attempts to register component ${e}.`),!1;tm.set(e,t);for(const n of nd.values())RP(n,t);return!0}function Sk(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Pi=new bk("app","Firebase",PP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Os("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk=IP;function Ck(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:em,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Pi.create("bad-app-name",{appName:String(i)});if(n||(n=wk()),!n)throw Pi.create("no-options");const o=nd.get(i);if(o){if(Qp(n,o.options)&&Qp(r,o.config))return o;throw Pi.create("duplicate-app",{appName:i})}const s=new $R(i);for(const l of tm.values())s.addComponent(l);const a=new MP(n,r,s);return nd.set(i,a),a}function Ik(t=em){const e=nd.get(t);if(!e&&t===em&&wk())return Ck();if(!e)throw Pi.create("no-app",{appName:t});return e}function Mi(t,e,n){var r;let i=(r=AP[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),To.warn(a.join(" "));return}Ml(new Os(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP="firebase-heartbeat-database",LP=1,Ol="firebase-heartbeat-store";let xf=null;function Ak(){return xf||(xf=ZR(OP,LP,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ol)}}}).catch(t=>{throw Pi.create("idb-open",{originalErrorMessage:t.message})})),xf}async function DP(t){try{return await(await Ak()).transaction(Ol).objectStore(Ol).get(Rk(t))}catch(e){if(e instanceof Do)To.warn(e.message);else{const n=Pi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});To.warn(n.message)}}}async function vw(t,e){try{const r=(await Ak()).transaction(Ol,"readwrite");await r.objectStore(Ol).put(e,Rk(t)),await r.done}catch(n){if(n instanceof Do)To.warn(n.message);else{const r=Pi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});To.warn(r.message)}}}function Rk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP=1024,BP=30*24*60*60*1e3;class FP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $P(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e;const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=yw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=BP}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=yw(),{heartbeatsToSend:r,unsentEntries:i}=VP(this._heartbeatsCache.heartbeats),o=td(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function yw(){return new Date().toISOString().substring(0,10)}function VP(t,e=NP){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),ww(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ww(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class $P{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return MR()?OR().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await DP(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return vw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return vw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function ww(t){return td(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UP(t){Ml(new Os("platform-logger",e=>new nP(e),"PRIVATE")),Ml(new Os("heartbeat",e=>new FP(e),"PRIVATE")),Mi(Zp,gw,t),Mi(Zp,gw,"esm2017"),Mi("fire-js","")}UP("");var jP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},q,Yg=Yg||{},de=jP||self;function Qd(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ic(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function zP(t){return Object.prototype.hasOwnProperty.call(t,Sf)&&t[Sf]||(t[Sf]=++HP)}var Sf="closure_uid_"+(1e9*Math.random()>>>0),HP=0;function WP(t,e,n){return t.call.apply(t.bind,arguments)}function YP(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ht(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ht=WP:Ht=YP,Ht.apply(null,arguments)}function Hc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Tt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function Wi(){this.s=this.s,this.o=this.o}var GP=0;Wi.prototype.s=!1;Wi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),GP!=0)&&zP(this)};Wi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Pk=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Gg(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function _w(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Qd(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function Wt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Wt.prototype.h=function(){this.defaultPrevented=!0};var qP=function(){if(!de.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{de.addEventListener("test",()=>{},e),de.removeEventListener("test",()=>{},e)}catch{}return t}();function Ll(t){return/^[\s\xa0]*$/.test(t)}function Xd(){var t=de.navigator;return t&&(t=t.userAgent)?t:""}function cr(t){return Xd().indexOf(t)!=-1}function qg(t){return qg[" "](t),t}qg[" "]=function(){};function KP(t,e){var n=UM;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var QP=cr("Opera"),Ls=cr("Trident")||cr("MSIE"),Mk=cr("Edge"),nm=Mk||Ls,Ok=cr("Gecko")&&!(Xd().toLowerCase().indexOf("webkit")!=-1&&!cr("Edge"))&&!(cr("Trident")||cr("MSIE"))&&!cr("Edge"),XP=Xd().toLowerCase().indexOf("webkit")!=-1&&!cr("Edge");function Lk(){var t=de.document;return t?t.documentMode:void 0}var rm;e:{var Tf="",Cf=function(){var t=Xd();if(Ok)return/rv:([^\);]+)(\)|;)/.exec(t);if(Mk)return/Edge\/([\d\.]+)/.exec(t);if(Ls)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(XP)return/WebKit\/(\S+)/.exec(t);if(QP)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Cf&&(Tf=Cf?Cf[1]:""),Ls){var If=Lk();if(If!=null&&If>parseFloat(Tf)){rm=String(If);break e}}rm=Tf}var im;if(de.document&&Ls){var bw=Lk();im=bw||parseInt(rm,10)||void 0}else im=void 0;var JP=im;function Dl(t,e){if(Wt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Ok){e:{try{qg(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:ZP[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Dl.$.h.call(this)}}Tt(Dl,Wt);var ZP={2:"touch",3:"pen",4:"mouse"};Dl.prototype.h=function(){Dl.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var oc="closure_listenable_"+(1e6*Math.random()|0),eM=0;function tM(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++eM,this.fa=this.ia=!1}function Jd(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Kg(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function nM(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function Dk(t){const e={};for(const n in t)e[n]=t[n];return e}const kw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Nk(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<kw.length;o++)n=kw[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Zd(t){this.src=t,this.g={},this.h=0}Zd.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=sm(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new tM(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function om(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=Pk(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Jd(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function sm(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var Qg="closure_lm_"+(1e6*Math.random()|0),Af={};function Bk(t,e,n,r,i){if(r&&r.once)return Vk(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Bk(t,e[o],n,r,i);return null}return n=Zg(n),t&&t[oc]?t.O(e,n,ic(r)?!!r.capture:!!r,i):Fk(t,e,n,!1,r,i)}function Fk(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=ic(i)?!!i.capture:!!i,a=Jg(t);if(a||(t[Qg]=a=new Zd(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=rM(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)qP||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Uk(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function rM(){function t(n){return e.call(t.src,t.listener,n)}const e=iM;return t}function Vk(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Vk(t,e[o],n,r,i);return null}return n=Zg(n),t&&t[oc]?t.P(e,n,ic(r)?!!r.capture:!!r,i):Fk(t,e,n,!0,r,i)}function $k(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)$k(t,e[o],n,r,i);else r=ic(r)?!!r.capture:!!r,n=Zg(n),t&&t[oc]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=sm(o,n,r,i),-1<n&&(Jd(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=Jg(t))&&(e=t.g[e.toString()],t=-1,e&&(t=sm(e,n,r,i)),(n=-1<t?e[t]:null)&&Xg(n))}function Xg(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[oc])om(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Uk(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Jg(e))?(om(n,t),n.h==0&&(n.src=null,e[Qg]=null)):Jd(t)}}}function Uk(t){return t in Af?Af[t]:Af[t]="on"+t}function iM(t,e){if(t.fa)t=!0;else{e=new Dl(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Xg(t),t=n.call(r,e)}return t}function Jg(t){return t=t[Qg],t instanceof Zd?t:null}var Rf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zg(t){return typeof t=="function"?t:(t[Rf]||(t[Rf]=function(e){return t.handleEvent(e)}),t[Rf])}function St(){Wi.call(this),this.i=new Zd(this),this.S=this,this.J=null}Tt(St,Wi);St.prototype[oc]=!0;St.prototype.removeEventListener=function(t,e,n,r){$k(this,t,e,n,r)};function Ot(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Wt(e,t);else if(e instanceof Wt)e.target=e.target||t;else{var i=e;e=new Wt(r,t),Nk(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Wc(s,r,!0,e)&&i}if(s=e.g=t,i=Wc(s,r,!0,e)&&i,i=Wc(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=Wc(s,r,!1,e)&&i}St.prototype.N=function(){if(St.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Jd(n[r]);delete t.g[e],t.h--}}this.J=null};St.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};St.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Wc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&om(t.i,s),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var ev=de.JSON.stringify;class oM{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function sM(){var t=tv;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class aM{constructor(){this.h=this.g=null}add(e,n){const r=jk.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var jk=new oM(()=>new lM,t=>t.reset());class lM{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function cM(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function uM(t){de.setTimeout(()=>{throw t},0)}let Nl,Bl=!1,tv=new aM,zk=()=>{const t=de.Promise.resolve(void 0);Nl=()=>{t.then(dM)}};var dM=()=>{for(var t;t=sM();){try{t.h.call(t.g)}catch(n){uM(n)}var e=jk;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Bl=!1};function eh(t,e){St.call(this),this.h=t||1,this.g=e||de,this.j=Ht(this.qb,this),this.l=Date.now()}Tt(eh,St);q=eh.prototype;q.ga=!1;q.T=null;q.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ot(this,"tick"),this.ga&&(nv(this),this.start()))}};q.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function nv(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}q.N=function(){eh.$.N.call(this),nv(this),delete this.g};function rv(t,e,n){if(typeof t=="function")n&&(t=Ht(t,n));else if(t&&typeof t.handleEvent=="function")t=Ht(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:de.setTimeout(t,e||0)}function Hk(t){t.g=rv(()=>{t.g=null,t.i&&(t.i=!1,Hk(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class hM extends Wi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Hk(this)}N(){super.N(),this.g&&(de.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fl(t){Wi.call(this),this.h=t,this.g={}}Tt(Fl,Wi);var Ew=[];function Wk(t,e,n,r){Array.isArray(n)||(n&&(Ew[0]=n.toString()),n=Ew);for(var i=0;i<n.length;i++){var o=Bk(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function Yk(t){Kg(t.g,function(e,n){this.g.hasOwnProperty(n)&&Xg(e)},t),t.g={}}Fl.prototype.N=function(){Fl.$.N.call(this),Yk(this)};Fl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function th(){this.g=!0}th.prototype.Ea=function(){this.g=!1};function fM(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");s=2<=d.length&&d[1]=="type"?s+(u+"="+c+"&"):s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function pM(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function us(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+gM(t,n)+(r?" "+r:"")})}function mM(t,e){t.info(function(){return"TIMEOUT: "+e})}th.prototype.info=function(){};function gM(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return ev(n)}catch{return e}}var No={},xw=null;function nh(){return xw=xw||new St}No.Ta="serverreachability";function Gk(t){Wt.call(this,No.Ta,t)}Tt(Gk,Wt);function Vl(t){const e=nh();Ot(e,new Gk(e))}No.STAT_EVENT="statevent";function qk(t,e){Wt.call(this,No.STAT_EVENT,t),this.stat=e}Tt(qk,Wt);function tn(t){const e=nh();Ot(e,new qk(e,t))}No.Ua="timingevent";function Kk(t,e){Wt.call(this,No.Ua,t),this.size=e}Tt(Kk,Wt);function sc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return de.setTimeout(function(){t()},e)}var rh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Qk={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function iv(){}iv.prototype.h=null;function Sw(t){return t.h||(t.h=t.i())}function Xk(){}var ac={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ov(){Wt.call(this,"d")}Tt(ov,Wt);function sv(){Wt.call(this,"c")}Tt(sv,Wt);var am;function ih(){}Tt(ih,iv);ih.prototype.g=function(){return new XMLHttpRequest};ih.prototype.i=function(){return{}};am=new ih;function lc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Fl(this),this.P=vM,t=nm?125:void 0,this.V=new eh(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Jk}function Jk(){this.i=null,this.g="",this.h=!1}var vM=45e3,lm={},rd={};q=lc.prototype;q.setTimeout=function(t){this.P=t};function cm(t,e,n){t.L=1,t.v=sh(qr(e)),t.s=n,t.S=!0,Zk(t,null)}function Zk(t,e){t.G=Date.now(),cc(t),t.A=qr(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),aE(n.i,"t",r),t.C=0,n=t.l.J,t.h=new Jk,t.g=IE(t.l,n?e:null,!t.s),0<t.O&&(t.M=new hM(Ht(t.Pa,t,t.g),t.O)),Wk(t.U,t.g,"readystatechange",t.nb),e=t.I?Dk(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Vl(),fM(t.j,t.u,t.A,t.m,t.W,t.s)}q.nb=function(t){t=t.target;const e=this.M;e&&dr(t)==3?e.l():this.Pa(t)};q.Pa=function(t){try{if(t==this.g)e:{const u=dr(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>u)&&(u!=3||nm||this.g&&(this.h.h||this.g.ja()||Aw(this.g)))){this.J||u!=4||e==7||(e==8||0>=d?Vl(3):Vl(2)),oh(this);var n=this.g.da();this.ca=n;t:if(eE(this)){var r=Aw(this.g);t="";var i=r.length,o=dr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){lo(this),nl(this);var s="";break t}this.h.i=new de.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,pM(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ll(a)){var c=a;break t}}c=null}if(n=c)us(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,um(this,n);else{this.i=!1,this.o=3,tn(12),lo(this),nl(this);break e}}this.S?(tE(this,u,s),nm&&this.i&&u==3&&(Wk(this.U,this.V,"tick",this.mb),this.V.start())):(us(this.j,this.m,s,null),um(this,s)),u==4&&lo(this),this.i&&!this.J&&(u==4?xE(this.l,this):(this.i=!1,cc(this)))}else FM(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.o=3,tn(12)):(this.o=0,tn(13)),lo(this),nl(this)}}}catch{}finally{}};function eE(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function tE(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=yM(t,n),i==rd){e==4&&(t.o=4,tn(14),r=!1),us(t.j,t.m,null,"[Incomplete Response]");break}else if(i==lm){t.o=4,tn(15),us(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else us(t.j,t.m,i,null),um(t,i);eE(t)&&i!=rd&&i!=lm&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,tn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),hv(e),e.M=!0,tn(11))):(us(t.j,t.m,n,"[Invalid Chunked Response]"),lo(t),nl(t))}q.mb=function(){if(this.g){var t=dr(this.g),e=this.g.ja();this.C<e.length&&(oh(this),tE(this,t,e),this.i&&t!=4&&cc(this))}};function yM(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?rd:(n=Number(e.substring(n,r)),isNaN(n)?lm:(r+=1,r+n>e.length?rd:(e=e.slice(r,r+n),t.C=r+n,e)))}q.cancel=function(){this.J=!0,lo(this)};function cc(t){t.Y=Date.now()+t.P,nE(t,t.P)}function nE(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=sc(Ht(t.lb,t),e)}function oh(t){t.B&&(de.clearTimeout(t.B),t.B=null)}q.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(mM(this.j,this.A),this.L!=2&&(Vl(),tn(17)),lo(this),this.o=2,nl(this)):nE(this,this.Y-t)};function nl(t){t.l.H==0||t.J||xE(t.l,t)}function lo(t){oh(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,nv(t.V),Yk(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function um(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||dm(n.i,t))){if(!t.K&&dm(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)sd(n),ch(n);else break e;dv(n),tn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=sc(Ht(n.ib,n),6e3));if(1>=uE(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else co(n,11)}else if((t.K||n.g==t)&&sd(n),!Ll(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const d=c[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const m=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var o=r.i;o.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(av(o,o.h),o.h=null))}if(r.F){const b=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;b&&(r.Da=b,Ve(r.I,r.F,b))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=CE(r,r.J?r.pa:null,r.Y),s.K){dE(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.B&&(oh(a),cc(a)),r.g=s}else kE(r);0<n.j.length&&uh(n)}else c[0]!="stop"&&c[0]!="close"||co(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?co(n,7):uv(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}Vl(4)}catch{}}function wM(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Qd(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function _M(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Qd(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function rE(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Qd(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=_M(t),r=wM(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var iE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bM(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function mo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof mo){this.h=t.h,id(this,t.j),this.s=t.s,this.g=t.g,od(this,t.m),this.l=t.l;var e=t.i,n=new $l;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Tw(this,n),this.o=t.o}else t&&(e=String(t).match(iE))?(this.h=!1,id(this,e[1]||"",!0),this.s=Fa(e[2]||""),this.g=Fa(e[3]||"",!0),od(this,e[4]),this.l=Fa(e[5]||"",!0),Tw(this,e[6]||"",!0),this.o=Fa(e[7]||"")):(this.h=!1,this.i=new $l(null,this.h))}mo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Va(e,Cw,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Va(e,Cw,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Va(n,n.charAt(0)=="/"?xM:EM,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Va(n,TM)),t.join("")};function qr(t){return new mo(t)}function id(t,e,n){t.j=n?Fa(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function od(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Tw(t,e,n){e instanceof $l?(t.i=e,CM(t.i,t.h)):(n||(e=Va(e,SM)),t.i=new $l(e,t.h))}function Ve(t,e,n){t.i.set(e,n)}function sh(t){return Ve(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Fa(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Va(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,kM),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function kM(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Cw=/[#\/\?@]/g,EM=/[#\?:]/g,xM=/[#\?]/g,SM=/[#\?@]/g,TM=/#/g;function $l(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Yi(t){t.g||(t.g=new Map,t.h=0,t.i&&bM(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}q=$l.prototype;q.add=function(t,e){Yi(this),this.i=null,t=Xs(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function oE(t,e){Yi(t),e=Xs(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function sE(t,e){return Yi(t),e=Xs(t,e),t.g.has(e)}q.forEach=function(t,e){Yi(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};q.ta=function(){Yi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};q.Z=function(t){Yi(this);let e=[];if(typeof t=="string")sE(this,t)&&(e=e.concat(this.g.get(Xs(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};q.set=function(t,e){return Yi(this),this.i=null,t=Xs(this,t),sE(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};q.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function aE(t,e,n){oE(t,e),0<n.length&&(t.i=null,t.g.set(Xs(t,e),Gg(n)),t.h+=n.length)}q.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function Xs(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function CM(t,e){e&&!t.j&&(Yi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(oE(this,r),aE(this,i,n))},t)),t.j=e}var IM=class{constructor(t,e){this.g=t,this.map=e}};function lE(t){this.l=t||AM,de.PerformanceNavigationTiming?(t=de.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(de.g&&de.g.Ka&&de.g.Ka()&&de.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var AM=10;function cE(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function uE(t){return t.h?1:t.g?t.g.size:0}function dm(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function av(t,e){t.g?t.g.add(e):t.h=e}function dE(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}lE.prototype.cancel=function(){if(this.i=hE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function hE(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Gg(t.i)}var RM=class{stringify(t){return de.JSON.stringify(t,void 0)}parse(t){return de.JSON.parse(t,void 0)}};function PM(){this.g=new RM}function MM(t,e,n){const r=n||"";try{rE(t,function(i,o){let s=i;ic(i)&&(s=ev(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function OM(t,e){const n=new th;if(de.Image){const r=new Image;r.onload=Hc(Yc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Hc(Yc,n,r,"TestLoadImage: error",!1,e),r.onabort=Hc(Yc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Hc(Yc,n,r,"TestLoadImage: timeout",!1,e),de.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Yc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function uc(t){this.l=t.ec||null,this.j=t.ob||!1}Tt(uc,iv);uc.prototype.g=function(){return new ah(this.l,this.j)};uc.prototype.i=function(t){return function(){return t}}({});function ah(t,e){St.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=lv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Tt(ah,St);var lv=0;q=ah.prototype;q.open=function(t,e){if(this.readyState!=lv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ul(this)};q.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||de).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};q.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,dc(this)),this.readyState=lv};q.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ul(this)),this.g&&(this.readyState=3,Ul(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof de.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;fE(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function fE(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}q.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?dc(this):Ul(this),this.readyState==3&&fE(this)}};q.Za=function(t){this.g&&(this.response=this.responseText=t,dc(this))};q.Ya=function(t){this.g&&(this.response=t,dc(this))};q.ka=function(){this.g&&dc(this)};function dc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ul(t)}q.setRequestHeader=function(t,e){this.v.append(t,e)};q.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};q.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Ul(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(ah.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var LM=de.JSON.parse;function tt(t){St.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=pE,this.L=this.M=!1}Tt(tt,St);var pE="",DM=/^https?$/i,NM=["POST","PUT"];q=tt.prototype;q.Oa=function(t){this.M=t};q.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():am.g(),this.C=this.u?Sw(this.u):Sw(am),this.g.onreadystatechange=Ht(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){Iw(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=de.FormData&&t instanceof de.FormData,!(0<=Pk(NM,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{vE(this),0<this.B&&((this.L=BM(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ht(this.ua,this)):this.A=rv(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){Iw(this,o)}};function BM(t){return Ls&&typeof t.timeout=="number"&&t.ontimeout!==void 0}q.ua=function(){typeof Yg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ot(this,"timeout"),this.abort(8))};function Iw(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,mE(t),lh(t)}function mE(t){t.F||(t.F=!0,Ot(t,"complete"),Ot(t,"error"))}q.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ot(this,"complete"),Ot(this,"abort"),lh(this))};q.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),lh(this,!0)),tt.$.N.call(this)};q.La=function(){this.s||(this.G||this.v||this.l?gE(this):this.kb())};q.kb=function(){gE(this)};function gE(t){if(t.h&&typeof Yg<"u"&&(!t.C[1]||dr(t)!=4||t.da()!=2)){if(t.v&&dr(t)==4)rv(t.La,0,t);else if(Ot(t,"readystatechange"),dr(t)==4){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(iE)[1]||null;!i&&de.self&&de.self.location&&(i=de.self.location.protocol.slice(0,-1)),r=!DM.test(i?i.toLowerCase():"")}n=r}if(n)Ot(t,"complete"),Ot(t,"success");else{t.m=6;try{var o=2<dr(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",mE(t)}}finally{lh(t)}}}}function lh(t,e){if(t.g){vE(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Ot(t,"ready");try{n.onreadystatechange=r}catch{}}}function vE(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(de.clearTimeout(t.A),t.A=null)}q.isActive=function(){return!!this.g};function dr(t){return t.g?t.g.readyState:0}q.da=function(){try{return 2<dr(this)?this.g.status:-1}catch{return-1}};q.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};q.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),LM(e)}};function Aw(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case pE:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function FM(t){const e={};t=(t.g&&2<=dr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Ll(t[r]))continue;var n=cM(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}nM(e,function(r){return r.join(", ")})}q.Ia=function(){return this.m};q.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function yE(t){let e="";return Kg(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function cv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=yE(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ve(t,e,n))}function Ea(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function wE(t){this.Ga=0,this.j=[],this.l=new th,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ea("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ea("baseRetryDelayMs",5e3,t),this.hb=Ea("retryDelaySeedMs",1e4,t),this.eb=Ea("forwardChannelMaxRetries",2,t),this.xa=Ea("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new lE(t&&t.concurrentRequestLimit),this.Ja=new PM,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}q=wE.prototype;q.ra=8;q.H=1;function uv(t){if(_E(t),t.H==3){var e=t.W++,n=qr(t.I);if(Ve(n,"SID",t.K),Ve(n,"RID",e),Ve(n,"TYPE","terminate"),hc(t,n),e=new lc(t,t.l,e),e.L=2,e.v=sh(qr(n)),n=!1,de.navigator&&de.navigator.sendBeacon)try{n=de.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&de.Image&&(new Image().src=e.v,n=!0),n||(e.g=IE(e.l,null),e.g.ha(e.v)),e.G=Date.now(),cc(e)}TE(t)}function ch(t){t.g&&(hv(t),t.g.cancel(),t.g=null)}function _E(t){ch(t),t.u&&(de.clearTimeout(t.u),t.u=null),sd(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&de.clearTimeout(t.m),t.m=null)}function uh(t){if(!cE(t.i)&&!t.m){t.m=!0;var e=t.Na;Nl||zk(),Bl||(Nl(),Bl=!0),tv.add(e,t),t.C=0}}function VM(t,e){return uE(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=sc(Ht(t.Na,t,e),SE(t,t.C)),t.C++,!0)}q.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new lc(this,this.l,t);let o=this.s;if(this.U&&(o?(o=Dk(o),Nk(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=bE(this,i,e),n=qr(this.I),Ve(n,"RID",t),Ve(n,"CVER",22),this.F&&Ve(n,"X-HTTP-Session-Id",this.F),hc(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(yE(o)))+"&"+e:this.o&&cv(n,this.o,o)),av(this.i,i),this.bb&&Ve(n,"TYPE","init"),this.P?(Ve(n,"$req",e),Ve(n,"SID","null"),i.aa=!0,cm(i,n,null)):cm(i,n,e),this.H=2}}else this.H==3&&(t?Rw(this,t):this.j.length==0||cE(this.i)||Rw(this))};function Rw(t,e){var n;e?n=e.m:n=t.W++;const r=qr(t.I);Ve(r,"SID",t.K),Ve(r,"RID",n),Ve(r,"AID",t.V),hc(t,r),t.o&&t.s&&cv(r,t.o,t.s),n=new lc(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=bE(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),av(t.i,n),cm(n,r,e)}function hc(t,e){t.na&&Kg(t.na,function(n,r){Ve(e,r,n)}),t.h&&rE({},function(n,r){Ve(e,r,n)})}function bE(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Ht(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let c=i[l].g;const u=i[l].map;if(c-=o,0>c)o=Math.max(0,i[l].g-100),a=!1;else try{MM(u,s,"req"+c+"_")}catch{r&&r(u)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function kE(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Nl||zk(),Bl||(Nl(),Bl=!0),tv.add(e,t),t.A=0}}function dv(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=sc(Ht(t.Ma,t),SE(t,t.A)),t.A++,!0)}q.Ma=function(){if(this.u=null,EE(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=sc(Ht(this.jb,this),t)}};q.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,tn(10),ch(this),EE(this))};function hv(t){t.B!=null&&(de.clearTimeout(t.B),t.B=null)}function EE(t){t.g=new lc(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=qr(t.wa);Ve(e,"RID","rpc"),Ve(e,"SID",t.K),Ve(e,"AID",t.V),Ve(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ve(e,"TO",t.qa),Ve(e,"TYPE","xmlhttp"),hc(t,e),t.o&&t.s&&cv(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=sh(qr(e)),n.s=null,n.S=!0,Zk(n,t)}q.ib=function(){this.v!=null&&(this.v=null,ch(this),dv(this),tn(19))};function sd(t){t.v!=null&&(de.clearTimeout(t.v),t.v=null)}function xE(t,e){var n=null;if(t.g==e){sd(t),hv(t),t.g=null;var r=2}else if(dm(t.i,e))n=e.F,dE(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=nh(),Ot(r,new Kk(r,n)),uh(t)}else kE(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&VM(t,e)||r==2&&dv(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:co(t,5);break;case 4:co(t,10);break;case 3:co(t,6);break;default:co(t,2)}}}function SE(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function co(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Ht(t.pb,t);n||(n=new mo("//www.google.com/images/cleardot.gif"),de.location&&de.location.protocol=="http"||id(n,"https"),sh(n)),OM(n.toString(),r)}else tn(2);t.H=0,t.h&&t.h.za(e),TE(t),_E(t)}q.pb=function(t){t?(this.l.info("Successfully pinged google.com"),tn(2)):(this.l.info("Failed to ping google.com"),tn(1))};function TE(t){if(t.H=0,t.ma=[],t.h){const e=hE(t.i);(e.length!=0||t.j.length!=0)&&(_w(t.ma,e),_w(t.ma,t.j),t.i.i.length=0,Gg(t.j),t.j.length=0),t.h.ya()}}function CE(t,e,n){var r=n instanceof mo?qr(n):new mo(n);if(r.g!="")e&&(r.g=e+"."+r.g),od(r,r.m);else{var i=de.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new mo(null);r&&id(o,r),e&&(o.g=e),i&&od(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&Ve(r,n,e),Ve(r,"VER",t.ra),hc(t,r),r}function IE(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new tt(new uc({ob:!0})):new tt(t.va),e.Oa(t.J),e}q.isActive=function(){return!!this.h&&this.h.isActive(this)};function AE(){}q=AE.prototype;q.Ba=function(){};q.Aa=function(){};q.za=function(){};q.ya=function(){};q.isActive=function(){return!0};q.Va=function(){};function ad(){if(Ls&&!(10<=Number(JP)))throw Error("Environmental error: no available transport.")}ad.prototype.g=function(t,e){return new bn(t,e)};function bn(t,e){St.call(this),this.g=new wE(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ll(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ll(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Js(this)}Tt(bn,St);bn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;tn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=CE(t,null,t.Y),uh(t)};bn.prototype.close=function(){uv(this.g)};bn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=ev(t),t=n);e.j.push(new IM(e.fb++,t)),e.H==3&&uh(e)};bn.prototype.N=function(){this.g.h=null,delete this.j,uv(this.g),delete this.g,bn.$.N.call(this)};function RE(t){ov.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Tt(RE,ov);function PE(){sv.call(this),this.status=1}Tt(PE,sv);function Js(t){this.g=t}Tt(Js,AE);Js.prototype.Ba=function(){Ot(this.g,"a")};Js.prototype.Aa=function(t){Ot(this.g,new RE(t))};Js.prototype.za=function(t){Ot(this.g,new PE)};Js.prototype.ya=function(){Ot(this.g,"b")};function $M(){this.blockSize=-1}function Zn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Tt(Zn,$M);Zn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Pf(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}Zn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)Pf(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){Pf(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){Pf(this,r),i=0;break}}this.h=i,this.i+=e};Zn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Me(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var UM={};function fv(t){return-128<=t&&128>t?KP(t,function(e){return new Me([e|0],0>e?-1:0)}):new Me([t|0],0>t?-1:0)}function hr(t){if(isNaN(t)||!isFinite(t))return ws;if(0>t)return Rt(hr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=hm;return new Me(e,0)}function ME(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Rt(ME(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=hr(Math.pow(e,8)),r=ws,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=hr(Math.pow(e,o)),r=r.R(o).add(hr(s))):(r=r.R(n),r=r.add(hr(s)))}return r}var hm=4294967296,ws=fv(0),fm=fv(1),Pw=fv(16777216);q=Me.prototype;q.ea=function(){if(Rn(this))return-Rt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:hm+r)*e,e*=hm}return t};q.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Or(this))return"0";if(Rn(this))return"-"+Rt(this).toString(t);for(var e=hr(Math.pow(t,6)),n=this,r="";;){var i=cd(n,e).g;n=ld(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Or(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};q.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Or(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Rn(t){return t.h==-1}q.X=function(t){return t=ld(this,t),Rn(t)?-1:Or(t)?0:1};function Rt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Me(n,~t.h).add(fm)}q.abs=function(){return Rn(this)?Rt(this):this};q.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new Me(n,n[n.length-1]&-2147483648?-1:0)};function ld(t,e){return t.add(Rt(e))}q.R=function(t){if(Or(this)||Or(t))return ws;if(Rn(this))return Rn(t)?Rt(this).R(Rt(t)):Rt(Rt(this).R(t));if(Rn(t))return Rt(this.R(Rt(t)));if(0>this.X(Pw)&&0>t.X(Pw))return hr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=s*l,Gc(n,2*r+2*i),n[2*r+2*i+1]+=o*l,Gc(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Gc(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Gc(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Me(n,0)};function Gc(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function xa(t,e){this.g=t,this.h=e}function cd(t,e){if(Or(e))throw Error("division by zero");if(Or(t))return new xa(ws,ws);if(Rn(t))return e=cd(Rt(t),e),new xa(Rt(e.g),Rt(e.h));if(Rn(e))return e=cd(t,Rt(e)),new xa(Rt(e.g),e.h);if(30<t.g.length){if(Rn(t)||Rn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=fm,r=e;0>=r.X(t);)n=Mw(n),r=Mw(r);var i=jo(n,1),o=jo(r,1);for(r=jo(r,2),n=jo(n,2);!Or(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=jo(r,1),n=jo(n,1)}return e=ld(t,i.R(e)),new xa(i,e)}for(i=ws;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=hr(n),s=o.R(e);Rn(s)||0<s.X(t);)n-=r,o=hr(n),s=o.R(e);Or(o)&&(o=fm),i=i.add(o),t=ld(t,s)}return new xa(i,t)}q.gb=function(t){return cd(this,t).h};q.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Me(n,this.h&t.h)};q.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Me(n,this.h|t.h)};q.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Me(n,this.h^t.h)};function Mw(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Me(n,t.h)}function jo(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Me(i,t.h)}ad.prototype.createWebChannel=ad.prototype.g;bn.prototype.send=bn.prototype.u;bn.prototype.open=bn.prototype.m;bn.prototype.close=bn.prototype.close;rh.NO_ERROR=0;rh.TIMEOUT=8;rh.HTTP_ERROR=6;Qk.COMPLETE="complete";Xk.EventType=ac;ac.OPEN="a";ac.CLOSE="b";ac.ERROR="c";ac.MESSAGE="d";St.prototype.listen=St.prototype.O;tt.prototype.listenOnce=tt.prototype.P;tt.prototype.getLastError=tt.prototype.Sa;tt.prototype.getLastErrorCode=tt.prototype.Ia;tt.prototype.getStatus=tt.prototype.da;tt.prototype.getResponseJson=tt.prototype.Wa;tt.prototype.getResponseText=tt.prototype.ja;tt.prototype.send=tt.prototype.ha;tt.prototype.setWithCredentials=tt.prototype.Oa;Zn.prototype.digest=Zn.prototype.l;Zn.prototype.reset=Zn.prototype.reset;Zn.prototype.update=Zn.prototype.j;Me.prototype.add=Me.prototype.add;Me.prototype.multiply=Me.prototype.R;Me.prototype.modulo=Me.prototype.gb;Me.prototype.compare=Me.prototype.X;Me.prototype.toNumber=Me.prototype.ea;Me.prototype.toString=Me.prototype.toString;Me.prototype.getBits=Me.prototype.D;Me.fromNumber=hr;Me.fromString=ME;var jM=function(){return new ad},zM=function(){return nh()},Mf=rh,HM=Qk,WM=No,Ow={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},YM=uc,qc=Xk,GM=tt,qM=Zn,_s=Me;const Lw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zs="10.5.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co=new kk("@firebase/firestore");function Sa(){return Co.logLevel}function ee(t,...e){if(Co.logLevel<=Se.DEBUG){const n=e.map(pv);Co.debug(`Firestore (${Zs}): ${t}`,...n)}}function Kr(t,...e){if(Co.logLevel<=Se.ERROR){const n=e.map(pv);Co.error(`Firestore (${Zs}): ${t}`,...n)}}function Ds(t,...e){if(Co.logLevel<=Se.WARN){const n=e.map(pv);Co.warn(`Firestore (${Zs}): ${t}`,...n)}}function pv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ue(t="Unexpected state"){const e=`FIRESTORE (${Zs}) INTERNAL ASSERTION FAILED: `+t;throw Kr(e),new Error(e)}function je(t,e){t||ue()}function pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends Do{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class KM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($t.UNAUTHENTICATED))}shutdown(){}}class QM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class XM{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Vr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Vr,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Vr)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(je(typeof r.accessToken=="string"),new OE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string"),new $t(e)}}class JM{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class ZM{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new JM(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class eO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tO{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,ee("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(je(typeof n.token=="string"),this.R=n.token,new eO(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=nO(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Ae(t,e){return t<e?-1:t>e?1:0}function Ns(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new te(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return bt.fromMillis(Date.now())}static fromDate(e){return bt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new bt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ae(this.nanoseconds,e.nanoseconds):Ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.timestamp=e}static fromTimestamp(e){return new he(e)}static min(){return new he(new bt(0,0))}static max(){return new he(new bt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n,r){n===void 0?n=0:n>e.length&&ue(),r===void 0?r=e.length-n:r>e.length-n&&ue(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return jl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof jl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ge extends jl{construct(e,n,r){return new Ge(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new te(j.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ge(n)}static emptyPath(){return new Ge([])}}const rO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pt extends jl{construct(e,n,r){return new Pt(e,n,r)}static isValidIdentifier(e){return rO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Pt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new te(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new te(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new te(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new te(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pt(n)}static emptyPath(){return new Pt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.path=e}static fromPath(e){return new oe(Ge.fromString(e))}static fromName(e){return new oe(Ge.fromString(e).popFirst(5))}static empty(){return new oe(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oe(new Ge(e.slice()))}}function iO(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=he.fromTimestamp(r===1e9?new bt(n+1,0):new bt(n,r));return new Bi(i,oe.empty(),e)}function oO(t){return new Bi(t.readTime,t.key,-1)}class Bi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Bi(he.min(),oe.empty(),-1)}static max(){return new Bi(he.max(),oe.empty(),-1)}}function sO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=oe.comparator(t.documentKey,e.documentKey),n!==0?n:Ae(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fc(t){if(t.code!==j.FAILED_PRECONDITION||t.message!==aO)throw t;ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ue(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(i=>i?z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new z((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;n(e[c]).next(u=>{s[c]=u,++a,a===o&&r(s)},u=>i(u))}})}static doWhile(e,n){return new z((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function pc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}mv._e=-1;function dh(t){return t==null}function ud(t){return t===0&&1/t==-1/0}function cO(t){return typeof t=="number"&&Number.isInteger(t)&&!ud(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ea(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function DE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e,n){this.comparator=e,this.root=n||At.EMPTY}insert(e,n){return new Je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,At.BLACK,null,null))}remove(e){return new Je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,At.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kc(this.root,e,this.comparator,!0)}}class Kc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class At{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??At.RED,this.left=i??At.EMPTY,this.right=o??At.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new At(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return At.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return At.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,At.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,At.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ue();const e=this.left.check();if(e!==this.right.check())throw ue();return e+(this.isRed()?0:1)}}At.EMPTY=null,At.RED=!0,At.BLACK=!1;At.EMPTY=new class{constructor(){this.size=0}get key(){throw ue()}get value(){throw ue()}get color(){throw ue()}get left(){throw ue()}get right(){throw ue()}copy(e,n,r,i,o){return this}insert(e,n,r){return new At(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.comparator=e,this.data=new Je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Nw(this.data.getIterator())}getIteratorFrom(e){return new Nw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class Nw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.fields=e,e.sort(Pt.comparator)}static empty(){return new Wn([])}unionWith(e){let n=new Lt(Pt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ns(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new NE("Invalid base64 string: "+o):o}}(e);return new qt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qt.EMPTY_BYTE_STRING=new qt("");const uO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fi(t){if(je(!!t),typeof t=="string"){let e=0;const n=uO.exec(t);if(je(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ft(t.seconds),nanos:ft(t.nanos)}}function ft(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Io(t){return typeof t=="string"?qt.fromBase64String(t):qt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function vv(t){const e=t.mapValue.fields.__previous_value__;return gv(e)?vv(e):e}function zl(t){const e=Fi(t.mapValue.fields.__local_write_time__.timestampValue);return new bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e,n,r,i,o,s,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Hl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Hl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Hl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ao(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?gv(t)?4:hO(t)?9007199254740991:10:ue()}function yr(t,e){if(t===e)return!0;const n=Ao(t);if(n!==Ao(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return zl(t).isEqual(zl(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Fi(i.timestampValue),a=Fi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Io(i.bytesValue).isEqual(Io(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return ft(i.geoPointValue.latitude)===ft(o.geoPointValue.latitude)&&ft(i.geoPointValue.longitude)===ft(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ft(i.integerValue)===ft(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=ft(i.doubleValue),a=ft(o.doubleValue);return s===a?ud(s)===ud(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Ns(t.arrayValue.values||[],e.arrayValue.values||[],yr);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(Dw(s)!==Dw(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!yr(s[l],a[l])))return!1;return!0}(t,e);default:return ue()}}function Wl(t,e){return(t.values||[]).find(n=>yr(n,e))!==void 0}function Bs(t,e){if(t===e)return 0;const n=Ao(t),r=Ao(e);if(n!==r)return Ae(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ae(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=ft(o.integerValue||o.doubleValue),l=ft(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Bw(t.timestampValue,e.timestampValue);case 4:return Bw(zl(t),zl(e));case 5:return Ae(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Io(o),l=Io(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Ae(a[c],l[c]);if(u!==0)return u}return Ae(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Ae(ft(o.latitude),ft(s.latitude));return a!==0?a:Ae(ft(o.longitude),ft(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=Bs(a[c],l[c]);if(u)return u}return Ae(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Qc.mapValue&&s===Qc.mapValue)return 0;if(o===Qc.mapValue)return 1;if(s===Qc.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const h=Ae(l[d],u[d]);if(h!==0)return h;const f=Bs(a[l[d]],c[u[d]]);if(f!==0)return f}return Ae(l.length,u.length)}(t.mapValue,e.mapValue);default:throw ue()}}function Bw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ae(t,e);const n=Fi(t),r=Fi(e),i=Ae(n.seconds,r.seconds);return i!==0?i:Ae(n.nanos,r.nanos)}function Fs(t){return pm(t)}function pm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Fi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Io(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return oe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=pm(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${pm(n.fields[s])}`;return i+"}"}(t.mapValue):ue()}function mm(t){return!!t&&"integerValue"in t}function yv(t){return!!t&&"arrayValue"in t}function Fw(t){return!!t&&"nullValue"in t}function Vw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function yu(t){return!!t&&"mapValue"in t}function rl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ea(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=rl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=rl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function hO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.value=e}static empty(){return new Pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!yu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=rl(n)}setAll(e){let n=Pt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=rl(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());yu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return yr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];yu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ea(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Pn(rl(this.value))}}function BE(t){const e=[];return ea(t.fields,(n,r)=>{const i=new Pt([n]);if(yu(r)){const o=BE(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new zt(e,0,he.min(),he.min(),he.min(),Pn.empty(),0)}static newFoundDocument(e,n,r,i){return new zt(e,1,n,he.min(),r,i,0)}static newNoDocument(e,n){return new zt(e,2,n,he.min(),he.min(),Pn.empty(),0)}static newUnknownDocument(e,n){return new zt(e,3,n,he.min(),he.min(),Pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,n){this.position=e,this.inclusive=n}}function $w(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=oe.comparator(oe.fromName(s.referenceValue),n.key):r=Bs(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Uw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!yr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,n="asc"){this.field=e,this.dir=n}}function fO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{}class yt extends FE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new mO(e,n,r):n==="array-contains"?new yO(e,r):n==="in"?new wO(e,r):n==="not-in"?new _O(e,r):n==="array-contains-any"?new bO(e,r):new yt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new gO(e,r):new vO(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Bs(n,this.value)):n!==null&&Ao(this.value)===Ao(n)&&this.matchesComparison(Bs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ue()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wr extends FE{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new wr(e,n)}matches(e){return VE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function VE(t){return t.op==="and"}function $E(t){return pO(t)&&VE(t)}function pO(t){for(const e of t.filters)if(e instanceof wr)return!1;return!0}function gm(t){if(t instanceof yt)return t.field.canonicalString()+t.op.toString()+Fs(t.value);if($E(t))return t.filters.map(e=>gm(e)).join(",");{const e=t.filters.map(n=>gm(n)).join(",");return`${t.op}(${e})`}}function UE(t,e){return t instanceof yt?function(r,i){return i instanceof yt&&r.op===i.op&&r.field.isEqual(i.field)&&yr(r.value,i.value)}(t,e):t instanceof wr?function(r,i){return i instanceof wr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&UE(s,i.filters[a]),!0):!1}(t,e):void ue()}function jE(t){return t instanceof yt?function(n){return`${n.field.canonicalString()} ${n.op} ${Fs(n.value)}`}(t):t instanceof wr?function(n){return n.op.toString()+" {"+n.getFilters().map(jE).join(" ,")+"}"}(t):"Filter"}class mO extends yt{constructor(e,n,r){super(e,n,r),this.key=oe.fromName(r.referenceValue)}matches(e){const n=oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class gO extends yt{constructor(e,n){super(e,"in",n),this.keys=zE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class vO extends yt{constructor(e,n){super(e,"not-in",n),this.keys=zE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function zE(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>oe.fromName(r.referenceValue))}class yO extends yt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return yv(n)&&Wl(n.arrayValue,this.value)}}class wO extends yt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wl(this.value.arrayValue,n)}}class _O extends yt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Wl(this.value.arrayValue,n)}}class bO extends yt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!yv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Wl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function jw(t,e=null,n=[],r=[],i=null,o=null,s=null){return new kO(t,e,n,r,i,o,s)}function wv(t){const e=pe(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>gm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),dh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Fs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Fs(r)).join(",")),e.ce=n}return e.ce}function _v(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!fO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!UE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Uw(t.startAt,e.startAt)&&Uw(t.endAt,e.endAt)}function vm(t){return oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function EO(t,e,n,r,i,o,s,a){return new hh(t,e,n,r,i,o,s,a)}function bv(t){return new hh(t)}function zw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function xO(t){return t.collectionGroup!==null}function il(t){const e=pe(t);if(e.le===null){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Lt(Pt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new hd(o,r))}),n.has(Pt.keyField().canonicalString())||e.le.push(new hd(Pt.keyField(),r))}return e.le}function gr(t){const e=pe(t);return e.he||(e.he=SO(e,il(t))),e.he}function SO(t,e){if(t.limitType==="F")return jw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new hd(i.field,o)});const n=t.endAt?new dd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new dd(t.startAt.position,t.startAt.inclusive):null;return jw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ym(t,e,n){return new hh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function fh(t,e){return _v(gr(t),gr(e))&&t.limitType===e.limitType}function HE(t){return`${wv(gr(t))}|lt:${t.limitType}`}function Ho(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>jE(i)).join(", ")}]`),dh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Fs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Fs(i)).join(",")),`Target(${r})`}(gr(t))}; limitType=${t.limitType})`}function ph(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):oe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of il(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const c=$w(s,a,l);return s.inclusive?c<=0:c<0}(r.startAt,il(r),i)||r.endAt&&!function(s,a,l){const c=$w(s,a,l);return s.inclusive?c>=0:c>0}(r.endAt,il(r),i))}(t,e)}function TO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function WE(t){return(e,n)=>{let r=!1;for(const i of il(t)){const o=CO(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function CO(t,e,n){const r=t.field.isKeyField()?oe.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),c=a.data.field(o);return l!==null&&c!==null?Bs(l,c):ue()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ue()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ea(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return DE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO=new Je(oe.comparator);function Qr(){return IO}const YE=new Je(oe.comparator);function $a(...t){let e=YE;for(const n of t)e=e.insert(n.key,n);return e}function GE(t){let e=YE;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function uo(){return ol()}function qE(){return ol()}function ol(){return new ta(t=>t.toString(),(t,e)=>t.isEqual(e))}const AO=new Je(oe.comparator),RO=new Lt(oe.comparator);function ye(...t){let e=RO;for(const n of t)e=e.add(n);return e}const PO=new Lt(Ae);function MO(){return PO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ud(e)?"-0":e}}function QE(t){return{integerValue:""+t}}function OO(t,e){return cO(e)?QE(e):KE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(){this._=void 0}}function LO(t,e,n){return t instanceof fd?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&gv(o)&&(o=vv(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Yl?JE(t,e):t instanceof Gl?ZE(t,e):function(i,o){const s=XE(i,o),a=Hw(s)+Hw(i.Ie);return mm(s)&&mm(i.Ie)?QE(a):KE(i.serializer,a)}(t,e)}function DO(t,e,n){return t instanceof Yl?JE(t,e):t instanceof Gl?ZE(t,e):n}function XE(t,e){return t instanceof pd?function(r){return mm(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class fd extends mh{}class Yl extends mh{constructor(e){super(),this.elements=e}}function JE(t,e){const n=ex(e);for(const r of t.elements)n.some(i=>yr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Gl extends mh{constructor(e){super(),this.elements=e}}function ZE(t,e){let n=ex(e);for(const r of t.elements)n=n.filter(i=>!yr(i,r));return{arrayValue:{values:n}}}class pd extends mh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Hw(t){return ft(t.integerValue||t.doubleValue)}function ex(t){return yv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function NO(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Yl&&i instanceof Yl||r instanceof Gl&&i instanceof Gl?Ns(r.elements,i.elements,yr):r instanceof pd&&i instanceof pd?yr(r.Ie,i.Ie):r instanceof fd&&i instanceof fd}(t.transform,e.transform)}class BO{constructor(e,n){this.version=e,this.transformResults=n}}class $r{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $r}static exists(e){return new $r(void 0,e)}static updateTime(e){return new $r(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class gh{}function tx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new rx(t.key,$r.none()):new mc(t.key,t.data,$r.none());{const n=t.data,r=Pn.empty();let i=new Lt(Pt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Bo(t.key,r,new Wn(i.toArray()),$r.none())}}function FO(t,e,n){t instanceof mc?function(i,o,s){const a=i.value.clone(),l=Yw(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Bo?function(i,o,s){if(!wu(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=Yw(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(nx(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function sl(t,e,n,r){return t instanceof mc?function(o,s,a,l){if(!wu(o.precondition,s))return a;const c=o.value.clone(),u=Gw(o.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Bo?function(o,s,a,l){if(!wu(o.precondition,s))return a;const c=Gw(o.fieldTransforms,l,s),u=s.data;return u.setAll(nx(o)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(o,s,a){return wu(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function VO(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=XE(r.transform,i||null);o!=null&&(n===null&&(n=Pn.empty()),n.set(r.field,o))}return n||null}function Ww(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ns(r,i,(o,s)=>NO(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class mc extends gh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Bo extends gh{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function nx(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Yw(t,e,n){const r=new Map;je(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,DO(s,a,n[i]))}return r}function Gw(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,LO(o,s,e))}return r}class rx extends gh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $O extends gh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&FO(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=sl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=sl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=qE();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=tx(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(he.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ye())}isEqual(e){return this.batchId===e.batchId&&Ns(this.mutations,e.mutations,(n,r)=>Ww(n,r))&&Ns(this.baseMutations,e.baseMutations,(n,r)=>Ww(n,r))}}class kv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){je(e.mutations.length===r.length);let i=function(){return AO}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new kv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht,be;function HO(t){switch(t){default:return ue();case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0}}function ix(t){if(t===void 0)return Kr("GRPC error has no .code"),j.UNKNOWN;switch(t){case ht.OK:return j.OK;case ht.CANCELLED:return j.CANCELLED;case ht.UNKNOWN:return j.UNKNOWN;case ht.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case ht.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case ht.INTERNAL:return j.INTERNAL;case ht.UNAVAILABLE:return j.UNAVAILABLE;case ht.UNAUTHENTICATED:return j.UNAUTHENTICATED;case ht.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case ht.NOT_FOUND:return j.NOT_FOUND;case ht.ALREADY_EXISTS:return j.ALREADY_EXISTS;case ht.PERMISSION_DENIED:return j.PERMISSION_DENIED;case ht.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case ht.ABORTED:return j.ABORTED;case ht.OUT_OF_RANGE:return j.OUT_OF_RANGE;case ht.UNIMPLEMENTED:return j.UNIMPLEMENTED;case ht.DATA_LOSS:return j.DATA_LOSS;default:return ue()}}(be=ht||(ht={}))[be.OK=0]="OK",be[be.CANCELLED=1]="CANCELLED",be[be.UNKNOWN=2]="UNKNOWN",be[be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",be[be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",be[be.NOT_FOUND=5]="NOT_FOUND",be[be.ALREADY_EXISTS=6]="ALREADY_EXISTS",be[be.PERMISSION_DENIED=7]="PERMISSION_DENIED",be[be.UNAUTHENTICATED=16]="UNAUTHENTICATED",be[be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",be[be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",be[be.ABORTED=10]="ABORTED",be[be.OUT_OF_RANGE=11]="OUT_OF_RANGE",be[be.UNIMPLEMENTED=12]="UNIMPLEMENTED",be[be.INTERNAL=13]="INTERNAL",be[be.UNAVAILABLE=14]="UNAVAILABLE",be[be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO=new _s([4294967295,4294967295],0);function qw(t){const e=WO().encode(t),n=new qM;return n.update(e),new Uint8Array(n.digest())}function Kw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new _s([n,r],0),new _s([i,o],0)]}class Ev{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ua(`Invalid padding: ${n}`);if(r<0)throw new Ua(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ua(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ua(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=_s.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(_s.fromNumber(r)));return i.compare(YO)===1&&(i=new _s([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=qw(e),[r,i]=Kw(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new Ev(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Te===0)return;const n=qw(e),[r,i]=Kw(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);this.Re(s)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ua extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,gc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new vh(he.min(),i,new Je(Ae),Qr(),ye())}}class gc{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new gc(r,n,ye(),ye(),ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class ox{constructor(e,n){this.targetId=e,this.fe=n}}class sx{constructor(e,n,r=qt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Qw{constructor(){this.ge=0,this.pe=Jw(),this.ye=qt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ye(),n=ye(),r=ye();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ue()}}),new gc(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=Jw()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class GO{constructor(e){this.Le=e,this.ke=new Map,this.qe=Qr(),this.Qe=Xw(),this.Ke=new Je(Ae)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:ue()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const o=i.target;if(vm(o))if(r===0){const s=new oe(o.path);this.We(n,s,zt.newNoDocument(s,he.min()))}else je(r===1);else{const s=this.Ze(n);if(s!==r){const a=this.Xe(e),l=a?this.et(a,e,s):1;if(l!==0){this.He(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Io(r).toUint8Array()}catch(l){if(l instanceof NE)return Ds("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Ev(s,i,o)}catch(l){return Ds(l instanceof Ua?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&vm(a.target)){const l=new oe(a.target.path);this.qe.get(l)!==null||this.st(s,l)||this.We(s,l,zt.newNoDocument(l,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=ye();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.Ye(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const i=new vh(e,n,this.Ke,this.qe,r);return this.qe=Qr(),this.Qe=Xw(),this.Ke=new Je(Ae),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Qw,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Lt(Ae),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||ee("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Qw),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Xw(){return new Je(oe.comparator)}function Jw(){return new Je(oe.comparator)}const qO=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),KO=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),QO=(()=>({and:"AND",or:"OR"}))();class XO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function wm(t,e){return t.useProto3Json||dh(e)?e:{value:e}}function md(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ax(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function JO(t,e){return md(t,e.toTimestamp())}function vr(t){return je(!!t),he.fromTimestamp(function(n){const r=Fi(n);return new bt(r.seconds,r.nanos)}(t))}function xv(t,e){return function(r){return new Ge(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function lx(t){const e=Ge.fromString(t);return je(hx(e)),e}function _m(t,e){return xv(t.databaseId,e.path)}function Of(t,e){const n=lx(e);if(n.get(1)!==t.databaseId.projectId)throw new te(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new oe(cx(n))}function bm(t,e){return xv(t.databaseId,e)}function ZO(t){const e=lx(t);return e.length===4?Ge.emptyPath():cx(e)}function km(t){return new Ge(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function cx(t){return je(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Zw(t,e,n){return{name:_m(t,e),fields:n.value.mapValue.fields}}function eL(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ue()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,u){return c.useProto3Json?(je(u===void 0||typeof u=="string"),qt.fromBase64String(u||"")):(je(u===void 0||u instanceof Uint8Array),qt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const u=c.code===void 0?j.UNKNOWN:ix(c.code);return new te(u,c.message||"")}(s);n=new sx(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Of(t,r.document.name),o=vr(r.document.updateTime),s=r.document.createTime?vr(r.document.createTime):he.min(),a=new Pn({mapValue:{fields:r.document.fields}}),l=zt.newFoundDocument(i,o,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new _u(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Of(t,r.document),o=r.readTime?vr(r.readTime):he.min(),s=zt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new _u([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Of(t,r.document),o=r.removedTargetIds||[];n=new _u([],o,i,null)}else{if(!("filter"in e))return ue();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new zO(i,o),a=r.targetId;n=new ox(a,s)}}return n}function tL(t,e){let n;if(e instanceof mc)n={update:Zw(t,e.key,e.value)};else if(e instanceof rx)n={delete:_m(t,e.key)};else if(e instanceof Bo)n={update:Zw(t,e.key,e.data),updateMask:uL(e.fieldMask)};else{if(!(e instanceof $O))return ue();n={verify:_m(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof fd)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Yl)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Gl)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof pd)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw ue()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:JO(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ue()}(t,e.precondition)),n}function nL(t,e){return t&&t.length>0?(je(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?vr(i.updateTime):vr(o);return s.isEqual(he.min())&&(s=vr(o)),new BO(s,i.transformResults||[])}(n,e))):[]}function rL(t,e){return{documents:[bm(t,e.path)]}}function iL(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=bm(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=bm(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return dx(wr.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(l){if(l.length!==0)return l.map(c=>function(d){return{field:Wo(d.field),direction:aL(d.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=wm(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function oL(t){let e=ZO(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){je(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let o=[];n.where&&(o=function(d){const h=ux(d);return h instanceof wr&&$E(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(h=>function(m){return new hd(Yo(m.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,dh(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,f=d.values||[];return new dd(f,h)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const h=!d.before,f=d.values||[];return new dd(f,h)}(n.endAt)),EO(e,i,s,o,a,"F",l,c)}function sL(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ue()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ux(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Yo(n.unaryFilter.field);return yt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Yo(n.unaryFilter.field);return yt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Yo(n.unaryFilter.field);return yt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Yo(n.unaryFilter.field);return yt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ue()}}(t):t.fieldFilter!==void 0?function(n){return yt.create(Yo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ue()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return wr.create(n.compositeFilter.filters.map(r=>ux(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ue()}}(n.compositeFilter.op))}(t):ue()}function aL(t){return qO[t]}function lL(t){return KO[t]}function cL(t){return QO[t]}function Wo(t){return{fieldPath:t.canonicalString()}}function Yo(t){return Pt.fromServerFormat(t.fieldPath)}function dx(t){return t instanceof yt?function(n){if(n.op==="=="){if(Vw(n.value))return{unaryFilter:{field:Wo(n.field),op:"IS_NAN"}};if(Fw(n.value))return{unaryFilter:{field:Wo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Vw(n.value))return{unaryFilter:{field:Wo(n.field),op:"IS_NOT_NAN"}};if(Fw(n.value))return{unaryFilter:{field:Wo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wo(n.field),op:lL(n.op),value:n.value}}}(t):t instanceof wr?function(n){const r=n.getFilters().map(i=>dx(i));return r.length===1?r[0]:{compositeFilter:{op:cL(n.op),filters:r}}}(t):ue()}function uL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function hx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e,n,r,i,o=he.min(),s=he.min(),a=qt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new yi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new yi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(e){this.ut=e}}function hL(t){const e=oL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ym(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(){this.on=new pL}addToCollectionParentIndex(e,n){return this.on.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(Bi.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(Bi.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class pL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Lt(Ge.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Lt(Ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Vs(0)}static Nn(){return new Vs(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(){this.changes=new ta(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&sl(r.mutation,i,Wn.empty(),bt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ye()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ye()){const i=uo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=$a();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=uo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ye()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Qr();const s=ol(),a=function(){return ol()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Bo)?o=o.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),sl(u.mutation,c,u.mutation.getFieldMask(),bt.now())):s.set(c.key,Wn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,u)=>s.set(c,u)),n.forEach((c,u)=>{var d;return a.set(c,new gL(u,(d=s.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ol();let i=new Je((s,a)=>s-a),o=ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Wn.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(i.get(a.batchId)||ye()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=qE();u.forEach(h=>{if(!o.has(h)){const f=tx(n.get(h),r.get(h));f!==null&&d.set(h,f),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,d))}return z.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return oe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):xO(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):z.resolve(uo());let a=-1,l=o;return s.next(c=>z.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(u)?z.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,ye())).next(u=>({batchId:a,changes:GE(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new oe(n)).next(r=>{let i=$a();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=$a();return this.indexManager.getCollectionParents(e,o).next(a=>z.forEach(a,l=>{const c=function(d,h){return new hh(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,zt.newInvalidDocument(u)))});let a=$a();return s.forEach((l,c)=>{const u=o.get(l);u!==void 0&&sl(u.mutation,c,Wn.empty(),bt.now()),ph(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return z.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:vr(i.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:hL(i.bundledQuery),readTime:vr(i.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(){this.overlays=new Je(oe.comparator),this.lr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=uo();return z.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.lt(e,n,o)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const i=uo(),o=n.length+1,s=new oe(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Je((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=o.get(c.largestBatchId);u===null&&(u=uo(),o=o.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=uo(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return z.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new jO(n,r));let o=this.lr.get(n);o===void 0&&(o=ye(),this.lr.set(n,o)),this.lr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(){this.hr=new Lt(kt.Pr),this.Ir=new Lt(kt.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new kt(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new kt(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new oe(new Ge([])),r=new kt(n,e),i=new kt(n,e+1),o=[];return this.Ir.forEachInRange([r,i],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new oe(new Ge([])),r=new kt(n,e),i=new kt(n,e+1);let o=ye();return this.Ir.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new kt(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class kt{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return oe.comparator(e.key,n.key)||Ae(e.gr,n.gr)}static Tr(e,n){return Ae(e.gr,n.gr)||oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Lt(kt.Pr)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new UO(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.yr=this.yr.add(new kt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(s)}lookupMutationBatch(e,n){return z.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Sr(r),o=i<0?0:i;return z.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new kt(n,0),i=new kt(n,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([r,i],s=>{const a=this.wr(s.gr);o.push(a)}),z.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Lt(Ae);return n.forEach(i=>{const o=new kt(i,0),s=new kt(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{r=r.add(a.gr)})}),z.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;oe.isDocumentKey(o)||(o=o.child(""));const s=new kt(new oe(o),0);let a=new Lt(Ae);return this.yr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.gr)),!0)},s),z.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){je(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return z.forEach(n.mutations,i=>{const o=new kt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new kt(n,0),i=this.yr.firstAfterOrEqual(r);return z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e){this.Cr=e,this.docs=function(){return new Je(oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():zt.newInvalidDocument(n))}getEntries(e,n){let r=Qr();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():zt.newInvalidDocument(i))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Qr();const s=n.path,a=new oe(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||sO(oO(u),r)<=0||(i.has(u.key)||ph(n,u))&&(o=o.insert(u.key,u.mutableCopy()))}return z.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ue()}vr(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new kL(this)}getSize(e){return z.resolve(this.size)}}class kL extends mL{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(e){this.persistence=e,this.Fr=new ta(n=>wv(n),_v),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Sv,this.targetCount=0,this.Nr=Vs.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),z.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new Vs(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.kn(n),z.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),z.waitFor(o).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),z.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e,n){this.Br={},this.overlays={},this.Lr=new mv(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new EL(this),this.indexManager=new fL,this.remoteDocumentCache=function(i){return new bL(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new dL(n),this.Kr=new yL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new wL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new _L(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){ee("MemoryPersistence","Starting transaction:",e);const i=new SL(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(o=>this.referenceDelegate.Ur(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Wr(e,n){return z.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class SL extends lO{constructor(e){super(),this.currentSequenceNumber=e}}class Tv{constructor(e){this.persistence=e,this.Gr=new Sv,this.zr=null}static jr(e){return new Tv(e)}get Hr(){if(this.zr)return this.zr;throw ue()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),z.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Hr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Hr,r=>{const i=oe.fromPath(r);return this.Jr(e,i).next(o=>{o||n.removeEntry(i,he.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return z.or([()=>z.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=ye(),i=ye();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Cv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.zi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new TL;return this.Hi(e,n,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,n,s,a.size)})}).next(()=>o.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(Sa()<=Se.DEBUG&&ee("QueryEngine","SDK will not create cache indexes for query:",Ho(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),z.resolve()):(Sa()<=Se.DEBUG&&ee("QueryEngine","Query:",Ho(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Sa()<=Se.DEBUG&&ee("QueryEngine","The SDK decides to create cache indexes for query:",Ho(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gr(n))):z.resolve())}zi(e,n){if(zw(n))return z.resolve(null);let r=gr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ym(n,null,"F"),r=gr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=ye(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Yi(n,a);return this.Zi(n,c,s,l.readTime)?this.zi(e,ym(n,null,"F")):this.Xi(e,c,n,l)}))})))}ji(e,n,r,i){return zw(n)||i.isEqual(he.min())?z.resolve(null):this.Gi.getDocuments(e,r).next(o=>{const s=this.Yi(n,o);return this.Zi(n,s,r,i)?z.resolve(null):(Sa()<=Se.DEBUG&&ee("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ho(n)),this.Xi(e,s,n,iO(i,-1)).next(a=>a))})}Yi(e,n){let r=new Lt(WE(e));return n.forEach((i,o)=>{ph(e,o)&&(r=r.add(o))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Hi(e,n,r){return Sa()<=Se.DEBUG&&ee("QueryEngine","Using full collection scan to execute query:",Ho(n)),this.Gi.getDocumentsMatchingQuery(e,n,Bi.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new Je(Ae),this.ns=new ta(o=>wv(o),_v),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vL(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function AL(t,e,n,r){return new IL(t,e,n,r)}async function fx(t,e){const n=pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=ye();for(const c of i){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of o){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({_s:c,removedBatchIds:s,addedBatchIds:a}))})})}function RL(t,e){const n=pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,h=d.keys();let f=z.resolve();return h.forEach(m=>{f=f.next(()=>u.getEntry(l,m)).next(b=>{const S=c.docVersions.get(m);je(S!==null),b.version.compareTo(S)<0&&(d.applyToRemoteDocument(b,c),b.isValidDocument()&&(b.setReadTime(c.commitVersion),u.addEntry(b)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ye();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function px(t){const e=pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function PL(t,e){const n=pe(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((u,d)=>{const h=i.get(d);if(!h)return;a.push(n.qr.removeMatchingKeys(o,u.removedDocuments,d).next(()=>n.qr.addMatchingKeys(o,u.addedDocuments,d)));let f=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(qt.EMPTY_BYTE_STRING,he.min()).withLastLimboFreeSnapshotVersion(he.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,r)),i=i.insert(d,f),function(b,S,w){return b.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(h,f,u)&&a.push(n.qr.updateTargetData(o,f))});let l=Qr(),c=ye();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(ML(o,s,e.documentUpdates).next(u=>{l=u.us,c=u.cs})),!r.isEqual(he.min())){const u=n.qr.getLastRemoteSnapshotVersion(o).next(d=>n.qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(u)}return z.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(n.ts=i,o))}function ML(t,e,n){let r=ye(),i=ye();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Qr();return n.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(he.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):ee("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{us:s,cs:i}})}function OL(t,e){const n=pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function LL(t,e){const n=pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(o=>o?(i=o,z.resolve(i)):n.qr.allocateTargetId(r).next(s=>(i=new yi(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}async function Em(t,e,n){const r=pe(t),i=r.ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!pc(s))throw s;ee("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}function e1(t,e,n){const r=pe(t);let i=he.min(),o=ye();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const d=pe(l),h=d.ns.get(u);return h!==void 0?z.resolve(d.ts.get(h)):d.qr.getTargetData(c,u)}(r,s,gr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.es.getDocumentsMatchingQuery(s,e,n?i:he.min(),n?o:ye())).next(a=>(DL(r,TO(e),a),{documents:a,ls:o})))}function DL(t,e,n){let r=t.rs.get(e)||he.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.rs.set(e,r)}class t1{constructor(){this.activeTargetIds=MO()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class NL{constructor(){this.eo=new t1,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new t1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xc=null;function Lf(){return Xc===null?Xc=function(){return 268435456+Math.round(2147483648*Math.random())}():Xc++,"0x"+Xc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vt="WebChannelConnection";class $L extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${o}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get yo(){return!1}wo(n,r,i,o,s){const a=Lf(),l=this.So(n,r);ee("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(c,o,s),this.Do(n,l,c,i).then(u=>(ee("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw Ds("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",i),u})}Co(n,r,i,o,s,a){return this.wo(n,r,i,o,s)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Zs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}So(n,r){const i=FL[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const o=Lf();return new Promise((s,a)=>{const l=new GM;l.setWithCredentials(!0),l.listenOnce(HM.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Mf.NO_ERROR:const u=l.getResponseJson();ee(Vt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(u)),s(u);break;case Mf.TIMEOUT:ee(Vt,`RPC '${e}' ${o} timed out`),a(new te(j.DEADLINE_EXCEEDED,"Request time out"));break;case Mf.HTTP_ERROR:const d=l.getStatus();if(ee(Vt,`RPC '${e}' ${o} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const m=function(S){const w=S.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(w)>=0?w:j.UNKNOWN}(f.status);a(new te(m,f.message))}else a(new te(j.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new te(j.UNAVAILABLE,"Connection failed."));break;default:ue()}}finally{ee(Vt,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);ee(Vt,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",c,r,15)})}vo(e,n,r){const i=Lf(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=jM(),a=zM(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new YM({})),this.bo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=o.join("");ee(Vt,`Creating RPC '${e}' stream ${i}: ${u}`,l);const d=s.createWebChannel(u,l);let h=!1,f=!1;const m=new VL({co:S=>{f?ee(Vt,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(h||(ee(Vt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),ee(Vt,`RPC '${e}' stream ${i} sending:`,S),d.send(S))},lo:()=>d.close()}),b=(S,w,p)=>{S.listen(w,g=>{try{p(g)}catch(v){setTimeout(()=>{throw v},0)}})};return b(d,qc.EventType.OPEN,()=>{f||ee(Vt,`RPC '${e}' stream ${i} transport opened.`)}),b(d,qc.EventType.CLOSE,()=>{f||(f=!0,ee(Vt,`RPC '${e}' stream ${i} transport closed`),m.Ro())}),b(d,qc.EventType.ERROR,S=>{f||(f=!0,Ds(Vt,`RPC '${e}' stream ${i} transport errored:`,S),m.Ro(new te(j.UNAVAILABLE,"The operation could not be completed")))}),b(d,qc.EventType.MESSAGE,S=>{var w;if(!f){const p=S.data[0];je(!!p);const g=p,v=g.error||((w=g[0])===null||w===void 0?void 0:w.error);if(v){ee(Vt,`RPC '${e}' stream ${i} received error:`,v);const E=v.status;let A=function(y){const k=ht[y];if(k!==void 0)return ix(k)}(E),R=v.message;A===void 0&&(A=j.INTERNAL,R="Unknown error status: "+E+" with message "+v.message),f=!0,m.Ro(new te(A,R)),d.close()}else ee(Vt,`RPC '${e}' stream ${i} received:`,p),m.Vo(p)}}),b(a,WM.STAT_EVENT,S=>{S.stat===Ow.PROXY?ee(Vt,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===Ow.NOPROXY&&ee(Vt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.Ao()},0),m}}function Df(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(t){return new XO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e,n,r=1e3,i=1.5,o=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&ee("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e,n,r,i,o,s,a,l){this.si=e,this.Ko=r,this.$o=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new mx(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===j.RESOURCE_EXHAUSTED?(Kr(n.toString()),Kr("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(n)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new te(j.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return ee("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class UL extends gx{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=eL(this.serializer,e),r=function(o){if(!("targetChange"in o))return he.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?he.min():s.readTime?vr(s.readTime):he.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=km(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=vm(l)?{documents:rL(o,l)}:{query:iL(o,l)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=ax(o,s.resumeToken);const c=wm(o,s.expectedCount);c!==null&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(he.min())>0){a.readTime=md(o,s.snapshotVersion.toTimestamp());const c=wm(o,s.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=sL(this.serializer,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=km(this.serializer),n.removeTarget=e,this.e_(n)}}class jL extends gx{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=nL(e.writeResults,e.commitTime),r=vr(e.commitTime);return this.listener.I_(r,n)}return je(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=km(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>tL(this.serializer,r))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new te(j.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.wo(e,n,r,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new te(j.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,n,r,o,s,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new te(j.UNKNOWN,o.toString())})}terminate(){this.d_=!0}}class HL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Kr(n),this.f_=!1):ee("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(s=>{r.enqueueAndForget(async()=>{Fo(this)&&(ee("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=pe(l);c.C_.add(4),await vc(c),c.M_.set("Unknown"),c.C_.delete(4),await wh(c)}(this))})}),this.M_=new HL(r,i)}}async function wh(t){if(Fo(t))for(const e of t.v_)await e(!0)}async function vc(t){for(const e of t.v_)await e(!1)}function vx(t,e){const n=pe(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),Rv(n)?Av(n):na(n).Ho()&&Iv(n,e))}function yx(t,e){const n=pe(t),r=na(n);n.D_.delete(e),r.Ho()&&wx(n,e),n.D_.size===0&&(r.Ho()?r.Zo():Fo(n)&&n.M_.set("Unknown"))}function Iv(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(he.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}na(t).u_(e)}function wx(t,e){t.x_.Oe(e),na(t).c_(e)}function Av(t){t.x_=new GO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),na(t).start(),t.M_.g_()}function Rv(t){return Fo(t)&&!na(t).jo()&&t.D_.size>0}function Fo(t){return pe(t).C_.size===0}function _x(t){t.x_=void 0}async function YL(t){t.D_.forEach((e,n)=>{Iv(t,e)})}async function GL(t,e){_x(t),Rv(t)?(t.M_.w_(e),Av(t)):t.M_.set("Unknown")}async function qL(t,e,n){if(t.M_.set("Online"),e instanceof sx&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.D_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.D_.delete(a),i.x_.removeTarget(a))}(t,e)}catch(r){ee("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await gd(t,r)}else if(e instanceof _u?t.x_.$e(e):e instanceof ox?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(he.min()))try{const r=await px(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.x_.it(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=o.D_.get(c);u&&o.D_.set(c,u.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{const u=o.D_.get(l);if(!u)return;o.D_.set(l,u.withResumeToken(qt.EMPTY_BYTE_STRING,u.snapshotVersion)),wx(o,l);const d=new yi(u.target,l,c,u.sequenceNumber);Iv(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ee("RemoteStore","Failed to raise snapshot:",r),await gd(t,r)}}async function gd(t,e,n){if(!pc(e))throw e;t.C_.add(1),await vc(t),t.M_.set("Offline"),n||(n=()=>px(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ee("RemoteStore","Retrying IndexedDB access"),await n(),t.C_.delete(1),await wh(t)})}function bx(t,e){return e().catch(n=>gd(t,n,e))}async function _h(t){const e=pe(t),n=Vi(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;KL(e);)try{const i=await OL(e.localStore,r);if(i===null){e.b_.length===0&&n.Zo();break}r=i.batchId,QL(e,i)}catch(i){await gd(e,i)}kx(e)&&Ex(e)}function KL(t){return Fo(t)&&t.b_.length<10}function QL(t,e){t.b_.push(e);const n=Vi(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function kx(t){return Fo(t)&&!Vi(t).jo()&&t.b_.length>0}function Ex(t){Vi(t).start()}async function XL(t){Vi(t).E_()}async function JL(t){const e=Vi(t);for(const n of t.b_)e.P_(n.mutations)}async function ZL(t,e,n){const r=t.b_.shift(),i=kv.from(r,e,n);await bx(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await _h(t)}async function eD(t,e){e&&Vi(t).h_&&await async function(r,i){if(function(s){return HO(s)&&s!==j.ABORTED}(i.code)){const o=r.b_.shift();Vi(r).Yo(),await bx(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await _h(r)}}(t,e),kx(t)&&Ex(t)}async function r1(t,e){const n=pe(t);n.asyncQueue.verifyOperationInProgress(),ee("RemoteStore","RemoteStore received new credentials");const r=Fo(n);n.C_.add(3),await vc(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),await wh(n)}async function tD(t,e){const n=pe(t);e?(n.C_.delete(2),await wh(n)):e||(n.C_.add(2),await vc(n),n.M_.set("Unknown"))}function na(t){return t.O_||(t.O_=function(n,r,i){const o=pe(n);return o.A_(),new UL(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:YL.bind(null,t),Io:GL.bind(null,t),a_:qL.bind(null,t)}),t.v_.push(async e=>{e?(t.O_.Yo(),Rv(t)?Av(t):t.M_.set("Unknown")):(await t.O_.stop(),_x(t))})),t.O_}function Vi(t){return t.N_||(t.N_=function(n,r,i){const o=pe(n);return o.A_(),new jL(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:XL.bind(null,t),Io:eD.bind(null,t),T_:JL.bind(null,t),I_:ZL.bind(null,t)}),t.v_.push(async e=>{e?(t.N_.Yo(),await _h(t)):(await t.N_.stop(),t.b_.length>0&&(ee("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))})),t.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new Pv(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mv(t,e){if(Kr("AsyncQueue",`${e}: ${t}`),pc(t))return new te(j.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e){this.comparator=e?(n,r)=>e(n,r)||oe.comparator(n.key,r.key):(n,r)=>oe.comparator(n.key,r.key),this.keyedMap=$a(),this.sortedSet=new Je(this.comparator)}static emptySet(e){return new bs(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof bs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new bs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(){this.B_=new Je(oe.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):ue():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class $s{constructor(e,n,r,i,o,s,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new $s(e,n,bs.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(){this.k_=void 0,this.listeners=[]}}class rD{constructor(){this.queries=new ta(e=>HE(e),fh),this.onlineState="Unknown",this.q_=new Set}}async function xx(t,e){const n=pe(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new nD),i)try{o.k_=await n.onListen(r)}catch(s){const a=Mv(s,`Initialization of query '${Ho(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.Q_(n.onlineState),o.k_&&e.K_(o.k_)&&Ov(n)}async function Sx(t,e){const n=pe(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=o.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function iD(t,e){const n=pe(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.listeners)a.K_(i)&&(r=!0);s.k_=i}}r&&Ov(n)}function oD(t,e,n){const r=pe(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function Ov(t){t.q_.forEach(e=>{e.next()})}class Tx{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new $s(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=$s.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e){this.key=e}}class Ix{constructor(e){this.key=e}}class sD{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=ye(),this.mutatedKeys=ye(),this._a=WE(e),this.aa=new bs(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new i1,i=n?n.aa:this.aa;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const h=i.get(u),f=ph(this.query,d)?d:null,m=!!h&&this.mutatedKeys.has(h.key),b=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let S=!1;h&&f?h.data.isEqual(f.data)?m!==b&&(r.track({type:3,doc:f}),S=!0):this.ha(h,f)||(r.track({type:2,doc:f}),S=!0,(l&&this._a(f,l)>0||c&&this._a(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),S=!0):h&&!f&&(r.track({type:1,doc:h}),S=!0,(l||c)&&(a=!0)),S&&(f?(s=s.add(f),o=b?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),r.track({type:1,doc:u})}return{aa:s,la:r,Zi:a,mutatedKeys:o}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((c,u)=>function(h,f){const m=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ue()}};return m(h)-m(f)}(c.type,u.type)||this._a(c.doc,u.doc)),this.Pa(r);const s=n?this.Ia():[],a=this.oa.size===0&&this.current?1:0,l=a!==this.sa;return this.sa=a,o.length!==0||l?{snapshot:new $s(this.query,e.aa,i,o,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:s}:{Ta:s}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new i1,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=ye(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new Ix(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new Cx(r))}),n}da(e){this.ia=e.ls,this.oa=ye();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return $s.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class aD{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class lD{constructor(e){this.key=e,this.Ra=!1}}class cD{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new ta(a=>HE(a),fh),this.fa=new Map,this.ga=new Set,this.pa=new Je(oe.comparator),this.ya=new Map,this.wa=new Sv,this.Sa={},this.ba=new Map,this.Da=Vs.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function uD(t,e){const n=_D(t);let r,i;const o=n.ma.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Aa();else{const s=await LL(n.localStore,gr(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=await dD(n,e,r,a==="current",s.resumeToken),n.isPrimaryClient&&vx(n.remoteStore,s)}return i}async function dD(t,e,n,r,i){t.va=(d,h,f)=>async function(b,S,w,p){let g=S.view.ca(w);g.Zi&&(g=await e1(b.localStore,S.query,!1).then(({documents:A})=>S.view.ca(A,g)));const v=p&&p.targetChanges.get(S.targetId),E=S.view.applyChanges(g,b.isPrimaryClient,v);return s1(b,S.targetId,E.Ta),E.snapshot}(t,d,h,f);const o=await e1(t.localStore,e,!0),s=new sD(e,o.ls),a=s.ca(o.documents),l=gc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(a,t.isPrimaryClient,l);s1(t,n,c.Ta);const u=new aD(e,n,s);return t.ma.set(e,u),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),c.snapshot}async function hD(t,e){const n=pe(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(o=>!fh(o,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Em(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),yx(n.remoteStore,r.targetId),xm(n,r.targetId)}).catch(fc)):(xm(n,r.targetId),await Em(n.localStore,r.targetId,!0))}async function fD(t,e,n){const r=bD(t);try{const i=await function(s,a){const l=pe(s),c=bt.now(),u=a.reduce((f,m)=>f.add(m.key),ye());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let m=Qr(),b=ye();return l.ss.getEntries(f,u).next(S=>{m=S,m.forEach((w,p)=>{p.isValidDocument()||(b=b.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,m)).next(S=>{d=S;const w=[];for(const p of a){const g=VO(p,d.get(p.key).overlayedDocument);g!=null&&w.push(new Bo(p.key,g,BE(g.value.mapValue),$r.exists(!0)))}return l.mutationQueue.addMutationBatch(f,c,w,a)}).next(S=>{h=S;const w=S.applyToLocalDocumentSet(d,b);return l.documentOverlayCache.saveOverlays(f,S.batchId,w)})}).then(()=>({batchId:h.batchId,changes:GE(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let c=s.Sa[s.currentUser.toKey()];c||(c=new Je(Ae)),c=c.insert(a,l),s.Sa[s.currentUser.toKey()]=c}(r,i.batchId,n),await yc(r,i.changes),await _h(r.remoteStore)}catch(i){const o=Mv(i,"Failed to persist write");n.reject(o)}}async function Ax(t,e){const n=pe(t);try{const r=await PL(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.ya.get(o);s&&(je(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ra=!0:i.modifiedDocuments.size>0?je(s.Ra):i.removedDocuments.size>0&&(je(s.Ra),s.Ra=!1))}),await yc(n,r,e)}catch(r){await fc(r)}}function o1(t,e,n){const r=pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ma.forEach((o,s)=>{const a=s.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=pe(s);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const h of d.listeners)h.Q_(a)&&(c=!0)}),c&&Ov(l)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function pD(t,e,n){const r=pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),o=i&&i.key;if(o){let s=new Je(oe.comparator);s=s.insert(o,zt.newNoDocument(o,he.min()));const a=ye().add(o),l=new vh(he.min(),new Map,new Je(Ae),s,a);await Ax(r,l),r.pa=r.pa.remove(o),r.ya.delete(e),Lv(r)}else await Em(r.localStore,e,!1).then(()=>xm(r,e,n)).catch(fc)}async function mD(t,e){const n=pe(t),r=e.batch.batchId;try{const i=await RL(n.localStore,e);Px(n,r,null),Rx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await yc(n,i)}catch(i){await fc(i)}}async function gD(t,e,n){const r=pe(t);try{const i=await function(s,a){const l=pe(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(je(d!==null),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);Px(r,e,n),Rx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await yc(r,i)}catch(i){await fc(i)}}function Rx(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function Px(t,e,n){const r=pe(t);let i=r.Sa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function xm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||Mx(t,r)})}function Mx(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);n!==null&&(yx(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),Lv(t))}function s1(t,e,n){for(const r of n)r instanceof Cx?(t.wa.addReference(r.key,e),vD(t,r)):r instanceof Ix?(ee("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||Mx(t,r.key)):ue()}function vD(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(ee("SyncEngine","New document in limbo: "+n),t.ga.add(r),Lv(t))}function Lv(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new oe(Ge.fromString(e)),r=t.Da.next();t.ya.set(r,new lD(n)),t.pa=t.pa.insert(n,r),vx(t.remoteStore,new yi(gr(bv(n.path)),r,"TargetPurposeLimboResolution",mv._e))}}async function yc(t,e,n){const r=pe(t),i=[],o=[],s=[];r.ma.isEmpty()||(r.ma.forEach((a,l)=>{s.push(r.va(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const u=Cv.Qi(l.targetId,c);o.push(u)}}))}),await Promise.all(s),r.Va.a_(i),await async function(l,c){const u=pe(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>z.forEach(c,h=>z.forEach(h.ki,f=>u.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>z.forEach(h.qi,f=>u.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!pc(d))throw d;ee("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=u.ts.get(h),m=f.snapshotVersion,b=f.withLastLimboFreeSnapshotVersion(m);u.ts=u.ts.insert(h,b)}}}(r.localStore,o))}async function yD(t,e){const n=pe(t);if(!n.currentUser.isEqual(e)){ee("SyncEngine","User change. New user:",e.toKey());const r=await fx(n.localStore,e);n.currentUser=e,function(o,s){o.ba.forEach(a=>{a.forEach(l=>{l.reject(new te(j.CANCELLED,s))})}),o.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await yc(n,r._s)}}function wD(t,e){const n=pe(t),r=n.ya.get(e);if(r&&r.Ra)return ye().add(r.key);{let i=ye();const o=n.fa.get(e);if(!o)return i;for(const s of o){const a=n.ma.get(s);i=i.unionWith(a.view.ua)}return i}}function _D(t){const e=pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ax.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pD.bind(null,e),e.Va.a_=iD.bind(null,e.eventManager),e.Va.Fa=oD.bind(null,e.eventManager),e}function bD(t){const e=pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gD.bind(null,e),e}class a1{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=yh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return AL(this.persistence,new CL,e.initialUser,this.serializer)}createPersistence(e){return new xL(Tv.jr,this.serializer)}createSharedClientState(e){return new NL}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class kD{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>o1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=yD.bind(null,this.syncEngine),await tD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new rD}()}createDatastore(e){const n=yh(e.databaseInfo.databaseId),r=function(o){return new $L(o)}(e.databaseInfo);return function(o,s,a,l){return new zL(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new WL(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>o1(this.syncEngine,n,0),function(){return n1.D()?new n1:new BL}())}createSyncEngine(e,n){return function(i,o,s,a,l,c,u){const d=new cD(i,o,s,a,l,c);return u&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=pe(n);ee("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await vc(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Kr("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=$t.UNAUTHENTICATED,this.clientId=LE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{ee("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ee("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new te(j.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Mv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Nf(t,e){t.asyncQueue.verifyOperationInProgress(),ee("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await fx(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function l1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await SD(t);ee("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>r1(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>r1(e.remoteStore,o)),t._onlineComponents=e}function xD(t){return t.name==="FirebaseError"?t.code===j.FAILED_PRECONDITION||t.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function SD(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ee("FirestoreClient","Using user provided OfflineComponentProvider");try{await Nf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!xD(n))throw n;Ds("Error using user provided cache. Falling back to memory cache: "+n),await Nf(t,new a1)}}else ee("FirestoreClient","Using default OfflineComponentProvider"),await Nf(t,new a1);return t._offlineComponents}async function Lx(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ee("FirestoreClient","Using user provided OnlineComponentProvider"),await l1(t,t._uninitializedComponentsProvider._online)):(ee("FirestoreClient","Using default OnlineComponentProvider"),await l1(t,new kD))),t._onlineComponents}function TD(t){return Lx(t).then(e=>e.syncEngine)}async function Dx(t){const e=await Lx(t),n=e.eventManager;return n.onListen=uD.bind(null,e.syncEngine),n.onUnlisten=hD.bind(null,e.syncEngine),n}function CD(t,e,n={}){const r=new Vr;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,c){const u=new Ox({next:h=>{s.enqueueAndForget(()=>Sx(o,d));const f=h.docs.has(a);!f&&h.fromCache?c.reject(new te(j.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&l&&l.source==="server"?c.reject(new te(j.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new Tx(bv(a.path),u,{includeMetadataChanges:!0,J_:!0});return xx(o,d)}(await Dx(t),t.asyncQueue,e,n,r)),r.promise}function ID(t,e,n={}){const r=new Vr;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,c){const u=new Ox({next:h=>{s.enqueueAndForget(()=>Sx(o,d)),h.fromCache&&l.source==="server"?c.reject(new te(j.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new Tx(a,u,{includeMetadataChanges:!0,J_:!0});return xx(o,d)}(await Dx(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(t,e,n){if(!n)throw new te(j.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function AD(t,e,n,r){if(e===!0&&r===!0)throw new te(j.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function u1(t){if(!oe.isDocumentKey(t))throw new te(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function d1(t){if(oe.isDocumentKey(t))throw new te(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Dv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ue()}function Us(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Dv(t);throw new te(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new te(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new te(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}AD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Nx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new te(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new te(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new te(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new h1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new te(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new te(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new h1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new KM;switch(r.type){case"firstParty":return new ZM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new te(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=c1.get(n);r&&(ee("ComponentProvider","Removing Datastore"),c1.delete(n),r.terminate())}(this),Promise.resolve()}}function RD(t,e,n,r={}){var i;const o=(t=Us(t,bh))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Ds("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=$t.MOCK_USER;else{a=_k(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new te(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new $t(c)}t._authCredentials=new QM(new OE(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new kh(this.firestore,e,this._query)}}class Ln{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ln(this.firestore,e,this._key)}}class Oi extends kh{constructor(e,n,r){super(e,n,bv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ln(this.firestore,null,new oe(e))}withConverter(e){return new Oi(this.firestore,e,this._path)}}function Fx(t,e,...n){if(t=Gr(t),Bx("collection","path",e),t instanceof bh){const r=Ge.fromString(e,...n);return d1(r),new Oi(t,null,r)}{if(!(t instanceof Ln||t instanceof Oi))throw new te(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ge.fromString(e,...n));return d1(r),new Oi(t.firestore,null,r)}}function Vx(t,e,...n){if(t=Gr(t),arguments.length===1&&(e=LE.newId()),Bx("doc","path",e),t instanceof bh){const r=Ge.fromString(e,...n);return u1(r),new Ln(t,null,new oe(r))}{if(!(t instanceof Ln||t instanceof Oi))throw new te(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ge.fromString(e,...n));return u1(r),new Ln(t.firestore,t instanceof Oi?t.converter:null,new oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new mx(this,"async_queue_retry"),this.iu=()=>{const n=Df();n&&ee("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=Df();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=Df();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Vr;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!pc(e))throw e;ee("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{this.eu=r,this.tu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Kr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=Pv.createAndSchedule(this,e,n,r,o=>this.au(o));return this.Xa.push(i),i}su(){this.eu&&ue()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}class Eh extends bh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new PD}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||$x(this),this._firestoreClient.terminate()}}function MD(t,e){const n=typeof t=="object"?t:Ik(),r=typeof t=="string"?t:e||"(default)",i=Sk(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=yk("firestore");o&&RD(i,...o)}return i}function Nv(t){return t._firestoreClient||$x(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function $x(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,c,u){return new dO(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,Nx(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new ED(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e){this._byteString=e}static fromBase64String(e){try{return new js(qt.fromBase64String(e))}catch(n){throw new te(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new js(qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new te(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ae(this._lat,e._lat)||Ae(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD=/^__.*__$/;class LD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Bo(e,this.data,this.fieldMask,n,this.fieldTransforms):new mc(e,this.data,n,this.fieldTransforms)}}function jx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ue()}}class Vv{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Vv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return vd(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(jx(this.Iu)&&OD.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class DD{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||yh(e)}pu(e,n,r,i=!1){return new Vv({Iu:e,methodName:n,gu:r,path:Pt.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ND(t){const e=t._freezeSettings(),n=yh(t._databaseId);return new DD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function BD(t,e,n,r,i,o={}){const s=t.pu(o.merge||o.mergeFields?2:0,e,n,i);Yx("Data must be an object, but it was:",s,r);const a=Hx(r,s);let l,c;if(o.merge)l=new Wn(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const d of o.mergeFields){const h=FD(e,d,n);if(!s.contains(h))throw new te(j.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);$D(u,h)||u.push(h)}l=new Wn(u),c=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=s.fieldTransforms;return new LD(new Pn(a),l,c)}function zx(t,e){if(Wx(t=Gr(t)))return Yx("Unsupported field value:",e,t),Hx(t,e);if(t instanceof Ux)return function(r,i){if(!jx(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=zx(a,i.Vu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Gr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return OO(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=bt.fromDate(r);return{timestampValue:md(i.serializer,o)}}if(r instanceof bt){const o=new bt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:md(i.serializer,o)}}if(r instanceof Fv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof js)return{bytesValue:ax(i.serializer,r._byteString)};if(r instanceof Ln){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:xv(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${Dv(r)}`)}(t,e)}function Hx(t,e){const n={};return DE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ea(t,(r,i)=>{const o=zx(i,e.Eu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function Wx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof bt||t instanceof Fv||t instanceof js||t instanceof Ln||t instanceof Ux)}function Yx(t,e,n){if(!Wx(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Dv(n);throw r==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+r)}}function FD(t,e,n){if((e=Gr(e))instanceof Bv)return e._internalPath;if(typeof e=="string")return Gx(t,e);throw vd("Field path arguments must be of type string or ",t,!1,void 0,n)}const VD=new RegExp("[~\\*/\\[\\]]");function Gx(t,e,n){if(e.search(VD)>=0)throw vd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Bv(...e.split("."))._internalPath}catch{throw vd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function vd(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new te(j.INVALID_ARGUMENT,a+t+l)}function $D(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new UD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Kx("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class UD extends qx{data(){return super.data()}}function Kx(t,e){return typeof e=="string"?Gx(t,e):e instanceof Bv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new te(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zD{convertValue(e,n="none"){switch(Ao(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Io(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ue()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ea(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new Fv(ft(e.latitude),ft(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=vv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(zl(e));default:return null}}convertTimestamp(e){const n=Fi(e);return new bt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ge.fromString(e);je(hx(r));const i=new Hl(r.get(1),r.get(3)),o=new oe(r.popFirst(5));return i.isEqual(n)||Kr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qx extends qx{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new bu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Kx("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class bu extends Qx{data(e={}){return super.data(e)}}class WD{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ja(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new bu(this._firestore,this._userDataWriter,r.key,r,new ja(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new te(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new bu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ja(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new bu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ja(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:YD(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function YD(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ue()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(t){t=Us(t,Ln);const e=Us(t.firestore,Eh);return CD(Nv(e),t._key).then(n=>XD(e,t,n))}class Xx extends zD{constructor(e){super(),this.firestore=e}convertBytes(e){return new js(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ln(this.firestore,null,n)}}function qD(t){t=Us(t,kh);const e=Us(t.firestore,Eh),n=Nv(e),r=new Xx(e);return jD(t._query),ID(n,t._query).then(i=>new WD(e,r,t,i))}function KD(t,e){const n=Us(t.firestore,Eh),r=Vx(t),i=HD(t.converter,e);return QD(n,[BD(ND(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,$r.exists(!1))]).then(()=>r)}function QD(t,e){return function(r,i){const o=new Vr;return r.asyncQueue.enqueueAndForget(async()=>fD(await TD(r),i,o)),o.promise}(Nv(t),e)}function XD(t,e,n){const r=n.docs.get(e._key),i=new Xx(t);return new Qx(t,i,e._key,r,new ja(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Zs=i})(Tk),Ml(new Os("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Eh(new XM(r.getProvider("auth-internal")),new tO(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new te(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hl(c.options.projectId,u)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Mi(Lw,"4.3.2",e),Mi(Lw,"4.3.2","esm2017")})();var JD="firebase",ZD="10.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mi(JD,ZD,"app");const eN={apiKey:"AIzaSyCDDe4i9TFPiVsMNSkkABfhvNLaT5lD2GU",authDomain:"the-astrum-news.firebaseapp.com",projectId:"the-astrum-news",storageBucket:"the-astrum-news.appspot.com",messagingSenderId:"467644112874",appId:"1:467644112874:web:a2cffbf403e5e164da9c93",measurementId:"G-Q84PG1VSKS"},tN=Ck(eN),$v=MD(tN),nN=async()=>{const t=[];try{(await qD(Fx($v,"Posts"))).forEach(n=>{t.push({...n.data(),id:n.id})})}catch(e){console.error(`Error: ${e.message}`)}return t},rN=async t=>{try{const e=await GD(Vx($v,"Posts",t));return e.exists()?e.data():console.log("No such document!")}catch(e){console.error(e.message)}},iN=async t=>{try{const e=await KD(Fx($v,"Posts"),t);console.log(e.id)}catch(e){console.error(e)}};function oN(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var Jx;function G(){return Jx.apply(null,arguments)}function sN(t){Jx=t}function er(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function go(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function Ce(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Uv(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(Ce(t,e))return!1;return!0}function sn(t){return t===void 0}function Xr(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function wc(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function Zx(t,e){var n=[],r,i=t.length;for(r=0;r<i;++r)n.push(e(t[r],r));return n}function wi(t,e){for(var n in e)Ce(e,n)&&(t[n]=e[n]);return Ce(e,"toString")&&(t.toString=e.toString),Ce(e,"valueOf")&&(t.valueOf=e.valueOf),t}function br(t,e,n,r){return ES(t,e,n,r,!0).utc()}function aN(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function me(t){return t._pf==null&&(t._pf=aN()),t._pf}var Sm;Array.prototype.some?Sm=Array.prototype.some:Sm=function(t){var e=Object(this),n=e.length>>>0,r;for(r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};function jv(t){if(t._isValid==null){var e=me(t),n=Sm.call(e.parsedDateParts,function(i){return i!=null}),r=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(r=r&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=r;else return r}return t._isValid}function xh(t){var e=br(NaN);return t!=null?wi(me(e),t):me(e).userInvalidated=!0,e}var f1=G.momentProperties=[],Bf=!1;function zv(t,e){var n,r,i,o=f1.length;if(sn(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),sn(e._i)||(t._i=e._i),sn(e._f)||(t._f=e._f),sn(e._l)||(t._l=e._l),sn(e._strict)||(t._strict=e._strict),sn(e._tzm)||(t._tzm=e._tzm),sn(e._isUTC)||(t._isUTC=e._isUTC),sn(e._offset)||(t._offset=e._offset),sn(e._pf)||(t._pf=me(e)),sn(e._locale)||(t._locale=e._locale),o>0)for(n=0;n<o;n++)r=f1[n],i=e[r],sn(i)||(t[r]=i);return t}function _c(t){zv(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Bf===!1&&(Bf=!0,G.updateOffset(this),Bf=!1)}function tr(t){return t instanceof _c||t!=null&&t._isAMomentObject!=null}function eS(t){G.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function Bn(t,e){var n=!0;return wi(function(){if(G.deprecationHandler!=null&&G.deprecationHandler(null,t),n){var r=[],i,o,s,a=arguments.length;for(o=0;o<a;o++){if(i="",typeof arguments[o]=="object"){i+=`
[`+o+"] ";for(s in arguments[0])Ce(arguments[0],s)&&(i+=s+": "+arguments[0][s]+", ");i=i.slice(0,-2)}else i=arguments[o];r.push(i)}eS(t+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return e.apply(this,arguments)},e)}var p1={};function tS(t,e){G.deprecationHandler!=null&&G.deprecationHandler(t,e),p1[t]||(eS(e),p1[t]=!0)}G.suppressDeprecationWarnings=!1;G.deprecationHandler=null;function kr(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function lN(t){var e,n;for(n in t)Ce(t,n)&&(e=t[n],kr(e)?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Tm(t,e){var n=wi({},t),r;for(r in e)Ce(e,r)&&(go(t[r])&&go(e[r])?(n[r]={},wi(n[r],t[r]),wi(n[r],e[r])):e[r]!=null?n[r]=e[r]:delete n[r]);for(r in t)Ce(t,r)&&!Ce(e,r)&&go(t[r])&&(n[r]=wi({},n[r]));return n}function Hv(t){t!=null&&this.set(t)}var Cm;Object.keys?Cm=Object.keys:Cm=function(t){var e,n=[];for(e in t)Ce(t,e)&&n.push(e);return n};var cN={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function uN(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return kr(r)?r.call(e,n):r}function _r(t,e,n){var r=""+Math.abs(t),i=e-r.length,o=t>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var Wv=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Jc=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ff={},ks={};function ne(t,e,n,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),t&&(ks[t]=i),e&&(ks[e[0]]=function(){return _r(i.apply(this,arguments),e[1],e[2])}),n&&(ks[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function dN(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function hN(t){var e=t.match(Wv),n,r;for(n=0,r=e.length;n<r;n++)ks[e[n]]?e[n]=ks[e[n]]:e[n]=dN(e[n]);return function(i){var o="",s;for(s=0;s<r;s++)o+=kr(e[s])?e[s].call(i,t):e[s];return o}}function ku(t,e){return t.isValid()?(e=nS(e,t.localeData()),Ff[e]=Ff[e]||hN(e),Ff[e](t)):t.localeData().invalidDate()}function nS(t,e){var n=5;function r(i){return e.longDateFormat(i)||i}for(Jc.lastIndex=0;n>=0&&Jc.test(t);)t=t.replace(Jc,r),Jc.lastIndex=0,n-=1;return t}var fN={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function pN(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(Wv).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[t])}var mN="Invalid date";function gN(){return this._invalidDate}var vN="%d",yN=/\d{1,2}/;function wN(t){return this._ordinal.replace("%d",t)}var _N={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function bN(t,e,n,r){var i=this._relativeTime[n];return kr(i)?i(t,e,n,r):i.replace(/%d/i,t)}function kN(t,e){var n=this._relativeTime[t>0?"future":"past"];return kr(n)?n(e):n.replace(/%s/i,e)}var al={};function Kt(t,e){var n=t.toLowerCase();al[n]=al[n+"s"]=al[e]=t}function Fn(t){return typeof t=="string"?al[t]||al[t.toLowerCase()]:void 0}function Yv(t){var e={},n,r;for(r in t)Ce(t,r)&&(n=Fn(r),n&&(e[n]=t[r]));return e}var rS={};function Qt(t,e){rS[t]=e}function EN(t){var e=[],n;for(n in t)Ce(t,n)&&e.push({unit:n,priority:rS[n]});return e.sort(function(r,i){return r.priority-i.priority}),e}function Sh(t){return t%4===0&&t%100!==0||t%400===0}function An(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function ge(t){var e=+t,n=0;return e!==0&&isFinite(e)&&(n=An(e)),n}function ra(t,e){return function(n){return n!=null?(iS(this,t,n),G.updateOffset(this,e),this):yd(this,t)}}function yd(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function iS(t,e,n){t.isValid()&&!isNaN(n)&&(e==="FullYear"&&Sh(t.year())&&t.month()===1&&t.date()===29?(n=ge(n),t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),Ph(n,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function xN(t){return t=Fn(t),kr(this[t])?this[t]():this}function SN(t,e){if(typeof t=="object"){t=Yv(t);var n=EN(t),r,i=n.length;for(r=0;r<i;r++)this[n[r].unit](t[n[r].unit])}else if(t=Fn(t),kr(this[t]))return this[t](e);return this}var oS=/\d/,xn=/\d\d/,sS=/\d{3}/,Gv=/\d{4}/,Th=/[+-]?\d{6}/,He=/\d\d?/,aS=/\d\d\d\d?/,lS=/\d\d\d\d\d\d?/,Ch=/\d{1,3}/,qv=/\d{1,4}/,Ih=/[+-]?\d{1,6}/,ia=/\d+/,Ah=/[+-]?\d+/,TN=/Z|[+-]\d\d:?\d\d/gi,Rh=/Z|[+-]\d\d(?::?\d\d)?/gi,CN=/[+-]?\d+(\.\d{1,3})?/,bc=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,wd;wd={};function X(t,e,n){wd[t]=kr(e)?e:function(r,i){return r&&n?n:e}}function IN(t,e){return Ce(wd,t)?wd[t](e._strict,e._locale):new RegExp(AN(t))}function AN(t){return gn(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,n,r,i,o){return n||r||i||o}))}function gn(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Im={};function Le(t,e){var n,r=e,i;for(typeof t=="string"&&(t=[t]),Xr(e)&&(r=function(o,s){s[e]=ge(o)}),i=t.length,n=0;n<i;n++)Im[t[n]]=r}function kc(t,e){Le(t,function(n,r,i,o){i._w=i._w||{},e(n,i._w,i,o)})}function RN(t,e,n){e!=null&&Ce(Im,t)&&Im[t](e,n._a,n,t)}var Yt=0,Lr=1,ur=2,_t=3,Yn=4,Dr=5,ho=6,PN=7,MN=8;function ON(t,e){return(t%e+e)%e}var at;Array.prototype.indexOf?at=Array.prototype.indexOf:at=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function Ph(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=ON(e,12);return t+=(e-n)/12,n===1?Sh(t)?29:28:31-n%7%2}ne("M",["MM",2],"Mo",function(){return this.month()+1});ne("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});ne("MMMM",0,0,function(t){return this.localeData().months(this,t)});Kt("month","M");Qt("month",8);X("M",He);X("MM",He,xn);X("MMM",function(t,e){return e.monthsShortRegex(t)});X("MMMM",function(t,e){return e.monthsRegex(t)});Le(["M","MM"],function(t,e){e[Lr]=ge(t)-1});Le(["MMM","MMMM"],function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);i!=null?e[Lr]=i:me(n).invalidMonth=t});var LN="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),cS="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),uS=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,DN=bc,NN=bc;function BN(t,e){return t?er(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||uS).test(e)?"format":"standalone"][t.month()]:er(this._months)?this._months:this._months.standalone}function FN(t,e){return t?er(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[uS.test(e)?"format":"standalone"][t.month()]:er(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function VN(t,e,n){var r,i,o,s=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=br([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?e==="MMM"?(i=at.call(this._shortMonthsParse,s),i!==-1?i:null):(i=at.call(this._longMonthsParse,s),i!==-1?i:null):e==="MMM"?(i=at.call(this._shortMonthsParse,s),i!==-1?i:(i=at.call(this._longMonthsParse,s),i!==-1?i:null)):(i=at.call(this._longMonthsParse,s),i!==-1?i:(i=at.call(this._shortMonthsParse,s),i!==-1?i:null))}function $N(t,e,n){var r,i,o;if(this._monthsParseExact)return VN.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=br([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&e==="MMMM"&&this._longMonthsParse[r].test(t))return r;if(n&&e==="MMM"&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function dS(t,e){var n;if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=ge(e);else if(e=t.localeData().monthsParse(e),!Xr(e))return t}return n=Math.min(t.date(),Ph(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function hS(t){return t!=null?(dS(this,t),G.updateOffset(this,!0),this):yd(this,"Month")}function UN(){return Ph(this.year(),this.month())}function jN(t){return this._monthsParseExact?(Ce(this,"_monthsRegex")||fS.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(Ce(this,"_monthsShortRegex")||(this._monthsShortRegex=DN),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function zN(t){return this._monthsParseExact?(Ce(this,"_monthsRegex")||fS.call(this),t?this._monthsStrictRegex:this._monthsRegex):(Ce(this,"_monthsRegex")||(this._monthsRegex=NN),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function fS(){function t(s,a){return a.length-s.length}var e=[],n=[],r=[],i,o;for(i=0;i<12;i++)o=br([2e3,i]),e.push(this.monthsShort(o,"")),n.push(this.months(o,"")),r.push(this.months(o,"")),r.push(this.monthsShort(o,""));for(e.sort(t),n.sort(t),r.sort(t),i=0;i<12;i++)e[i]=gn(e[i]),n[i]=gn(n[i]);for(i=0;i<24;i++)r[i]=gn(r[i]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}ne("Y",0,0,function(){var t=this.year();return t<=9999?_r(t,4):"+"+t});ne(0,["YY",2],0,function(){return this.year()%100});ne(0,["YYYY",4],0,"year");ne(0,["YYYYY",5],0,"year");ne(0,["YYYYYY",6,!0],0,"year");Kt("year","y");Qt("year",1);X("Y",Ah);X("YY",He,xn);X("YYYY",qv,Gv);X("YYYYY",Ih,Th);X("YYYYYY",Ih,Th);Le(["YYYYY","YYYYYY"],Yt);Le("YYYY",function(t,e){e[Yt]=t.length===2?G.parseTwoDigitYear(t):ge(t)});Le("YY",function(t,e){e[Yt]=G.parseTwoDigitYear(t)});Le("Y",function(t,e){e[Yt]=parseInt(t,10)});function ll(t){return Sh(t)?366:365}G.parseTwoDigitYear=function(t){return ge(t)+(ge(t)>68?1900:2e3)};var pS=ra("FullYear",!0);function HN(){return Sh(this.year())}function WN(t,e,n,r,i,o,s){var a;return t<100&&t>=0?(a=new Date(t+400,e,n,r,i,o,s),isFinite(a.getFullYear())&&a.setFullYear(t)):a=new Date(t,e,n,r,i,o,s),a}function ql(t){var e,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function _d(t,e,n){var r=7+e-n,i=(7+ql(t,0,r).getUTCDay()-e)%7;return-i+r-1}function mS(t,e,n,r,i){var o=(7+n-r)%7,s=_d(t,r,i),a=1+7*(e-1)+o+s,l,c;return a<=0?(l=t-1,c=ll(l)+a):a>ll(t)?(l=t+1,c=a-ll(t)):(l=t,c=a),{year:l,dayOfYear:c}}function Kl(t,e,n){var r=_d(t.year(),e,n),i=Math.floor((t.dayOfYear()-r-1)/7)+1,o,s;return i<1?(s=t.year()-1,o=i+Ur(s,e,n)):i>Ur(t.year(),e,n)?(o=i-Ur(t.year(),e,n),s=t.year()+1):(s=t.year(),o=i),{week:o,year:s}}function Ur(t,e,n){var r=_d(t,e,n),i=_d(t+1,e,n);return(ll(t)-r+i)/7}ne("w",["ww",2],"wo","week");ne("W",["WW",2],"Wo","isoWeek");Kt("week","w");Kt("isoWeek","W");Qt("week",5);Qt("isoWeek",5);X("w",He);X("ww",He,xn);X("W",He);X("WW",He,xn);kc(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=ge(t)});function YN(t){return Kl(t,this._week.dow,this._week.doy).week}var GN={dow:0,doy:6};function qN(){return this._week.dow}function KN(){return this._week.doy}function QN(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function XN(t){var e=Kl(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}ne("d",0,"do","day");ne("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});ne("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});ne("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});ne("e",0,0,"weekday");ne("E",0,0,"isoWeekday");Kt("day","d");Kt("weekday","e");Kt("isoWeekday","E");Qt("day",11);Qt("weekday",11);Qt("isoWeekday",11);X("d",He);X("e",He);X("E",He);X("dd",function(t,e){return e.weekdaysMinRegex(t)});X("ddd",function(t,e){return e.weekdaysShortRegex(t)});X("dddd",function(t,e){return e.weekdaysRegex(t)});kc(["dd","ddd","dddd"],function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);i!=null?e.d=i:me(n).invalidWeekday=t});kc(["d","e","E"],function(t,e,n,r){e[r]=ge(t)});function JN(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function ZN(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Kv(t,e){return t.slice(e,7).concat(t.slice(0,e))}var eB="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),gS="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),tB="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),nB=bc,rB=bc,iB=bc;function oB(t,e){var n=er(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?Kv(n,this._week.dow):t?n[t.day()]:n}function sB(t){return t===!0?Kv(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function aB(t){return t===!0?Kv(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function lB(t,e,n){var r,i,o,s=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=br([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?e==="dddd"?(i=at.call(this._weekdaysParse,s),i!==-1?i:null):e==="ddd"?(i=at.call(this._shortWeekdaysParse,s),i!==-1?i:null):(i=at.call(this._minWeekdaysParse,s),i!==-1?i:null):e==="dddd"?(i=at.call(this._weekdaysParse,s),i!==-1||(i=at.call(this._shortWeekdaysParse,s),i!==-1)?i:(i=at.call(this._minWeekdaysParse,s),i!==-1?i:null)):e==="ddd"?(i=at.call(this._shortWeekdaysParse,s),i!==-1||(i=at.call(this._weekdaysParse,s),i!==-1)?i:(i=at.call(this._minWeekdaysParse,s),i!==-1?i:null)):(i=at.call(this._minWeekdaysParse,s),i!==-1||(i=at.call(this._weekdaysParse,s),i!==-1)?i:(i=at.call(this._shortWeekdaysParse,s),i!==-1?i:null))}function cB(t,e,n){var r,i,o;if(this._weekdaysParseExact)return lB.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=br([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&e==="dddd"&&this._fullWeekdaysParse[r].test(t))return r;if(n&&e==="ddd"&&this._shortWeekdaysParse[r].test(t))return r;if(n&&e==="dd"&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}}function uB(t){if(!this.isValid())return t!=null?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return t!=null?(t=JN(t,this.localeData()),this.add(t-e,"d")):e}function dB(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function hB(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=ZN(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function fB(t){return this._weekdaysParseExact?(Ce(this,"_weekdaysRegex")||Qv.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(Ce(this,"_weekdaysRegex")||(this._weekdaysRegex=nB),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function pB(t){return this._weekdaysParseExact?(Ce(this,"_weekdaysRegex")||Qv.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Ce(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=rB),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function mB(t){return this._weekdaysParseExact?(Ce(this,"_weekdaysRegex")||Qv.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Ce(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=iB),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Qv(){function t(u,d){return d.length-u.length}var e=[],n=[],r=[],i=[],o,s,a,l,c;for(o=0;o<7;o++)s=br([2e3,1]).day(o),a=gn(this.weekdaysMin(s,"")),l=gn(this.weekdaysShort(s,"")),c=gn(this.weekdays(s,"")),e.push(a),n.push(l),r.push(c),i.push(a),i.push(l),i.push(c);e.sort(t),n.sort(t),r.sort(t),i.sort(t),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function Xv(){return this.hours()%12||12}function gB(){return this.hours()||24}ne("H",["HH",2],0,"hour");ne("h",["hh",2],0,Xv);ne("k",["kk",2],0,gB);ne("hmm",0,0,function(){return""+Xv.apply(this)+_r(this.minutes(),2)});ne("hmmss",0,0,function(){return""+Xv.apply(this)+_r(this.minutes(),2)+_r(this.seconds(),2)});ne("Hmm",0,0,function(){return""+this.hours()+_r(this.minutes(),2)});ne("Hmmss",0,0,function(){return""+this.hours()+_r(this.minutes(),2)+_r(this.seconds(),2)});function vS(t,e){ne(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}vS("a",!0);vS("A",!1);Kt("hour","h");Qt("hour",13);function yS(t,e){return e._meridiemParse}X("a",yS);X("A",yS);X("H",He);X("h",He);X("k",He);X("HH",He,xn);X("hh",He,xn);X("kk",He,xn);X("hmm",aS);X("hmmss",lS);X("Hmm",aS);X("Hmmss",lS);Le(["H","HH"],_t);Le(["k","kk"],function(t,e,n){var r=ge(t);e[_t]=r===24?0:r});Le(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t});Le(["h","hh"],function(t,e,n){e[_t]=ge(t),me(n).bigHour=!0});Le("hmm",function(t,e,n){var r=t.length-2;e[_t]=ge(t.substr(0,r)),e[Yn]=ge(t.substr(r)),me(n).bigHour=!0});Le("hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[_t]=ge(t.substr(0,r)),e[Yn]=ge(t.substr(r,2)),e[Dr]=ge(t.substr(i)),me(n).bigHour=!0});Le("Hmm",function(t,e,n){var r=t.length-2;e[_t]=ge(t.substr(0,r)),e[Yn]=ge(t.substr(r))});Le("Hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[_t]=ge(t.substr(0,r)),e[Yn]=ge(t.substr(r,2)),e[Dr]=ge(t.substr(i))});function vB(t){return(t+"").toLowerCase().charAt(0)==="p"}var yB=/[ap]\.?m?\.?/i,wB=ra("Hours",!0);function _B(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var wS={calendar:cN,longDateFormat:fN,invalidDate:mN,ordinal:vN,dayOfMonthOrdinalParse:yN,relativeTime:_N,months:LN,monthsShort:cS,week:GN,weekdays:eB,weekdaysMin:tB,weekdaysShort:gS,meridiemParse:yB},We={},Ta={},Ql;function bB(t,e){var n,r=Math.min(t.length,e.length);for(n=0;n<r;n+=1)if(t[n]!==e[n])return n;return r}function m1(t){return t&&t.toLowerCase().replace("_","-")}function kB(t){for(var e=0,n,r,i,o;e<t.length;){for(o=m1(t[e]).split("-"),n=o.length,r=m1(t[e+1]),r=r?r.split("-"):null;n>0;){if(i=Mh(o.slice(0,n).join("-")),i)return i;if(r&&r.length>=n&&bB(o,r)>=n-1)break;n--}e++}return Ql}function EB(t){return t.match("^[^/\\\\]*$")!=null}function Mh(t){var e=null,n;if(We[t]===void 0&&typeof Iu<"u"&&Iu&&Iu.exports&&EB(t))try{e=Ql._abbr,n=oN,n("./locale/"+t),Li(e)}catch{We[t]=null}return We[t]}function Li(t,e){var n;return t&&(sn(e)?n=ni(t):n=Jv(t,e),n?Ql=n:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Ql._abbr}function Jv(t,e){if(e!==null){var n,r=wS;if(e.abbr=t,We[t]!=null)tS("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=We[t]._config;else if(e.parentLocale!=null)if(We[e.parentLocale]!=null)r=We[e.parentLocale]._config;else if(n=Mh(e.parentLocale),n!=null)r=n._config;else return Ta[e.parentLocale]||(Ta[e.parentLocale]=[]),Ta[e.parentLocale].push({name:t,config:e}),null;return We[t]=new Hv(Tm(r,e)),Ta[t]&&Ta[t].forEach(function(i){Jv(i.name,i.config)}),Li(t),We[t]}else return delete We[t],null}function xB(t,e){if(e!=null){var n,r,i=wS;We[t]!=null&&We[t].parentLocale!=null?We[t].set(Tm(We[t]._config,e)):(r=Mh(t),r!=null&&(i=r._config),e=Tm(i,e),r==null&&(e.abbr=t),n=new Hv(e),n.parentLocale=We[t],We[t]=n),Li(t)}else We[t]!=null&&(We[t].parentLocale!=null?(We[t]=We[t].parentLocale,t===Li()&&Li(t)):We[t]!=null&&delete We[t]);return We[t]}function ni(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Ql;if(!er(t)){if(e=Mh(t),e)return e;t=[t]}return kB(t)}function SB(){return Cm(We)}function Zv(t){var e,n=t._a;return n&&me(t).overflow===-2&&(e=n[Lr]<0||n[Lr]>11?Lr:n[ur]<1||n[ur]>Ph(n[Yt],n[Lr])?ur:n[_t]<0||n[_t]>24||n[_t]===24&&(n[Yn]!==0||n[Dr]!==0||n[ho]!==0)?_t:n[Yn]<0||n[Yn]>59?Yn:n[Dr]<0||n[Dr]>59?Dr:n[ho]<0||n[ho]>999?ho:-1,me(t)._overflowDayOfYear&&(e<Yt||e>ur)&&(e=ur),me(t)._overflowWeeks&&e===-1&&(e=PN),me(t)._overflowWeekday&&e===-1&&(e=MN),me(t).overflow=e),t}var TB=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,CB=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,IB=/Z|[+-]\d\d(?::?\d\d)?/,Zc=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Vf=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],AB=/^\/?Date\((-?\d+)/i,RB=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,PB={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function _S(t){var e,n,r=t._i,i=TB.exec(r)||CB.exec(r),o,s,a,l,c=Zc.length,u=Vf.length;if(i){for(me(t).iso=!0,e=0,n=c;e<n;e++)if(Zc[e][1].exec(i[1])){s=Zc[e][0],o=Zc[e][2]!==!1;break}if(s==null){t._isValid=!1;return}if(i[3]){for(e=0,n=u;e<n;e++)if(Vf[e][1].exec(i[3])){a=(i[2]||" ")+Vf[e][0];break}if(a==null){t._isValid=!1;return}}if(!o&&a!=null){t._isValid=!1;return}if(i[4])if(IB.exec(i[4]))l="Z";else{t._isValid=!1;return}t._f=s+(a||"")+(l||""),ty(t)}else t._isValid=!1}function MB(t,e,n,r,i,o){var s=[OB(t),cS.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&s.push(parseInt(o,10)),s}function OB(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function LB(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function DB(t,e,n){if(t){var r=gS.indexOf(t),i=new Date(e[0],e[1],e[2]).getDay();if(r!==i)return me(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function NB(t,e,n){if(t)return PB[t];if(e)return 0;var r=parseInt(n,10),i=r%100,o=(r-i)/100;return o*60+i}function bS(t){var e=RB.exec(LB(t._i)),n;if(e){if(n=MB(e[4],e[3],e[2],e[5],e[6],e[7]),!DB(e[1],n,t))return;t._a=n,t._tzm=NB(e[8],e[9],e[10]),t._d=ql.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),me(t).rfc2822=!0}else t._isValid=!1}function BB(t){var e=AB.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(_S(t),t._isValid===!1)delete t._isValid;else return;if(bS(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:G.createFromInputFallback(t)}G.createFromInputFallback=Bn("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function Go(t,e,n){return t??e??n}function FB(t){var e=new Date(G.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function ey(t){var e,n,r=[],i,o,s;if(!t._d){for(i=FB(t),t._w&&t._a[ur]==null&&t._a[Lr]==null&&VB(t),t._dayOfYear!=null&&(s=Go(t._a[Yt],i[Yt]),(t._dayOfYear>ll(s)||t._dayOfYear===0)&&(me(t)._overflowDayOfYear=!0),n=ql(s,0,t._dayOfYear),t._a[Lr]=n.getUTCMonth(),t._a[ur]=n.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=r[e]=i[e];for(;e<7;e++)t._a[e]=r[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[_t]===24&&t._a[Yn]===0&&t._a[Dr]===0&&t._a[ho]===0&&(t._nextDay=!0,t._a[_t]=0),t._d=(t._useUTC?ql:WN).apply(null,r),o=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[_t]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==o&&(me(t).weekdayMismatch=!0)}}function VB(t){var e,n,r,i,o,s,a,l,c;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(o=1,s=4,n=Go(e.GG,t._a[Yt],Kl(ze(),1,4).year),r=Go(e.W,1),i=Go(e.E,1),(i<1||i>7)&&(l=!0)):(o=t._locale._week.dow,s=t._locale._week.doy,c=Kl(ze(),o,s),n=Go(e.gg,t._a[Yt],c.year),r=Go(e.w,c.week),e.d!=null?(i=e.d,(i<0||i>6)&&(l=!0)):e.e!=null?(i=e.e+o,(e.e<0||e.e>6)&&(l=!0)):i=o),r<1||r>Ur(n,o,s)?me(t)._overflowWeeks=!0:l!=null?me(t)._overflowWeekday=!0:(a=mS(n,r,i,o,s),t._a[Yt]=a.year,t._dayOfYear=a.dayOfYear)}G.ISO_8601=function(){};G.RFC_2822=function(){};function ty(t){if(t._f===G.ISO_8601){_S(t);return}if(t._f===G.RFC_2822){bS(t);return}t._a=[],me(t).empty=!0;var e=""+t._i,n,r,i,o,s,a=e.length,l=0,c,u;for(i=nS(t._f,t._locale).match(Wv)||[],u=i.length,n=0;n<u;n++)o=i[n],r=(e.match(IN(o,t))||[])[0],r&&(s=e.substr(0,e.indexOf(r)),s.length>0&&me(t).unusedInput.push(s),e=e.slice(e.indexOf(r)+r.length),l+=r.length),ks[o]?(r?me(t).empty=!1:me(t).unusedTokens.push(o),RN(o,r,t)):t._strict&&!r&&me(t).unusedTokens.push(o);me(t).charsLeftOver=a-l,e.length>0&&me(t).unusedInput.push(e),t._a[_t]<=12&&me(t).bigHour===!0&&t._a[_t]>0&&(me(t).bigHour=void 0),me(t).parsedDateParts=t._a.slice(0),me(t).meridiem=t._meridiem,t._a[_t]=$B(t._locale,t._a[_t],t._meridiem),c=me(t).era,c!==null&&(t._a[Yt]=t._locale.erasConvertYear(c,t._a[Yt])),ey(t),Zv(t)}function $B(t,e,n){var r;return n==null?e:t.meridiemHour!=null?t.meridiemHour(e,n):(t.isPM!=null&&(r=t.isPM(n),r&&e<12&&(e+=12),!r&&e===12&&(e=0)),e)}function UB(t){var e,n,r,i,o,s,a=!1,l=t._f.length;if(l===0){me(t).invalidFormat=!0,t._d=new Date(NaN);return}for(i=0;i<l;i++)o=0,s=!1,e=zv({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[i],ty(e),jv(e)&&(s=!0),o+=me(e).charsLeftOver,o+=me(e).unusedTokens.length*10,me(e).score=o,a?o<r&&(r=o,n=e):(r==null||o<r||s)&&(r=o,n=e,s&&(a=!0));wi(t,n||e)}function jB(t){if(!t._d){var e=Yv(t._i),n=e.day===void 0?e.date:e.day;t._a=Zx([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(r){return r&&parseInt(r,10)}),ey(t)}}function zB(t){var e=new _c(Zv(kS(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function kS(t){var e=t._i,n=t._f;return t._locale=t._locale||ni(t._l),e===null||n===void 0&&e===""?xh({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),tr(e)?new _c(Zv(e)):(wc(e)?t._d=e:er(n)?UB(t):n?ty(t):HB(t),jv(t)||(t._d=null),t))}function HB(t){var e=t._i;sn(e)?t._d=new Date(G.now()):wc(e)?t._d=new Date(e.valueOf()):typeof e=="string"?BB(t):er(e)?(t._a=Zx(e.slice(0),function(n){return parseInt(n,10)}),ey(t)):go(e)?jB(t):Xr(e)?t._d=new Date(e):G.createFromInputFallback(t)}function ES(t,e,n,r,i){var o={};return(e===!0||e===!1)&&(r=e,e=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(go(t)&&Uv(t)||er(t)&&t.length===0)&&(t=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=i,o._l=n,o._i=t,o._f=e,o._strict=r,zB(o)}function ze(t,e,n,r){return ES(t,e,n,r,!1)}var WB=Bn("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=ze.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:xh()}),YB=Bn("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=ze.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:xh()});function xS(t,e){var n,r;if(e.length===1&&er(e[0])&&(e=e[0]),!e.length)return ze();for(n=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][t](n))&&(n=e[r]);return n}function GB(){var t=[].slice.call(arguments,0);return xS("isBefore",t)}function qB(){var t=[].slice.call(arguments,0);return xS("isAfter",t)}var KB=function(){return Date.now?Date.now():+new Date},Ca=["year","quarter","month","week","day","hour","minute","second","millisecond"];function QB(t){var e,n=!1,r,i=Ca.length;for(e in t)if(Ce(t,e)&&!(at.call(Ca,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(r=0;r<i;++r)if(t[Ca[r]]){if(n)return!1;parseFloat(t[Ca[r]])!==ge(t[Ca[r]])&&(n=!0)}return!0}function XB(){return this._isValid}function JB(){return rr(NaN)}function Oh(t){var e=Yv(t),n=e.year||0,r=e.quarter||0,i=e.month||0,o=e.week||e.isoWeek||0,s=e.day||0,a=e.hour||0,l=e.minute||0,c=e.second||0,u=e.millisecond||0;this._isValid=QB(e),this._milliseconds=+u+c*1e3+l*6e4+a*1e3*60*60,this._days=+s+o*7,this._months=+i+r*3+n*12,this._data={},this._locale=ni(),this._bubble()}function Eu(t){return t instanceof Oh}function Am(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function ZB(t,e,n){var r=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),o=0,s;for(s=0;s<r;s++)(n&&t[s]!==e[s]||!n&&ge(t[s])!==ge(e[s]))&&o++;return o+i}function SS(t,e){ne(t,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+_r(~~(n/60),2)+e+_r(~~n%60,2)})}SS("Z",":");SS("ZZ","");X("Z",Rh);X("ZZ",Rh);Le(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=ny(Rh,t)});var e4=/([\+\-]|\d\d)/gi;function ny(t,e){var n=(e||"").match(t),r,i,o;return n===null?null:(r=n[n.length-1]||[],i=(r+"").match(e4)||["-",0,0],o=+(i[1]*60)+ge(i[2]),o===0?0:i[0]==="+"?o:-o)}function ry(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(tr(t)||wc(t)?t.valueOf():ze(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),G.updateOffset(n,!1),n):ze(t).local()}function Rm(t){return-Math.round(t._d.getTimezoneOffset())}G.updateOffset=function(){};function t4(t,e,n){var r=this._offset||0,i;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=ny(Rh,t),t===null)return this}else Math.abs(t)<16&&!n&&(t=t*60);return!this._isUTC&&e&&(i=Rm(this)),this._offset=t,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==t&&(!e||this._changeInProgress?IS(this,rr(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,G.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:Rm(this)}function n4(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function r4(t){return this.utcOffset(0,t)}function i4(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Rm(this),"m")),this}function o4(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=ny(TN,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function s4(t){return this.isValid()?(t=t?ze(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function a4(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function l4(){if(!sn(this._isDSTShifted))return this._isDSTShifted;var t={},e;return zv(t,this),t=kS(t),t._a?(e=t._isUTC?br(t._a):ze(t._a),this._isDSTShifted=this.isValid()&&ZB(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function c4(){return this.isValid()?!this._isUTC:!1}function u4(){return this.isValid()?this._isUTC:!1}function TS(){return this.isValid()?this._isUTC&&this._offset===0:!1}var d4=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,h4=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function rr(t,e){var n=t,r=null,i,o,s;return Eu(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:Xr(t)||!isNaN(+t)?(n={},e?n[e]=+t:n.milliseconds=+t):(r=d4.exec(t))?(i=r[1]==="-"?-1:1,n={y:0,d:ge(r[ur])*i,h:ge(r[_t])*i,m:ge(r[Yn])*i,s:ge(r[Dr])*i,ms:ge(Am(r[ho]*1e3))*i}):(r=h4.exec(t))?(i=r[1]==="-"?-1:1,n={y:Xi(r[2],i),M:Xi(r[3],i),w:Xi(r[4],i),d:Xi(r[5],i),h:Xi(r[6],i),m:Xi(r[7],i),s:Xi(r[8],i)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(s=f4(ze(n.from),ze(n.to)),n={},n.ms=s.milliseconds,n.M=s.months),o=new Oh(n),Eu(t)&&Ce(t,"_locale")&&(o._locale=t._locale),Eu(t)&&Ce(t,"_isValid")&&(o._isValid=t._isValid),o}rr.fn=Oh.prototype;rr.invalid=JB;function Xi(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function g1(t,e){var n={};return n.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function f4(t,e){var n;return t.isValid()&&e.isValid()?(e=ry(e,t),t.isBefore(e)?n=g1(t,e):(n=g1(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function CS(t,e){return function(n,r){var i,o;return r!==null&&!isNaN(+r)&&(tS(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),i=rr(n,r),IS(this,i,t),this}}function IS(t,e,n,r){var i=e._milliseconds,o=Am(e._days),s=Am(e._months);t.isValid()&&(r=r??!0,s&&dS(t,yd(t,"Month")+s*n),o&&iS(t,"Date",yd(t,"Date")+o*n),i&&t._d.setTime(t._d.valueOf()+i*n),r&&G.updateOffset(t,o||s))}var p4=CS(1,"add"),m4=CS(-1,"subtract");function AS(t){return typeof t=="string"||t instanceof String}function g4(t){return tr(t)||wc(t)||AS(t)||Xr(t)||y4(t)||v4(t)||t===null||t===void 0}function v4(t){var e=go(t)&&!Uv(t),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,o,s=r.length;for(i=0;i<s;i+=1)o=r[i],n=n||Ce(t,o);return e&&n}function y4(t){var e=er(t),n=!1;return e&&(n=t.filter(function(r){return!Xr(r)&&AS(t)}).length===0),e&&n}function w4(t){var e=go(t)&&!Uv(t),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,o;for(i=0;i<r.length;i+=1)o=r[i],n=n||Ce(t,o);return e&&n}function _4(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function b4(t,e){arguments.length===1&&(arguments[0]?g4(arguments[0])?(t=arguments[0],e=void 0):w4(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||ze(),r=ry(n,this).startOf("day"),i=G.calendarFormat(this,r)||"sameElse",o=e&&(kr(e[i])?e[i].call(this,n):e[i]);return this.format(o||this.localeData().calendar(i,this,ze(n)))}function k4(){return new _c(this)}function E4(t,e){var n=tr(t)?t:ze(t);return this.isValid()&&n.isValid()?(e=Fn(e)||"millisecond",e==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function x4(t,e){var n=tr(t)?t:ze(t);return this.isValid()&&n.isValid()?(e=Fn(e)||"millisecond",e==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function S4(t,e,n,r){var i=tr(t)?t:ze(t),o=tr(e)?e:ze(e);return this.isValid()&&i.isValid()&&o.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(i,n):!this.isBefore(i,n))&&(r[1]===")"?this.isBefore(o,n):!this.isAfter(o,n))):!1}function T4(t,e){var n=tr(t)?t:ze(t),r;return this.isValid()&&n.isValid()?(e=Fn(e)||"millisecond",e==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf())):!1}function C4(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function I4(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function A4(t,e,n){var r,i,o;if(!this.isValid())return NaN;if(r=ry(t,this),!r.isValid())return NaN;switch(i=(r.utcOffset()-this.utcOffset())*6e4,e=Fn(e),e){case"year":o=xu(this,r)/12;break;case"month":o=xu(this,r);break;case"quarter":o=xu(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:An(o)}function xu(t,e){if(t.date()<e.date())return-xu(e,t);var n=(e.year()-t.year())*12+(e.month()-t.month()),r=t.clone().add(n,"months"),i,o;return e-r<0?(i=t.clone().add(n-1,"months"),o=(e-r)/(r-i)):(i=t.clone().add(n+1,"months"),o=(e-r)/(i-r)),-(n+o)||0}G.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";G.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function R4(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function P4(t){if(!this.isValid())return null;var e=t!==!0,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?ku(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):kr(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",ku(n,"Z")):ku(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function M4(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",n,r,i,o;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",o=e+'[")]',this.format(n+r+i+o)}function O4(t){t||(t=this.isUtc()?G.defaultFormatUtc:G.defaultFormat);var e=ku(this,t);return this.localeData().postformat(e)}function L4(t,e){return this.isValid()&&(tr(t)&&t.isValid()||ze(t).isValid())?rr({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function D4(t){return this.from(ze(),t)}function N4(t,e){return this.isValid()&&(tr(t)&&t.isValid()||ze(t).isValid())?rr({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function B4(t){return this.to(ze(),t)}function RS(t){var e;return t===void 0?this._locale._abbr:(e=ni(t),e!=null&&(this._locale=e),this)}var PS=Bn("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function MS(){return this._locale}var bd=1e3,Es=60*bd,kd=60*Es,OS=(365*400+97)*24*kd;function xs(t,e){return(t%e+e)%e}function LS(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-OS:new Date(t,e,n).valueOf()}function DS(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-OS:Date.UTC(t,e,n)}function F4(t){var e,n;if(t=Fn(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?DS:LS,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=xs(e+(this._isUTC?0:this.utcOffset()*Es),kd);break;case"minute":e=this._d.valueOf(),e-=xs(e,Es);break;case"second":e=this._d.valueOf(),e-=xs(e,bd);break}return this._d.setTime(e),G.updateOffset(this,!0),this}function V4(t){var e,n;if(t=Fn(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?DS:LS,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=kd-xs(e+(this._isUTC?0:this.utcOffset()*Es),kd)-1;break;case"minute":e=this._d.valueOf(),e+=Es-xs(e,Es)-1;break;case"second":e=this._d.valueOf(),e+=bd-xs(e,bd)-1;break}return this._d.setTime(e),G.updateOffset(this,!0),this}function $4(){return this._d.valueOf()-(this._offset||0)*6e4}function U4(){return Math.floor(this.valueOf()/1e3)}function j4(){return new Date(this.valueOf())}function z4(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function H4(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function W4(){return this.isValid()?this.toISOString():null}function Y4(){return jv(this)}function G4(){return wi({},me(this))}function q4(){return me(this).overflow}function K4(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}ne("N",0,0,"eraAbbr");ne("NN",0,0,"eraAbbr");ne("NNN",0,0,"eraAbbr");ne("NNNN",0,0,"eraName");ne("NNNNN",0,0,"eraNarrow");ne("y",["y",1],"yo","eraYear");ne("y",["yy",2],0,"eraYear");ne("y",["yyy",3],0,"eraYear");ne("y",["yyyy",4],0,"eraYear");X("N",iy);X("NN",iy);X("NNN",iy);X("NNNN",s3);X("NNNNN",a3);Le(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,r){var i=n._locale.erasParse(t,r,n._strict);i?me(n).era=i:me(n).invalidEra=t});X("y",ia);X("yy",ia);X("yyy",ia);X("yyyy",ia);X("yo",l3);Le(["y","yy","yyy","yyyy"],Yt);Le(["yo"],function(t,e,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[Yt]=n._locale.eraYearOrdinalParse(t,i):e[Yt]=parseInt(t,10)});function Q4(t,e){var n,r,i,o=this._eras||ni("en")._eras;for(n=0,r=o.length;n<r;++n){switch(typeof o[n].since){case"string":i=G(o[n].since).startOf("day"),o[n].since=i.valueOf();break}switch(typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":i=G(o[n].until).startOf("day").valueOf(),o[n].until=i.valueOf();break}}return o}function X4(t,e,n){var r,i,o=this.eras(),s,a,l;for(t=t.toUpperCase(),r=0,i=o.length;r<i;++r)if(s=o[r].name.toUpperCase(),a=o[r].abbr.toUpperCase(),l=o[r].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(a===t)return o[r];break;case"NNNN":if(s===t)return o[r];break;case"NNNNN":if(l===t)return o[r];break}else if([s,a,l].indexOf(t)>=0)return o[r]}function J4(t,e){var n=t.since<=t.until?1:-1;return e===void 0?G(t.since).year():G(t.since).year()+(e-t.offset)*n}function Z4(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].name;return""}function e3(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].narrow;return""}function t3(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].abbr;return""}function n3(){var t,e,n,r,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=i[t].since<=i[t].until?1:-1,r=this.clone().startOf("day").valueOf(),i[t].since<=r&&r<=i[t].until||i[t].until<=r&&r<=i[t].since)return(this.year()-G(i[t].since).year())*n+i[t].offset;return this.year()}function r3(t){return Ce(this,"_erasNameRegex")||oy.call(this),t?this._erasNameRegex:this._erasRegex}function i3(t){return Ce(this,"_erasAbbrRegex")||oy.call(this),t?this._erasAbbrRegex:this._erasRegex}function o3(t){return Ce(this,"_erasNarrowRegex")||oy.call(this),t?this._erasNarrowRegex:this._erasRegex}function iy(t,e){return e.erasAbbrRegex(t)}function s3(t,e){return e.erasNameRegex(t)}function a3(t,e){return e.erasNarrowRegex(t)}function l3(t,e){return e._eraYearOrdinalRegex||ia}function oy(){var t=[],e=[],n=[],r=[],i,o,s=this.eras();for(i=0,o=s.length;i<o;++i)e.push(gn(s[i].name)),t.push(gn(s[i].abbr)),n.push(gn(s[i].narrow)),r.push(gn(s[i].name)),r.push(gn(s[i].abbr)),r.push(gn(s[i].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}ne(0,["gg",2],0,function(){return this.weekYear()%100});ne(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Lh(t,e){ne(0,[t,t.length],0,e)}Lh("gggg","weekYear");Lh("ggggg","weekYear");Lh("GGGG","isoWeekYear");Lh("GGGGG","isoWeekYear");Kt("weekYear","gg");Kt("isoWeekYear","GG");Qt("weekYear",1);Qt("isoWeekYear",1);X("G",Ah);X("g",Ah);X("GG",He,xn);X("gg",He,xn);X("GGGG",qv,Gv);X("gggg",qv,Gv);X("GGGGG",Ih,Th);X("ggggg",Ih,Th);kc(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=ge(t)});kc(["gg","GG"],function(t,e,n,r){e[r]=G.parseTwoDigitYear(t)});function c3(t){return NS.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function u3(t){return NS.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function d3(){return Ur(this.year(),1,4)}function h3(){return Ur(this.isoWeekYear(),1,4)}function f3(){var t=this.localeData()._week;return Ur(this.year(),t.dow,t.doy)}function p3(){var t=this.localeData()._week;return Ur(this.weekYear(),t.dow,t.doy)}function NS(t,e,n,r,i){var o;return t==null?Kl(this,r,i).year:(o=Ur(t,r,i),e>o&&(e=o),m3.call(this,t,e,n,r,i))}function m3(t,e,n,r,i){var o=mS(t,e,n,r,i),s=ql(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}ne("Q",0,"Qo","quarter");Kt("quarter","Q");Qt("quarter",7);X("Q",oS);Le("Q",function(t,e){e[Lr]=(ge(t)-1)*3});function g3(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}ne("D",["DD",2],"Do","date");Kt("date","D");Qt("date",9);X("D",He);X("DD",He,xn);X("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});Le(["D","DD"],ur);Le("Do",function(t,e){e[ur]=ge(t.match(He)[0])});var BS=ra("Date",!0);ne("DDD",["DDDD",3],"DDDo","dayOfYear");Kt("dayOfYear","DDD");Qt("dayOfYear",4);X("DDD",Ch);X("DDDD",sS);Le(["DDD","DDDD"],function(t,e,n){n._dayOfYear=ge(t)});function v3(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}ne("m",["mm",2],0,"minute");Kt("minute","m");Qt("minute",14);X("m",He);X("mm",He,xn);Le(["m","mm"],Yn);var y3=ra("Minutes",!1);ne("s",["ss",2],0,"second");Kt("second","s");Qt("second",15);X("s",He);X("ss",He,xn);Le(["s","ss"],Dr);var w3=ra("Seconds",!1);ne("S",0,0,function(){return~~(this.millisecond()/100)});ne(0,["SS",2],0,function(){return~~(this.millisecond()/10)});ne(0,["SSS",3],0,"millisecond");ne(0,["SSSS",4],0,function(){return this.millisecond()*10});ne(0,["SSSSS",5],0,function(){return this.millisecond()*100});ne(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});ne(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});ne(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});ne(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Kt("millisecond","ms");Qt("millisecond",16);X("S",Ch,oS);X("SS",Ch,xn);X("SSS",Ch,sS);var _i,FS;for(_i="SSSS";_i.length<=9;_i+="S")X(_i,ia);function _3(t,e){e[ho]=ge(("0."+t)*1e3)}for(_i="S";_i.length<=9;_i+="S")Le(_i,_3);FS=ra("Milliseconds",!1);ne("z",0,0,"zoneAbbr");ne("zz",0,0,"zoneName");function b3(){return this._isUTC?"UTC":""}function k3(){return this._isUTC?"Coordinated Universal Time":""}var Y=_c.prototype;Y.add=p4;Y.calendar=b4;Y.clone=k4;Y.diff=A4;Y.endOf=V4;Y.format=O4;Y.from=L4;Y.fromNow=D4;Y.to=N4;Y.toNow=B4;Y.get=xN;Y.invalidAt=q4;Y.isAfter=E4;Y.isBefore=x4;Y.isBetween=S4;Y.isSame=T4;Y.isSameOrAfter=C4;Y.isSameOrBefore=I4;Y.isValid=Y4;Y.lang=PS;Y.locale=RS;Y.localeData=MS;Y.max=YB;Y.min=WB;Y.parsingFlags=G4;Y.set=SN;Y.startOf=F4;Y.subtract=m4;Y.toArray=z4;Y.toObject=H4;Y.toDate=j4;Y.toISOString=P4;Y.inspect=M4;typeof Symbol<"u"&&Symbol.for!=null&&(Y[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});Y.toJSON=W4;Y.toString=R4;Y.unix=U4;Y.valueOf=$4;Y.creationData=K4;Y.eraName=Z4;Y.eraNarrow=e3;Y.eraAbbr=t3;Y.eraYear=n3;Y.year=pS;Y.isLeapYear=HN;Y.weekYear=c3;Y.isoWeekYear=u3;Y.quarter=Y.quarters=g3;Y.month=hS;Y.daysInMonth=UN;Y.week=Y.weeks=QN;Y.isoWeek=Y.isoWeeks=XN;Y.weeksInYear=f3;Y.weeksInWeekYear=p3;Y.isoWeeksInYear=d3;Y.isoWeeksInISOWeekYear=h3;Y.date=BS;Y.day=Y.days=uB;Y.weekday=dB;Y.isoWeekday=hB;Y.dayOfYear=v3;Y.hour=Y.hours=wB;Y.minute=Y.minutes=y3;Y.second=Y.seconds=w3;Y.millisecond=Y.milliseconds=FS;Y.utcOffset=t4;Y.utc=r4;Y.local=i4;Y.parseZone=o4;Y.hasAlignedHourOffset=s4;Y.isDST=a4;Y.isLocal=c4;Y.isUtcOffset=u4;Y.isUtc=TS;Y.isUTC=TS;Y.zoneAbbr=b3;Y.zoneName=k3;Y.dates=Bn("dates accessor is deprecated. Use date instead.",BS);Y.months=Bn("months accessor is deprecated. Use month instead",hS);Y.years=Bn("years accessor is deprecated. Use year instead",pS);Y.zone=Bn("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",n4);Y.isDSTShifted=Bn("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",l4);function E3(t){return ze(t*1e3)}function x3(){return ze.apply(null,arguments).parseZone()}function VS(t){return t}var Ie=Hv.prototype;Ie.calendar=uN;Ie.longDateFormat=pN;Ie.invalidDate=gN;Ie.ordinal=wN;Ie.preparse=VS;Ie.postformat=VS;Ie.relativeTime=bN;Ie.pastFuture=kN;Ie.set=lN;Ie.eras=Q4;Ie.erasParse=X4;Ie.erasConvertYear=J4;Ie.erasAbbrRegex=i3;Ie.erasNameRegex=r3;Ie.erasNarrowRegex=o3;Ie.months=BN;Ie.monthsShort=FN;Ie.monthsParse=$N;Ie.monthsRegex=zN;Ie.monthsShortRegex=jN;Ie.week=YN;Ie.firstDayOfYear=KN;Ie.firstDayOfWeek=qN;Ie.weekdays=oB;Ie.weekdaysMin=aB;Ie.weekdaysShort=sB;Ie.weekdaysParse=cB;Ie.weekdaysRegex=fB;Ie.weekdaysShortRegex=pB;Ie.weekdaysMinRegex=mB;Ie.isPM=vB;Ie.meridiem=_B;function Ed(t,e,n,r){var i=ni(),o=br().set(r,e);return i[n](o,t)}function $S(t,e,n){if(Xr(t)&&(e=t,t=void 0),t=t||"",e!=null)return Ed(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=Ed(t,r,n,"month");return i}function sy(t,e,n,r){typeof t=="boolean"?(Xr(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,Xr(e)&&(n=e,e=void 0),e=e||"");var i=ni(),o=t?i._week.dow:0,s,a=[];if(n!=null)return Ed(e,(n+o)%7,r,"day");for(s=0;s<7;s++)a[s]=Ed(e,(s+o)%7,r,"day");return a}function S3(t,e){return $S(t,e,"months")}function T3(t,e){return $S(t,e,"monthsShort")}function C3(t,e,n){return sy(t,e,n,"weekdays")}function I3(t,e,n){return sy(t,e,n,"weekdaysShort")}function A3(t,e,n){return sy(t,e,n,"weekdaysMin")}Li("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=ge(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+n}});G.lang=Bn("moment.lang is deprecated. Use moment.locale instead.",Li);G.langData=Bn("moment.langData is deprecated. Use moment.localeData instead.",ni);var Sr=Math.abs;function R3(){var t=this._data;return this._milliseconds=Sr(this._milliseconds),this._days=Sr(this._days),this._months=Sr(this._months),t.milliseconds=Sr(t.milliseconds),t.seconds=Sr(t.seconds),t.minutes=Sr(t.minutes),t.hours=Sr(t.hours),t.months=Sr(t.months),t.years=Sr(t.years),this}function US(t,e,n,r){var i=rr(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function P3(t,e){return US(this,t,e,1)}function M3(t,e){return US(this,t,e,-1)}function v1(t){return t<0?Math.floor(t):Math.ceil(t)}function O3(){var t=this._milliseconds,e=this._days,n=this._months,r=this._data,i,o,s,a,l;return t>=0&&e>=0&&n>=0||t<=0&&e<=0&&n<=0||(t+=v1(Pm(n)+e)*864e5,e=0,n=0),r.milliseconds=t%1e3,i=An(t/1e3),r.seconds=i%60,o=An(i/60),r.minutes=o%60,s=An(o/60),r.hours=s%24,e+=An(s/24),l=An(jS(e)),n+=l,e-=v1(Pm(l)),a=An(n/12),n%=12,r.days=e,r.months=n,r.years=a,this}function jS(t){return t*4800/146097}function Pm(t){return t*146097/4800}function L3(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if(t=Fn(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+r/864e5,n=this._months+jS(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(Pm(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return e*24+r/36e5;case"minute":return e*1440+r/6e4;case"second":return e*86400+r/1e3;case"millisecond":return Math.floor(e*864e5)+r;default:throw new Error("Unknown unit "+t)}}function D3(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+ge(this._months/12)*31536e6:NaN}function ri(t){return function(){return this.as(t)}}var N3=ri("ms"),B3=ri("s"),F3=ri("m"),V3=ri("h"),$3=ri("d"),U3=ri("w"),j3=ri("M"),z3=ri("Q"),H3=ri("y");function W3(){return rr(this)}function Y3(t){return t=Fn(t),this.isValid()?this[t+"s"]():NaN}function Vo(t){return function(){return this.isValid()?this._data[t]:NaN}}var G3=Vo("milliseconds"),q3=Vo("seconds"),K3=Vo("minutes"),Q3=Vo("hours"),X3=Vo("days"),J3=Vo("months"),Z3=Vo("years");function e6(){return An(this.days()/7)}var Ir=Math.round,ds={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function t6(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}function n6(t,e,n,r){var i=rr(t).abs(),o=Ir(i.as("s")),s=Ir(i.as("m")),a=Ir(i.as("h")),l=Ir(i.as("d")),c=Ir(i.as("M")),u=Ir(i.as("w")),d=Ir(i.as("y")),h=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||s<=1&&["m"]||s<n.m&&["mm",s]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(h=h||u<=1&&["w"]||u<n.w&&["ww",u]),h=h||c<=1&&["M"]||c<n.M&&["MM",c]||d<=1&&["y"]||["yy",d],h[2]=e,h[3]=+t>0,h[4]=r,t6.apply(null,h)}function r6(t){return t===void 0?Ir:typeof t=="function"?(Ir=t,!0):!1}function i6(t,e){return ds[t]===void 0?!1:e===void 0?ds[t]:(ds[t]=e,t==="s"&&(ds.ss=e-1),!0)}function o6(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=ds,i,o;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(n=t),typeof e=="object"&&(r=Object.assign({},ds,e),e.s!=null&&e.ss==null&&(r.ss=e.s-1)),i=this.localeData(),o=n6(this,!n,r,i),n&&(o=i.pastFuture(+this,o)),i.postformat(o)}var $f=Math.abs;function zo(t){return(t>0)-(t<0)||+t}function Dh(){if(!this.isValid())return this.localeData().invalidDate();var t=$f(this._milliseconds)/1e3,e=$f(this._days),n=$f(this._months),r,i,o,s,a=this.asSeconds(),l,c,u,d;return a?(r=An(t/60),i=An(r/60),t%=60,r%=60,o=An(n/12),n%=12,s=t?t.toFixed(3).replace(/\.?0+$/,""):"",l=a<0?"-":"",c=zo(this._months)!==zo(a)?"-":"",u=zo(this._days)!==zo(a)?"-":"",d=zo(this._milliseconds)!==zo(a)?"-":"",l+"P"+(o?c+o+"Y":"")+(n?c+n+"M":"")+(e?u+e+"D":"")+(i||r||t?"T":"")+(i?d+i+"H":"")+(r?d+r+"M":"")+(t?d+s+"S":"")):"P0D"}var Ee=Oh.prototype;Ee.isValid=XB;Ee.abs=R3;Ee.add=P3;Ee.subtract=M3;Ee.as=L3;Ee.asMilliseconds=N3;Ee.asSeconds=B3;Ee.asMinutes=F3;Ee.asHours=V3;Ee.asDays=$3;Ee.asWeeks=U3;Ee.asMonths=j3;Ee.asQuarters=z3;Ee.asYears=H3;Ee.valueOf=D3;Ee._bubble=O3;Ee.clone=W3;Ee.get=Y3;Ee.milliseconds=G3;Ee.seconds=q3;Ee.minutes=K3;Ee.hours=Q3;Ee.days=X3;Ee.weeks=e6;Ee.months=J3;Ee.years=Z3;Ee.humanize=o6;Ee.toISOString=Dh;Ee.toString=Dh;Ee.toJSON=Dh;Ee.locale=RS;Ee.localeData=MS;Ee.toIsoString=Bn("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Dh);Ee.lang=PS;ne("X",0,0,"unix");ne("x",0,0,"valueOf");X("x",Ah);X("X",CN);Le("X",function(t,e,n){n._d=new Date(parseFloat(t)*1e3)});Le("x",function(t,e,n){n._d=new Date(ge(t))});//! moment.js
G.version="2.29.4";sN(ze);G.fn=Y;G.min=GB;G.max=qB;G.now=KB;G.utc=br;G.unix=E3;G.months=S3;G.isDate=wc;G.locale=Li;G.invalid=xh;G.duration=rr;G.isMoment=tr;G.weekdays=C3;G.parseZone=x3;G.localeData=ni;G.isDuration=Eu;G.monthsShort=T3;G.weekdaysMin=A3;G.defineLocale=Jv;G.updateLocale=xB;G.locales=SB;G.weekdaysShort=I3;G.normalizeUnits=Fn;G.relativeTimeRounding=r6;G.relativeTimeThreshold=i6;G.calendarFormat=_4;G.prototype=Y;G.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const s6="_Header_1hmdn_1",a6="_LogoBar_1hmdn_4",l6="_TheTitle_1hmdn_10",c6="_Test_1hmdn_13",Ia={Header:s6,LogoBar:a6,Date:"_Date_1hmdn_7",TheTitle:l6,Test:c6},u6=()=>U.jsx("header",{className:Ia.Header,children:U.jsxs("div",{className:Ia.LogoBar,children:[U.jsxs("p",{className:Ia.Date,children:[U.jsx("b",{children:G().format("dddd, Do MMMM, YYYY")}),U.jsx("br",{}),"Todays paper"]}),U.jsx("h1",{className:Ia.TheTitle,children:U.jsx("a",{href:"/",children:"The Astrum News"})}),U.jsx("span",{className:Ia.Test,children:"NIGHTLY  DEV"})]})}),ay=({className:t,children:e})=>U.jsxs("main",{className:"sm:mx-7 mx-3",children:[U.jsx(u6,{}),U.jsx("main",{className:t,children:e})]}),zS="/assets/calendar-line-fa22a8cd.svg",d6="_Post_1cdz8_1",h6="_Info_1cdz8_4",f6="_Title_1cdz8_7",p6="_Description_1cdz8_10",m6="_Published_Date_1cdz8_13",g6="_Link_1cdz8_16",v6="_Cover_img_1cdz8_19",y6="_Mini_Post_1cdz8_23",w6="_Event_Date_1cdz8_29",_6="_dateIcon_1cdz8_32",or={Post:d6,Info:h6,Title:f6,Description:p6,Published_Date:m6,Link:g6,Cover_img:v6,Mini_Post:y6,Event_Date:w6,dateIcon:_6},HS=({postData:t,isMiniPost:e,isEvent:n})=>U.jsxs("div",{className:e?or.Mini_Post:or.Post,children:[U.jsxs("div",{className:or.Info,children:[n?U.jsxs("div",{className:or.Event_Date,children:[U.jsx("img",{src:zS,alt:"Calendar icon",className:or.dateIcon}),U.jsx("p",{children:G(t.event_time).format("h:mm, MMMM Do YYYY")})]}):null,U.jsx("h6",{className:or.Title,children:t.title}),U.jsx("p",{className:or.Description,children:t.description}),U.jsx("p",{className:or.Published_Date,children:G(t.published_date).fromNow()})]}),U.jsx(mk,{to:`/${n?"events":"posts"}/${t.id}`,className:or.Link,children:U.jsx("img",{src:t.cover_img.url,alt:t.title,className:or.Cover_img})})]}),b6="_Posts_1b95w_1",k6={Posts:b6},E6=(t,e)=>{switch(e){case"A-Z":t.sort((n,r)=>{if(n.title<r.title)return-1});break;case"Z-A":t.sort((n,r)=>{if(n.title>r.title)return-1});break;case"byDate >":t.sort((n,r)=>{if(n.published_date>r.published_date)return-1});break;case"byDate <":t.sort((n,r)=>{if(n.published_date<r.published_date)return-1});break}return t},x6=({getData:t})=>U.jsx("section",{className:k6.Posts,children:t?E6(t,"byDate >").map(e=>!e.is_event&&U.jsx(HS,{postData:e},e.id)):U.jsx("h1",{children:"Error!"})}),S6="_RightSide_8048r_1",T6={RightSide:S6};function y1(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function ly(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:y1(e[n])&&y1(t[n])&&Object.keys(e[n]).length>0&&ly(t[n],e[n])})}const WS={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function jr(){const t=typeof document<"u"?document:{};return ly(t,WS),t}const C6={document:WS,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Sn(){const t=typeof window<"u"?window:{};return ly(t,C6),t}function I6(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function A6(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function Mm(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function xd(){return Date.now()}function R6(t){const e=Sn();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function P6(t,e){e===void 0&&(e="x");const n=Sn();let r,i,o;const s=R6(t);return n.WebKitCSSMatrix?(i=s.transform||s.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(a=>a.replace(",",".")).join(", ")),o=new n.WebKitCSSMatrix(i==="none"?"":i)):(o=s.MozTransform||s.OTransform||s.MsTransform||s.msTransform||s.transform||s.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=o.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?i=o.m41:r.length===16?i=parseFloat(r[12]):i=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?i=o.m42:r.length===16?i=parseFloat(r[13]):i=parseFloat(r[5])),i||0}function eu(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function M6(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function mn(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const r=n<0||arguments.length<=n?void 0:arguments[n];if(r!=null&&!M6(r)){const i=Object.keys(Object(r)).filter(o=>e.indexOf(o)<0);for(let o=0,s=i.length;o<s;o+=1){const a=i[o],l=Object.getOwnPropertyDescriptor(r,a);l!==void 0&&l.enumerable&&(eu(t[a])&&eu(r[a])?r[a].__swiper__?t[a]=r[a]:mn(t[a],r[a]):!eu(t[a])&&eu(r[a])?(t[a]={},r[a].__swiper__?t[a]=r[a]:mn(t[a],r[a])):t[a]=r[a])}}}return t}function tu(t,e,n){t.style.setProperty(e,n)}function YS(t){let{swiper:e,targetPosition:n,side:r}=t;const i=Sn(),o=-e.translate;let s=null,a;const l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(e.cssModeFrameID);const c=n>o?"next":"prev",u=(h,f)=>c==="next"&&h>=f||c==="prev"&&h<=f,d=()=>{a=new Date().getTime(),s===null&&(s=a);const h=Math.max(Math.min((a-s)/l,1),0),f=.5-Math.cos(h*Math.PI)/2;let m=o+f*(n-o);if(u(m,n)&&(m=n),e.wrapperEl.scrollTo({[r]:m}),u(m,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:m})}),i.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=i.requestAnimationFrame(d)};d()}function fr(t,e){return e===void 0&&(e=""),[...t.children].filter(n=>n.matches(e))}function Sd(t){try{console.warn(t);return}catch{}}function Td(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:I6(e)),n}function O6(t,e){const n=[];for(;t.previousElementSibling;){const r=t.previousElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function L6(t,e){const n=[];for(;t.nextElementSibling;){const r=t.nextElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function bi(t,e){return Sn().getComputedStyle(t,null).getPropertyValue(e)}function Cd(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function GS(t,e){const n=[];let r=t.parentElement;for(;r;)e?r.matches(e)&&n.push(r):n.push(r),r=r.parentElement;return n}function Om(t,e,n){const r=Sn();return n?t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom")):t.offsetWidth}let Uf;function D6(){const t=Sn(),e=jr();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function qS(){return Uf||(Uf=D6()),Uf}let jf;function N6(t){let{userAgent:e}=t===void 0?{}:t;const n=qS(),r=Sn(),i=r.navigator.platform,o=e||r.navigator.userAgent,s={ios:!1,android:!1},a=r.screen.width,l=r.screen.height,c=o.match(/(Android);?[\s\/]+([\d.]+)?/);let u=o.match(/(iPad).*OS\s([\d_]+)/);const d=o.match(/(iPod)(.*OS\s([\d_]+))?/),h=!u&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),f=i==="Win32";let m=i==="MacIntel";const b=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&m&&n.touch&&b.indexOf(`${a}x${l}`)>=0&&(u=o.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),m=!1),c&&!f&&(s.os="android",s.android=!0),(u||h||d)&&(s.os="ios",s.ios=!0),s}function B6(t){return t===void 0&&(t={}),jf||(jf=N6(t)),jf}let zf;function F6(){const t=Sn();let e=!1;function n(){const r=t.navigator.userAgent.toLowerCase();return r.indexOf("safari")>=0&&r.indexOf("chrome")<0&&r.indexOf("android")<0}if(n()){const r=String(t.navigator.userAgent);if(r.includes("Version/")){const[i,o]=r.split("Version/")[1].split(" ")[0].split(".").map(s=>Number(s));e=i<16||i===16&&o<2}}return{isSafari:e||n(),needPerspectiveFix:e,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent)}}function V6(){return zf||(zf=F6()),zf}function $6(t){let{swiper:e,on:n,emit:r}=t;const i=Sn();let o=null,s=null;const a=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(o=new ResizeObserver(d=>{s=i.requestAnimationFrame(()=>{const{width:h,height:f}=e;let m=h,b=f;d.forEach(S=>{let{contentBoxSize:w,contentRect:p,target:g}=S;g&&g!==e.el||(m=p?p.width:(w[0]||w).inlineSize,b=p?p.height:(w[0]||w).blockSize)}),(m!==h||b!==f)&&a()})}),o.observe(e.el))},c=()=>{s&&i.cancelAnimationFrame(s),o&&o.unobserve&&e.el&&(o.unobserve(e.el),o=null)},u=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof i.ResizeObserver<"u"){l();return}i.addEventListener("resize",a),i.addEventListener("orientationchange",u)}),n("destroy",()=>{c(),i.removeEventListener("resize",a),i.removeEventListener("orientationchange",u)})}function U6(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;const o=[],s=Sn(),a=function(u,d){d===void 0&&(d={});const h=s.MutationObserver||s.WebkitMutationObserver,f=new h(m=>{if(e.__preventObserver__)return;if(m.length===1){i("observerUpdate",m[0]);return}const b=function(){i("observerUpdate",m[0])};s.requestAnimationFrame?s.requestAnimationFrame(b):s.setTimeout(b,0)});f.observe(u,{attributes:typeof d.attributes>"u"?!0:d.attributes,childList:typeof d.childList>"u"?!0:d.childList,characterData:typeof d.characterData>"u"?!0:d.characterData}),o.push(f)},l=()=>{if(e.params.observer){if(e.params.observeParents){const u=GS(e.hostEl);for(let d=0;d<u.length;d+=1)a(u[d])}a(e.hostEl,{childList:e.params.observeSlideChildren}),a(e.wrapperEl,{attributes:!1})}},c=()=>{o.forEach(u=>{u.disconnect()}),o.splice(0,o.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",l),r("destroy",c)}var j6={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const i=n?"unshift":"push";return t.split(" ").forEach(o=>{r.eventsListeners[o]||(r.eventsListeners[o]=[]),r.eventsListeners[o][i](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function i(){r.off(t,i),i.__emitterProxy&&delete i.__emitterProxy;for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];e.apply(r,s)}return i.__emitterProxy=e,r.on(t,i,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((i,o)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&n.eventsListeners[r].splice(o,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,r;for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return typeof o[0]=="string"||Array.isArray(o[0])?(e=o[0],n=o.slice(1,o.length),r=t):(e=o[0].events,n=o[0].data,r=o[0].context||t),n.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(c=>{c.apply(r,[l,...n])}),t.eventsListeners&&t.eventsListeners[l]&&t.eventsListeners[l].forEach(c=>{c.apply(r,n)})}),t}};function z6(){const t=this;let e,n;const r=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(bi(r,"padding-left")||0,10)-parseInt(bi(r,"padding-right")||0,10),n=n-parseInt(bi(r,"padding-top")||0,10)-parseInt(bi(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function H6(){const t=this;function e(k,x){return parseFloat(k.getPropertyValue(t.getDirectionLabel(x))||0)}const n=t.params,{wrapperEl:r,slidesEl:i,size:o,rtlTranslate:s,wrongRTL:a}=t,l=t.virtual&&n.virtual.enabled,c=l?t.virtual.slides.length:t.slides.length,u=fr(i,`.${t.params.slideClass}, swiper-slide`),d=l?t.virtual.slides.length:u.length;let h=[];const f=[],m=[];let b=n.slidesOffsetBefore;typeof b=="function"&&(b=n.slidesOffsetBefore.call(t));let S=n.slidesOffsetAfter;typeof S=="function"&&(S=n.slidesOffsetAfter.call(t));const w=t.snapGrid.length,p=t.slidesGrid.length;let g=n.spaceBetween,v=-b,E=0,A=0;if(typeof o>"u")return;typeof g=="string"&&g.indexOf("%")>=0?g=parseFloat(g.replace("%",""))/100*o:typeof g=="string"&&(g=parseFloat(g)),t.virtualSize=-g,u.forEach(k=>{s?k.style.marginLeft="":k.style.marginRight="",k.style.marginBottom="",k.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(tu(r,"--swiper-centered-offset-before",""),tu(r,"--swiper-centered-offset-after",""));const R=n.grid&&n.grid.rows>1&&t.grid;R?t.grid.initSlides(u):t.grid&&t.grid.unsetSlides();let _;const y=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(k=>typeof n.breakpoints[k].slidesPerView<"u").length>0;for(let k=0;k<d;k+=1){_=0;let x;if(u[k]&&(x=u[k]),R&&t.grid.updateSlide(k,x,u),!(u[k]&&bi(x,"display")==="none")){if(n.slidesPerView==="auto"){y&&(u[k].style[t.getDirectionLabel("width")]="");const I=getComputedStyle(x),C=x.style.transform,M=x.style.webkitTransform;if(C&&(x.style.transform="none"),M&&(x.style.webkitTransform="none"),n.roundLengths)_=t.isHorizontal()?Om(x,"width",!0):Om(x,"height",!0);else{const T=e(I,"width"),L=e(I,"padding-left"),H=e(I,"padding-right"),P=e(I,"margin-left"),B=e(I,"margin-right"),V=I.getPropertyValue("box-sizing");if(V&&V==="border-box")_=T+P+B;else{const{clientWidth:Z,offsetWidth:K}=x;_=T+L+H+P+B+(K-Z)}}C&&(x.style.transform=C),M&&(x.style.webkitTransform=M),n.roundLengths&&(_=Math.floor(_))}else _=(o-(n.slidesPerView-1)*g)/n.slidesPerView,n.roundLengths&&(_=Math.floor(_)),u[k]&&(u[k].style[t.getDirectionLabel("width")]=`${_}px`);u[k]&&(u[k].swiperSlideSize=_),m.push(_),n.centeredSlides?(v=v+_/2+E/2+g,E===0&&k!==0&&(v=v-o/2-g),k===0&&(v=v-o/2-g),Math.abs(v)<1/1e3&&(v=0),n.roundLengths&&(v=Math.floor(v)),A%n.slidesPerGroup===0&&h.push(v),f.push(v)):(n.roundLengths&&(v=Math.floor(v)),(A-Math.min(t.params.slidesPerGroupSkip,A))%t.params.slidesPerGroup===0&&h.push(v),f.push(v),v=v+_+g),t.virtualSize+=_+g,E=_,A+=1}}if(t.virtualSize=Math.max(t.virtualSize,o)+S,s&&a&&(n.effect==="slide"||n.effect==="coverflow")&&(r.style.width=`${t.virtualSize+g}px`),n.setWrapperSize&&(r.style[t.getDirectionLabel("width")]=`${t.virtualSize+g}px`),R&&t.grid.updateWrapperSize(_,h),!n.centeredSlides){const k=[];for(let x=0;x<h.length;x+=1){let I=h[x];n.roundLengths&&(I=Math.floor(I)),h[x]<=t.virtualSize-o&&k.push(I)}h=k,Math.floor(t.virtualSize-o)-Math.floor(h[h.length-1])>1&&h.push(t.virtualSize-o)}if(l&&n.loop){const k=m[0]+g;if(n.slidesPerGroup>1){const x=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),I=k*n.slidesPerGroup;for(let C=0;C<x;C+=1)h.push(h[h.length-1]+I)}for(let x=0;x<t.virtual.slidesBefore+t.virtual.slidesAfter;x+=1)n.slidesPerGroup===1&&h.push(h[h.length-1]+k),f.push(f[f.length-1]+k),t.virtualSize+=k}if(h.length===0&&(h=[0]),g!==0){const k=t.isHorizontal()&&s?"marginLeft":t.getDirectionLabel("marginRight");u.filter((x,I)=>!n.cssMode||n.loop?!0:I!==u.length-1).forEach(x=>{x.style[k]=`${g}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let k=0;m.forEach(I=>{k+=I+(g||0)}),k-=g;const x=k-o;h=h.map(I=>I<=0?-b:I>x?x+S:I)}if(n.centerInsufficientSlides){let k=0;if(m.forEach(x=>{k+=x+(g||0)}),k-=g,k<o){const x=(o-k)/2;h.forEach((I,C)=>{h[C]=I-x}),f.forEach((I,C)=>{f[C]=I+x})}}if(Object.assign(t,{slides:u,snapGrid:h,slidesGrid:f,slidesSizesGrid:m}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){tu(r,"--swiper-centered-offset-before",`${-h[0]}px`),tu(r,"--swiper-centered-offset-after",`${t.size/2-m[m.length-1]/2}px`);const k=-t.snapGrid[0],x=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(I=>I+k),t.slidesGrid=t.slidesGrid.map(I=>I+x)}if(d!==c&&t.emit("slidesLengthChange"),h.length!==w&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),f.length!==p&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!l&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const k=`${n.containerModifierClass}backface-hidden`,x=t.el.classList.contains(k);d<=n.maxBackfaceHiddenSlides?x||t.el.classList.add(k):x&&t.el.classList.remove(k)}}function W6(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let i=0,o;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const s=a=>r?e.slides[e.getSlideIndexByData(a)]:e.slides[a];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(a=>{n.push(a)});else for(o=0;o<Math.ceil(e.params.slidesPerView);o+=1){const a=e.activeIndex+o;if(a>e.slides.length&&!r)break;n.push(s(a))}else n.push(s(e.activeIndex));for(o=0;o<n.length;o+=1)if(typeof n[o]<"u"){const a=n[o].offsetHeight;i=a>i?a:i}(i||i===0)&&(e.wrapperEl.style.height=`${i}px`)}function Y6(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-n-t.cssOverflowAdjustment()}function G6(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:r,rtlTranslate:i,snapGrid:o}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let s=-t;i&&(s=t),r.forEach(l=>{l.classList.remove(n.slideVisibleClass,n.slideFullyVisibleClass)}),e.visibleSlidesIndexes=[],e.visibleSlides=[];let a=n.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*e.size:typeof a=="string"&&(a=parseFloat(a));for(let l=0;l<r.length;l+=1){const c=r[l];let u=c.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(u-=r[0].swiperSlideOffset);const d=(s+(n.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+a),h=(s-o[0]+(n.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+a),f=-(s-u),m=f+e.slidesSizesGrid[l],b=f>=0&&f<=e.size-e.slidesSizesGrid[l];(f>=0&&f<e.size-1||m>1&&m<=e.size||f<=0&&m>=e.size)&&(e.visibleSlides.push(c),e.visibleSlidesIndexes.push(l),r[l].classList.add(n.slideVisibleClass)),b&&r[l].classList.add(n.slideFullyVisibleClass),c.progress=i?-d:d,c.originalProgress=i?-h:h}}function q6(t){const e=this;if(typeof t>"u"){const u=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*u||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:o,isEnd:s,progressLoop:a}=e;const l=o,c=s;if(r===0)i=0,o=!0,s=!0;else{i=(t-e.minTranslate())/r;const u=Math.abs(t-e.minTranslate())<1,d=Math.abs(t-e.maxTranslate())<1;o=u||i<=0,s=d||i>=1,u&&(i=0),d&&(i=1)}if(n.loop){const u=e.getSlideIndexByData(0),d=e.getSlideIndexByData(e.slides.length-1),h=e.slidesGrid[u],f=e.slidesGrid[d],m=e.slidesGrid[e.slidesGrid.length-1],b=Math.abs(t);b>=h?a=(b-h)/m:a=(b+m-f)/m,a>1&&(a-=1)}Object.assign(e,{progress:i,progressLoop:a,isBeginning:o,isEnd:s}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),o&&!l&&e.emit("reachBeginning toEdge"),s&&!c&&e.emit("reachEnd toEdge"),(l&&!o||c&&!s)&&e.emit("fromEdge"),e.emit("progress",i)}function K6(){const t=this,{slides:e,params:n,slidesEl:r,activeIndex:i}=t,o=t.virtual&&n.virtual.enabled,s=t.grid&&n.grid&&n.grid.rows>1,a=d=>fr(r,`.${n.slideClass}${d}, swiper-slide${d}`)[0];e.forEach(d=>{d.classList.remove(n.slideActiveClass,n.slideNextClass,n.slidePrevClass)});let l,c,u;if(o)if(n.loop){let d=i-t.virtual.slidesBefore;d<0&&(d=t.virtual.slides.length+d),d>=t.virtual.slides.length&&(d-=t.virtual.slides.length),l=a(`[data-swiper-slide-index="${d}"]`)}else l=a(`[data-swiper-slide-index="${i}"]`);else s?(l=e.filter(d=>d.column===i)[0],u=e.filter(d=>d.column===i+1)[0],c=e.filter(d=>d.column===i-1)[0]):l=e[i];l&&(l.classList.add(n.slideActiveClass),s?(u&&u.classList.add(n.slideNextClass),c&&c.classList.add(n.slidePrevClass)):(u=L6(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!u&&(u=e[0]),u&&u.classList.add(n.slideNextClass),c=O6(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!c===0&&(c=e[e.length-1]),c&&c.classList.add(n.slidePrevClass))),t.emitSlidesClasses()}const Su=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,r=e.closest(n());if(r){let i=r.querySelector(`.${t.params.lazyPreloaderClass}`);!i&&t.isElement&&(r.shadowRoot?i=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(i=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},Hf=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},Lm=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const r=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),i=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const s=i,a=[s-e];a.push(...Array.from({length:e}).map((l,c)=>s+r+c)),t.slides.forEach((l,c)=>{a.includes(l.column)&&Hf(t,c)});return}const o=i+r-1;if(t.params.rewind||t.params.loop)for(let s=i-e;s<=o+e;s+=1){const a=(s%n+n)%n;(a<i||a>o)&&Hf(t,a)}else for(let s=Math.max(i-e,0);s<=Math.min(o+e,n-1);s+=1)s!==i&&(s>o||s<i)&&Hf(t,s)};function Q6(t){const{slidesGrid:e,params:n}=t,r=t.rtlTranslate?t.translate:-t.translate;let i;for(let o=0;o<e.length;o+=1)typeof e[o+1]<"u"?r>=e[o]&&r<e[o+1]-(e[o+1]-e[o])/2?i=o:r>=e[o]&&r<e[o+1]&&(i=o+1):r>=e[o]&&(i=o);return n.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function X6(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:i,activeIndex:o,realIndex:s,snapIndex:a}=e;let l=t,c;const u=f=>{let m=f-e.virtual.slidesBefore;return m<0&&(m=e.virtual.slides.length+m),m>=e.virtual.slides.length&&(m-=e.virtual.slides.length),m};if(typeof l>"u"&&(l=Q6(e)),r.indexOf(n)>=0)c=r.indexOf(n);else{const f=Math.min(i.slidesPerGroupSkip,l);c=f+Math.floor((l-f)/i.slidesPerGroup)}if(c>=r.length&&(c=r.length-1),l===o&&!e.params.loop){c!==a&&(e.snapIndex=c,e.emit("snapIndexChange"));return}if(l===o&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=u(l);return}const d=e.grid&&i.grid&&i.grid.rows>1;let h;if(e.virtual&&i.virtual.enabled&&i.loop)h=u(l);else if(d){const f=e.slides.filter(b=>b.column===l)[0];let m=parseInt(f.getAttribute("data-swiper-slide-index"),10);Number.isNaN(m)&&(m=Math.max(e.slides.indexOf(f),0)),h=Math.floor(m/i.grid.rows)}else if(e.slides[l]){const f=e.slides[l].getAttribute("data-swiper-slide-index");f?h=parseInt(f,10):h=l}else h=l;Object.assign(e,{previousSnapIndex:a,snapIndex:c,previousRealIndex:s,realIndex:h,previousIndex:o,activeIndex:l}),e.initialized&&Lm(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(s!==h&&e.emit("realIndexChange"),e.emit("slideChange"))}function J6(t,e){const n=this,r=n.params;let i=t.closest(`.${r.slideClass}, swiper-slide`);!i&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(a=>{!i&&a.matches&&a.matches(`.${r.slideClass}, swiper-slide`)&&(i=a)});let o=!1,s;if(i){for(let a=0;a<n.slides.length;a+=1)if(n.slides[a]===i){o=!0,s=a;break}}if(i&&o)n.clickedSlide=i,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=s;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}r.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var Z6={updateSize:z6,updateSlides:H6,updateAutoHeight:W6,updateSlidesOffset:Y6,updateSlidesProgress:G6,updateProgress:q6,updateSlidesClasses:K6,updateActiveIndex:X6,updateClickedSlide:J6};function e5(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:r,translate:i,wrapperEl:o}=e;if(n.virtualTranslate)return r?-i:i;if(n.cssMode)return i;let s=P6(o,t);return s+=e.cssOverflowAdjustment(),r&&(s=-s),s||0}function t5(t,e){const n=this,{rtlTranslate:r,params:i,wrapperEl:o,progress:s}=n;let a=0,l=0;const c=0;n.isHorizontal()?a=r?-t:t:l=t,i.roundLengths&&(a=Math.floor(a),l=Math.floor(l)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?a:l,i.cssMode?o[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-a:-l:i.virtualTranslate||(n.isHorizontal()?a-=n.cssOverflowAdjustment():l-=n.cssOverflowAdjustment(),o.style.transform=`translate3d(${a}px, ${l}px, ${c}px)`);let u;const d=n.maxTranslate()-n.minTranslate();d===0?u=0:u=(t-n.minTranslate())/d,u!==s&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function n5(){return-this.snapGrid[0]}function r5(){return-this.snapGrid[this.snapGrid.length-1]}function i5(t,e,n,r,i){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),r===void 0&&(r=!0);const o=this,{params:s,wrapperEl:a}=o;if(o.animating&&s.preventInteractionOnTransition)return!1;const l=o.minTranslate(),c=o.maxTranslate();let u;if(r&&t>l?u=l:r&&t<c?u=c:u=t,o.updateProgress(u),s.cssMode){const d=o.isHorizontal();if(e===0)a[d?"scrollLeft":"scrollTop"]=-u;else{if(!o.support.smoothScroll)return YS({swiper:o,targetPosition:-u,side:d?"left":"top"}),!0;a.scrollTo({[d?"left":"top"]:-u,behavior:"smooth"})}return!0}return e===0?(o.setTransition(0),o.setTranslate(u),n&&(o.emit("beforeTransitionStart",e,i),o.emit("transitionEnd"))):(o.setTransition(e),o.setTranslate(u),n&&(o.emit("beforeTransitionStart",e,i),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(h){!o||o.destroyed||h.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,n&&o.emit("transitionEnd"))}),o.wrapperEl.addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd))),!0}var o5={getTranslate:e5,setTranslate:t5,minTranslate:n5,maxTranslate:r5,translateTo:i5};function s5(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function KS(t){let{swiper:e,runCallbacks:n,direction:r,step:i}=t;const{activeIndex:o,previousIndex:s}=e;let a=r;if(a||(o>s?a="next":o<s?a="prev":a="reset"),e.emit(`transition${i}`),n&&o!==s){if(a==="reset"){e.emit(`slideResetTransition${i}`);return}e.emit(`slideChangeTransition${i}`),a==="next"?e.emit(`slideNextTransition${i}`):e.emit(`slidePrevTransition${i}`)}}function a5(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),KS({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function l5(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),KS({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var c5={setTransition:s5,transitionStart:a5,transitionEnd:l5};function u5(t,e,n,r,i){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const o=this;let s=t;s<0&&(s=0);const{params:a,snapGrid:l,slidesGrid:c,previousIndex:u,activeIndex:d,rtlTranslate:h,wrapperEl:f,enabled:m}=o;if(o.animating&&a.preventInteractionOnTransition||!m&&!r&&!i)return!1;const b=Math.min(o.params.slidesPerGroupSkip,s);let S=b+Math.floor((s-b)/o.params.slidesPerGroup);S>=l.length&&(S=l.length-1);const w=-l[S];if(a.normalizeSlideIndex)for(let g=0;g<c.length;g+=1){const v=-Math.floor(w*100),E=Math.floor(c[g]*100),A=Math.floor(c[g+1]*100);typeof c[g+1]<"u"?v>=E&&v<A-(A-E)/2?s=g:v>=E&&v<A&&(s=g+1):v>=E&&(s=g)}if(o.initialized&&s!==d&&(!o.allowSlideNext&&(h?w>o.translate&&w>o.minTranslate():w<o.translate&&w<o.minTranslate())||!o.allowSlidePrev&&w>o.translate&&w>o.maxTranslate()&&(d||0)!==s))return!1;s!==(u||0)&&n&&o.emit("beforeSlideChangeStart"),o.updateProgress(w);let p;if(s>d?p="next":s<d?p="prev":p="reset",h&&-w===o.translate||!h&&w===o.translate)return o.updateActiveIndex(s),a.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),a.effect!=="slide"&&o.setTranslate(w),p!=="reset"&&(o.transitionStart(n,p),o.transitionEnd(n,p)),!1;if(a.cssMode){const g=o.isHorizontal(),v=h?w:-w;if(e===0){const E=o.virtual&&o.params.virtual.enabled;E&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),E&&!o._cssModeVirtualInitialSet&&o.params.initialSlide>0?(o._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{f[g?"scrollLeft":"scrollTop"]=v})):f[g?"scrollLeft":"scrollTop"]=v,E&&requestAnimationFrame(()=>{o.wrapperEl.style.scrollSnapType="",o._immediateVirtual=!1})}else{if(!o.support.smoothScroll)return YS({swiper:o,targetPosition:v,side:g?"left":"top"}),!0;f.scrollTo({[g?"left":"top"]:v,behavior:"smooth"})}return!0}return o.setTransition(e),o.setTranslate(w),o.updateActiveIndex(s),o.updateSlidesClasses(),o.emit("beforeTransitionStart",e,r),o.transitionStart(n,p),e===0?o.transitionEnd(n,p):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(v){!o||o.destroyed||v.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(n,p))}),o.wrapperEl.addEventListener("transitionend",o.onSlideToWrapperTransitionEnd)),!0}function d5(t,e,n,r){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const i=this,o=i.grid&&i.params.grid&&i.params.grid.rows>1;let s=t;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)s=s+i.virtual.slidesBefore;else{let a;if(o){const h=s*i.params.grid.rows;a=i.slides.filter(f=>f.getAttribute("data-swiper-slide-index")*1===h)[0].column}else a=i.getSlideIndexByData(s);const l=o?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:c}=i.params;let u=i.params.slidesPerView;u==="auto"?u=i.slidesPerViewDynamic():(u=Math.ceil(parseFloat(i.params.slidesPerView,10)),c&&u%2===0&&(u=u+1));let d=l-a<u;if(c&&(d=d||a<Math.ceil(u/2)),d){const h=c?a<i.activeIndex?"prev":"next":a-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:h,slideTo:!0,activeSlideIndex:h==="next"?a+1:a-l+1,slideRealIndex:h==="next"?i.realIndex:void 0})}if(o){const h=s*i.params.grid.rows;s=i.slides.filter(f=>f.getAttribute("data-swiper-slide-index")*1===h)[0].column}else s=i.getSlideIndexByData(s)}return requestAnimationFrame(()=>{i.slideTo(s,e,n,r)}),i}function h5(t,e,n){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);const r=this,{enabled:i,params:o,animating:s}=r;if(!i)return r;let a=o.slidesPerGroup;o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(a=Math.max(r.slidesPerViewDynamic("current",!0),1));const l=r.activeIndex<o.slidesPerGroupSkip?1:a,c=r.virtual&&o.virtual.enabled;if(o.loop){if(s&&!c&&o.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&o.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+l,t,e,n)}),!0}return o.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+l,t,e,n)}function f5(t,e,n){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);const r=this,{params:i,snapGrid:o,slidesGrid:s,rtlTranslate:a,enabled:l,animating:c}=r;if(!l)return r;const u=r.virtual&&i.virtual.enabled;if(i.loop){if(c&&!u&&i.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const d=a?r.translate:-r.translate;function h(w){return w<0?-Math.floor(Math.abs(w)):Math.floor(w)}const f=h(d),m=o.map(w=>h(w));let b=o[m.indexOf(f)-1];if(typeof b>"u"&&i.cssMode){let w;o.forEach((p,g)=>{f>=p&&(w=g)}),typeof w<"u"&&(b=o[w>0?w-1:w])}let S=0;if(typeof b<"u"&&(S=s.indexOf(b),S<0&&(S=r.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(S=S-r.slidesPerViewDynamic("previous",!0)+1,S=Math.max(S,0))),i.rewind&&r.isBeginning){const w=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(w,t,e,n)}else if(i.loop&&r.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(S,t,e,n)}),!0;return r.slideTo(S,t,e,n)}function p5(t,e,n){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);const r=this;return r.slideTo(r.activeIndex,t,e,n)}function m5(t,e,n,r){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0),r===void 0&&(r=.5);const i=this;let o=i.activeIndex;const s=Math.min(i.params.slidesPerGroupSkip,o),a=s+Math.floor((o-s)/i.params.slidesPerGroup),l=i.rtlTranslate?i.translate:-i.translate;if(l>=i.snapGrid[a]){const c=i.snapGrid[a],u=i.snapGrid[a+1];l-c>(u-c)*r&&(o+=i.params.slidesPerGroup)}else{const c=i.snapGrid[a-1],u=i.snapGrid[a];l-c<=(u-c)*r&&(o-=i.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,i.slidesGrid.length-1),i.slideTo(o,t,e,n)}function g5(){const t=this,{params:e,slidesEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let i=t.clickedIndex,o;const s=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;o=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?i<t.loopedSlides-r/2||i>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),i=t.getSlideIndex(fr(n,`${s}[data-swiper-slide-index="${o}"]`)[0]),Mm(()=>{t.slideTo(i)})):t.slideTo(i):i>t.slides.length-r?(t.loopFix(),i=t.getSlideIndex(fr(n,`${s}[data-swiper-slide-index="${o}"]`)[0]),Mm(()=>{t.slideTo(i)})):t.slideTo(i)}else t.slideTo(i)}var v5={slideTo:u5,slideToLoop:d5,slideNext:h5,slidePrev:f5,slideReset:p5,slideToClosest:m5,slideToClickedSlide:g5};function y5(t){const e=this,{params:n,slidesEl:r}=e;if(!n.loop||e.virtual&&e.params.virtual.enabled)return;const i=()=>{fr(r,`.${n.slideClass}, swiper-slide`).forEach((d,h)=>{d.setAttribute("data-swiper-slide-index",h)})},o=e.grid&&n.grid&&n.grid.rows>1,s=n.slidesPerGroup*(o?n.grid.rows:1),a=e.slides.length%s!==0,l=o&&e.slides.length%n.grid.rows!==0,c=u=>{for(let d=0;d<u;d+=1){const h=e.isElement?Td("swiper-slide",[n.slideBlankClass]):Td("div",[n.slideClass,n.slideBlankClass]);e.slidesEl.append(h)}};if(a){if(n.loopAddBlankSlides){const u=s-e.slides.length%s;c(u),e.recalcSlides(),e.updateSlides()}else Sd("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else if(l){if(n.loopAddBlankSlides){const u=n.grid.rows-e.slides.length%n.grid.rows;c(u),e.recalcSlides(),e.updateSlides()}else Sd("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else i();e.loopFix({slideRealIndex:t,direction:n.centeredSlides?void 0:"next"})}function w5(t){let{slideRealIndex:e,slideTo:n=!0,direction:r,setTranslate:i,activeSlideIndex:o,byController:s,byMousewheel:a}=t===void 0?{}:t;const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:c,allowSlidePrev:u,allowSlideNext:d,slidesEl:h,params:f}=l,{centeredSlides:m}=f;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&f.virtual.enabled){n&&(!f.centeredSlides&&l.snapIndex===0?l.slideTo(l.virtual.slides.length,0,!1,!0):f.centeredSlides&&l.snapIndex<f.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0)),l.allowSlidePrev=u,l.allowSlideNext=d,l.emit("loopFix");return}let b=f.slidesPerView;b==="auto"?b=l.slidesPerViewDynamic():(b=Math.ceil(parseFloat(f.slidesPerView,10)),m&&b%2===0&&(b=b+1));const S=f.slidesPerGroupAuto?b:f.slidesPerGroup;let w=S;w%S!==0&&(w+=S-w%S),w+=f.loopAdditionalSlides,l.loopedSlides=w;const p=l.grid&&f.grid&&f.grid.rows>1;c.length<b+w?Sd("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):p&&f.grid.fill==="row"&&Sd("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const g=[],v=[];let E=l.activeIndex;typeof o>"u"?o=l.getSlideIndex(c.filter(C=>C.classList.contains(f.slideActiveClass))[0]):E=o;const A=r==="next"||!r,R=r==="prev"||!r;let _=0,y=0;const k=p?Math.ceil(c.length/f.grid.rows):c.length,I=(p?c[o].column:o)+(m&&typeof i>"u"?-b/2+.5:0);if(I<w){_=Math.max(w-I,S);for(let C=0;C<w-I;C+=1){const M=C-Math.floor(C/k)*k;if(p){const T=k-M-1;for(let L=c.length-1;L>=0;L-=1)c[L].column===T&&g.push(L)}else g.push(k-M-1)}}else if(I+b>k-w){y=Math.max(I-(k-w*2),S);for(let C=0;C<y;C+=1){const M=C-Math.floor(C/k)*k;p?c.forEach((T,L)=>{T.column===M&&v.push(L)}):v.push(M)}}if(l.__preventObserver__=!0,requestAnimationFrame(()=>{l.__preventObserver__=!1}),R&&g.forEach(C=>{c[C].swiperLoopMoveDOM=!0,h.prepend(c[C]),c[C].swiperLoopMoveDOM=!1}),A&&v.forEach(C=>{c[C].swiperLoopMoveDOM=!0,h.append(c[C]),c[C].swiperLoopMoveDOM=!1}),l.recalcSlides(),f.slidesPerView==="auto"?l.updateSlides():p&&(g.length>0&&R||v.length>0&&A)&&l.slides.forEach((C,M)=>{l.grid.updateSlide(M,C,l.slides)}),f.watchSlidesProgress&&l.updateSlidesOffset(),n){if(g.length>0&&R){if(typeof e>"u"){const C=l.slidesGrid[E],T=l.slidesGrid[E+_]-C;a?l.setTranslate(l.translate-T):(l.slideTo(E+_,0,!1,!0),i&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-T,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-T))}else if(i){const C=p?g.length/f.grid.rows:g.length;l.slideTo(l.activeIndex+C,0,!1,!0),l.touchEventsData.currentTranslate=l.translate}}else if(v.length>0&&A)if(typeof e>"u"){const C=l.slidesGrid[E],T=l.slidesGrid[E-y]-C;a?l.setTranslate(l.translate-T):(l.slideTo(E-y,0,!1,!0),i&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-T,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-T))}else{const C=p?v.length/f.grid.rows:v.length;l.slideTo(l.activeIndex-C,0,!1,!0)}}if(l.allowSlidePrev=u,l.allowSlideNext=d,l.controller&&l.controller.control&&!s){const C={slideRealIndex:e,direction:r,setTranslate:i,activeSlideIndex:o,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(M=>{!M.destroyed&&M.params.loop&&M.loopFix({...C,slideTo:M.params.slidesPerView===f.slidesPerView?n:!1})}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...C,slideTo:l.controller.control.params.slidesPerView===f.slidesPerView?n:!1})}l.emit("loopFix")}function _5(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const r=[];t.slides.forEach(i=>{const o=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;r[o]=i}),t.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),r.forEach(i=>{n.append(i)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var b5={loopCreate:y5,loopFix:w5,loopDestroy:_5};function k5(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function E5(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var x5={setGrabCursor:k5,unsetGrabCursor:E5};function S5(t,e){e===void 0&&(e=this);function n(r){if(!r||r===jr()||r===Sn())return null;r.assignedSlot&&(r=r.assignedSlot);const i=r.closest(t);return!i&&!r.getRootNode?null:i||n(r.getRootNode().host)}return n(e)}function w1(t,e,n){const r=Sn(),{params:i}=t,o=i.edgeSwipeDetection,s=i.edgeSwipeThreshold;return o&&(n<=s||n>=r.innerWidth-s)?o==="prevent"?(e.preventDefault(),!0):!1:!0}function T5(t){const e=this,n=jr();let r=t;r.originalEvent&&(r=r.originalEvent);const i=e.touchEventsData;if(r.type==="pointerdown"){if(i.pointerId!==null&&i.pointerId!==r.pointerId)return;i.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(i.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){w1(e,r,r.targetTouches[0].pageX);return}const{params:o,touches:s,enabled:a}=e;if(!a||!o.simulateTouch&&r.pointerType==="mouse"||e.animating&&o.preventInteractionOnTransition)return;!e.animating&&o.cssMode&&o.loop&&e.loopFix();let l=r.target;if(o.touchEventsTarget==="wrapper"&&!e.wrapperEl.contains(l)||"which"in r&&r.which===3||"button"in r&&r.button>0||i.isTouched&&i.isMoved)return;const c=!!o.noSwipingClass&&o.noSwipingClass!=="",u=r.composedPath?r.composedPath():r.path;c&&r.target&&r.target.shadowRoot&&u&&(l=u[0]);const d=o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`,h=!!(r.target&&r.target.shadowRoot);if(o.noSwiping&&(h?S5(d,l):l.closest(d))){e.allowClick=!0;return}if(o.swipeHandler&&!l.closest(o.swipeHandler))return;s.currentX=r.pageX,s.currentY=r.pageY;const f=s.currentX,m=s.currentY;if(!w1(e,r,f))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),s.startX=f,s.startY=m,i.touchStartTime=xd(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,o.threshold>0&&(i.allowThresholdMove=!1);let b=!0;l.matches(i.focusableElements)&&(b=!1,l.nodeName==="SELECT"&&(i.isTouched=!1)),n.activeElement&&n.activeElement.matches(i.focusableElements)&&n.activeElement!==l&&n.activeElement.blur();const S=b&&e.allowTouchMove&&o.touchStartPreventDefault;(o.touchStartForcePreventDefault||S)&&!l.isContentEditable&&r.preventDefault(),o.freeMode&&o.freeMode.enabled&&e.freeMode&&e.animating&&!o.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function C5(t){const e=jr(),n=this,r=n.touchEventsData,{params:i,touches:o,rtlTranslate:s,enabled:a}=n;if(!a||!i.simulateTouch&&t.pointerType==="mouse")return;let l=t;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(r.touchId!==null||l.pointerId!==r.pointerId))return;let c;if(l.type==="touchmove"){if(c=[...l.changedTouches].filter(A=>A.identifier===r.touchId)[0],!c||c.identifier!==r.touchId)return}else c=l;if(!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",l);return}const u=c.pageX,d=c.pageY;if(l.preventedByNestedSwiper){o.startX=u,o.startY=d;return}if(!n.allowTouchMove){l.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(o,{startX:u,startY:d,currentX:u,currentY:d}),r.touchStartTime=xd());return}if(i.touchReleaseOnEdges&&!i.loop){if(n.isVertical()){if(d<o.startY&&n.translate<=n.maxTranslate()||d>o.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(u<o.startX&&n.translate<=n.maxTranslate()||u>o.startX&&n.translate>=n.minTranslate())return}if(e.activeElement&&l.target===e.activeElement&&l.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}r.allowTouchCallbacks&&n.emit("touchMove",l),o.previousX=o.currentX,o.previousY=o.currentY,o.currentX=u,o.currentY=d;const h=o.currentX-o.startX,f=o.currentY-o.startY;if(n.params.threshold&&Math.sqrt(h**2+f**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let A;n.isHorizontal()&&o.currentY===o.startY||n.isVertical()&&o.currentX===o.startX?r.isScrolling=!1:h*h+f*f>=25&&(A=Math.atan2(Math.abs(f),Math.abs(h))*180/Math.PI,r.isScrolling=n.isHorizontal()?A>i.touchAngle:90-A>i.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",l),typeof r.startMoving>"u"&&(o.currentX!==o.startX||o.currentY!==o.startY)&&(r.startMoving=!0),r.isScrolling){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!i.cssMode&&l.cancelable&&l.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&l.stopPropagation();let m=n.isHorizontal()?h:f,b=n.isHorizontal()?o.currentX-o.previousX:o.currentY-o.previousY;i.oneWayMovement&&(m=Math.abs(m)*(s?1:-1),b=Math.abs(b)*(s?1:-1)),o.diff=m,m*=i.touchRatio,s&&(m=-m,b=-b);const S=n.touchesDirection;n.swipeDirection=m>0?"prev":"next",n.touchesDirection=b>0?"prev":"next";const w=n.params.loop&&!i.cssMode,p=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!r.isMoved){if(w&&p&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const A=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});n.wrapperEl.dispatchEvent(A)}r.allowMomentumBounce=!1,i.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",l)}let g;if(new Date().getTime(),r.isMoved&&r.allowThresholdMove&&S!==n.touchesDirection&&w&&p&&Math.abs(m)>=1){Object.assign(o,{startX:u,startY:d,currentX:u,currentY:d,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}n.emit("sliderMove",l),r.isMoved=!0,r.currentTranslate=m+r.startTranslate;let v=!0,E=i.resistanceRatio;if(i.touchReleaseOnEdges&&(E=0),m>0?(w&&p&&!g&&r.allowThresholdMove&&r.currentTranslate>(i.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(v=!1,i.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+m)**E))):m<0&&(w&&p&&!g&&r.allowThresholdMove&&r.currentTranslate<(i.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]:n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(i.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(v=!1,i.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-m)**E))),v&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),i.threshold>0)if(Math.abs(m)>i.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,r.currentTranslate=r.startTranslate,o.diff=n.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY;return}}else{r.currentTranslate=r.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function I5(t){const e=this,n=e.touchEventsData;let r=t;r.originalEvent&&(r=r.originalEvent);let i;if(r.type==="touchend"||r.type==="touchcancel"){if(i=[...r.changedTouches].filter(E=>E.identifier===n.touchId)[0],!i||i.identifier!==n.touchId)return}else{if(n.touchId!==null||r.pointerId!==n.pointerId)return;i=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:s,touches:a,rtlTranslate:l,slidesGrid:c,enabled:u}=e;if(!u||!s.simulateTouch&&r.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&s.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}s.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const d=xd(),h=d-n.touchStartTime;if(e.allowClick){const E=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(E&&E[0]||r.target,E),e.emit("tap click",r),h<300&&d-n.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(n.lastClickTime=xd(),Mm(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||a.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let f;if(s.followFinger?f=l?e.translate:-e.translate:f=-n.currentTranslate,s.cssMode)return;if(s.freeMode&&s.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:f});return}const m=f>=-e.maxTranslate()&&!e.params.loop;let b=0,S=e.slidesSizesGrid[0];for(let E=0;E<c.length;E+=E<s.slidesPerGroupSkip?1:s.slidesPerGroup){const A=E<s.slidesPerGroupSkip-1?1:s.slidesPerGroup;typeof c[E+A]<"u"?(m||f>=c[E]&&f<c[E+A])&&(b=E,S=c[E+A]-c[E]):(m||f>=c[E])&&(b=E,S=c[c.length-1]-c[c.length-2])}let w=null,p=null;s.rewind&&(e.isBeginning?p=s.virtual&&s.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(w=0));const g=(f-c[b])/S,v=b<s.slidesPerGroupSkip-1?1:s.slidesPerGroup;if(h>s.longSwipesMs){if(!s.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(g>=s.longSwipesRatio?e.slideTo(s.rewind&&e.isEnd?w:b+v):e.slideTo(b)),e.swipeDirection==="prev"&&(g>1-s.longSwipesRatio?e.slideTo(b+v):p!==null&&g<0&&Math.abs(g)>s.longSwipesRatio?e.slideTo(p):e.slideTo(b))}else{if(!s.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(b+v):e.slideTo(b):(e.swipeDirection==="next"&&e.slideTo(w!==null?w:b+v),e.swipeDirection==="prev"&&e.slideTo(p!==null?p:b))}}function _1(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:i,snapGrid:o}=t,s=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const a=s&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!a?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!s?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=i,t.allowSlideNext=r,t.params.watchOverflow&&o!==t.snapGrid&&t.checkOverflow()}function A5(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function R5(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let i;const o=t.maxTranslate()-t.minTranslate();o===0?i=0:i=(t.translate-t.minTranslate())/o,i!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function P5(t){const e=this;Su(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function M5(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const QS=(t,e)=>{const n=jr(),{params:r,el:i,wrapperEl:o,device:s}=t,a=!!r.nested,l=e==="on"?"addEventListener":"removeEventListener",c=e;n[l]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:a}),i[l]("touchstart",t.onTouchStart,{passive:!1}),i[l]("pointerdown",t.onTouchStart,{passive:!1}),n[l]("touchmove",t.onTouchMove,{passive:!1,capture:a}),n[l]("pointermove",t.onTouchMove,{passive:!1,capture:a}),n[l]("touchend",t.onTouchEnd,{passive:!0}),n[l]("pointerup",t.onTouchEnd,{passive:!0}),n[l]("pointercancel",t.onTouchEnd,{passive:!0}),n[l]("touchcancel",t.onTouchEnd,{passive:!0}),n[l]("pointerout",t.onTouchEnd,{passive:!0}),n[l]("pointerleave",t.onTouchEnd,{passive:!0}),n[l]("contextmenu",t.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&i[l]("click",t.onClick,!0),r.cssMode&&o[l]("scroll",t.onScroll),r.updateOnWindowResize?t[c](s.ios||s.android?"resize orientationchange observerUpdate":"resize observerUpdate",_1,!0):t[c]("observerUpdate",_1,!0),i[l]("load",t.onLoad,{capture:!0})};function O5(){const t=this,{params:e}=t;t.onTouchStart=T5.bind(t),t.onTouchMove=C5.bind(t),t.onTouchEnd=I5.bind(t),t.onDocumentTouchStart=M5.bind(t),e.cssMode&&(t.onScroll=R5.bind(t)),t.onClick=A5.bind(t),t.onLoad=P5.bind(t),QS(t,"on")}function L5(){QS(this,"off")}var D5={attachEvents:O5,detachEvents:L5};const b1=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function N5(){const t=this,{realIndex:e,initialized:n,params:r,el:i}=t,o=r.breakpoints;if(!o||o&&Object.keys(o).length===0)return;const s=t.getBreakpoint(o,t.params.breakpointsBase,t.el);if(!s||t.currentBreakpoint===s)return;const l=(s in o?o[s]:void 0)||t.originalParams,c=b1(t,r),u=b1(t,l),d=r.enabled;c&&!u?(i.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),t.emitContainerClasses()):!c&&u&&(i.classList.add(`${r.containerModifierClass}grid`),(l.grid.fill&&l.grid.fill==="column"||!l.grid.fill&&r.grid.fill==="column")&&i.classList.add(`${r.containerModifierClass}grid-column`),t.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(w=>{if(typeof l[w]>"u")return;const p=r[w]&&r[w].enabled,g=l[w]&&l[w].enabled;p&&!g&&t[w].disable(),!p&&g&&t[w].enable()});const h=l.direction&&l.direction!==r.direction,f=r.loop&&(l.slidesPerView!==r.slidesPerView||h),m=r.loop;h&&n&&t.changeDirection(),mn(t.params,l);const b=t.params.enabled,S=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),d&&!b?t.disable():!d&&b&&t.enable(),t.currentBreakpoint=s,t.emit("_beforeBreakpoint",l),n&&(f?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!m&&S?(t.loopCreate(e),t.updateSlides()):m&&!S&&t.loopDestroy()),t.emit("breakpoint",l)}function B5(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let r=!1;const i=Sn(),o=e==="window"?i.innerHeight:n.clientHeight,s=Object.keys(t).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const l=parseFloat(a.substr(1));return{value:o*l,point:a}}return{value:a,point:a}});s.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<s.length;a+=1){const{point:l,value:c}=s[a];e==="window"?i.matchMedia(`(min-width: ${c}px)`).matches&&(r=l):c<=n.clientWidth&&(r=l)}return r||"max"}var F5={setBreakpoint:N5,getBreakpoint:B5};function V5(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(i=>{r[i]&&n.push(e+i)}):typeof r=="string"&&n.push(e+r)}),n}function $5(){const t=this,{classNames:e,params:n,rtl:r,el:i,device:o}=t,s=V5(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:o.android},{ios:o.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...s),i.classList.add(...e),t.emitContainerClasses()}function U5(){const t=this,{el:e,classNames:n}=t;e.classList.remove(...n),t.emitContainerClasses()}var j5={addClasses:$5,removeClasses:U5};function z5(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const i=t.slides.length-1,o=t.slidesGrid[i]+t.slidesSizesGrid[i]+r*2;t.isLocked=t.size>o}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var H5={checkOverflow:z5},Dm={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function W5(t,e){return function(r){r===void 0&&(r={});const i=Object.keys(r)[0],o=r[i];if(typeof o!="object"||o===null){mn(e,r);return}if(t[i]===!0&&(t[i]={enabled:!0}),i==="navigation"&&t[i]&&t[i].enabled&&!t[i].prevEl&&!t[i].nextEl&&(t[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&t[i]&&t[i].enabled&&!t[i].el&&(t[i].auto=!0),!(i in t&&"enabled"in o)){mn(e,r);return}typeof t[i]=="object"&&!("enabled"in t[i])&&(t[i].enabled=!0),t[i]||(t[i]={enabled:!1}),mn(e,r)}}const Wf={eventsEmitter:j6,update:Z6,translate:o5,transition:c5,slide:v5,loop:b5,grabCursor:x5,events:D5,breakpoints:F5,checkOverflow:H5,classes:j5},Yf={};let cy=class Tr{constructor(){let e,n;for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?n=i[0]:[e,n]=i,n||(n={}),n=mn({},n),e&&!n.el&&(n.el=e);const s=jr();if(n.el&&typeof n.el=="string"&&s.querySelectorAll(n.el).length>1){const u=[];return s.querySelectorAll(n.el).forEach(d=>{const h=mn({},n,{el:d});u.push(new Tr(h))}),u}const a=this;a.__swiper__=!0,a.support=qS(),a.device=B6({userAgent:n.userAgent}),a.browser=V6(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],n.modules&&Array.isArray(n.modules)&&a.modules.push(...n.modules);const l={};a.modules.forEach(u=>{u({params:n,swiper:a,extendParams:W5(n,l),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const c=mn({},Dm,l);return a.params=mn({},c,Yf,n),a.originalParams=mn({},a.params),a.passedParams=mn({},n),a.params&&a.params.on&&Object.keys(a.params.on).forEach(u=>{a.on(u,a.params.on[u])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:r}=this,i=fr(n,`.${r.slideClass}, swiper-slide`),o=Cd(i[0]);return Cd(e)-o}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(n=>n.getAttribute("data-swiper-slide-index")*1===e)[0])}recalcSlides(){const e=this,{slidesEl:n,params:r}=e;e.slides=fr(n,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const i=r.minTranslate(),s=(r.maxTranslate()-i)*e+i;r.translateTo(s,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(r=>{const i=e.getSlideClasses(r);n.push({slideEl:r,classNames:i}),e.emit("_slideClass",r,i)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const r=this,{params:i,slides:o,slidesGrid:s,slidesSizesGrid:a,size:l,activeIndex:c}=r;let u=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let d=o[c]?o[c].swiperSlideSize:0,h;for(let f=c+1;f<o.length;f+=1)o[f]&&!h&&(d+=o[f].swiperSlideSize,u+=1,d>l&&(h=!0));for(let f=c-1;f>=0;f-=1)o[f]&&!h&&(d+=o[f].swiperSlideSize,u+=1,d>l&&(h=!0))}else if(e==="current")for(let d=c+1;d<o.length;d+=1)(n?s[d]+a[d]-s[c]<l:s[d]-s[c]<l)&&(u+=1);else for(let d=c-1;d>=0;d-=1)s[c]-s[d]<l&&(u+=1);return u}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(s=>{s.complete&&Su(e,s)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const s=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(s,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let o;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)i(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const s=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;o=e.slideTo(s.length-1,0,!1,!0)}else o=e.slideTo(e.activeIndex,0,!1,!0);o||i()}r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const r=this,i=r.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${i}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(o=>{e==="vertical"?o.style.width="":o.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let r=e||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName==="SWIPER-CONTAINER"&&(n.isElement=!0);const i=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let s=(()=>r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(i()):fr(r,i())[0])();return!s&&n.params.createElements&&(s=Td("div",n.params.wrapperClass),r.append(s),fr(r,`.${n.params.slideClass}`).forEach(a=>{s.append(a)})),Object.assign(n,{el:r,wrapperEl:s,slidesEl:n.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:s,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||bi(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||bi(r,"direction")==="rtl"),wrongRTL:bi(s,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents();const i=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&i.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(o=>{o.complete?Su(n,o):o.addEventListener("load",s=>{Su(n,s.target)})}),Lm(n),n.initialized=!0,Lm(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const r=this,{params:i,el:o,wrapperEl:s,slides:a}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),i.loop&&r.loopDestroy(),n&&(r.removeClasses(),o.removeAttribute("style"),s.removeAttribute("style"),a&&a.length&&a.forEach(l=>{l.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(l=>{r.off(l)}),e!==!1&&(r.el.swiper=null,A6(r)),r.destroyed=!0),null}static extendDefaults(e){mn(Yf,e)}static get extendedDefaults(){return Yf}static get defaults(){return Dm}static installModule(e){Tr.prototype.__modules__||(Tr.prototype.__modules__=[]);const n=Tr.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Tr.installModule(n)),Tr):(Tr.installModule(e),Tr)}};Object.keys(Wf).forEach(t=>{Object.keys(Wf[t]).forEach(e=>{cy.prototype[e]=Wf[t][e]})});cy.use([$6,U6]);const XS=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Ro(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function Ss(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:Ro(e[r])&&Ro(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:Ss(t[r],e[r]):t[r]=e[r]})}function JS(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function ZS(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function eT(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function tT(t){t===void 0&&(t="");const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function Y5(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function G5(t){let{swiper:e,slides:n,passedParams:r,changedParams:i,nextEl:o,prevEl:s,scrollbarEl:a,paginationEl:l}=t;const c=i.filter(y=>y!=="children"&&y!=="direction"&&y!=="wrapperClass"),{params:u,pagination:d,navigation:h,scrollbar:f,virtual:m,thumbs:b}=e;let S,w,p,g,v,E,A,R;i.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&u.thumbs&&!u.thumbs.swiper&&(S=!0),i.includes("controller")&&r.controller&&r.controller.control&&u.controller&&!u.controller.control&&(w=!0),i.includes("pagination")&&r.pagination&&(r.pagination.el||l)&&(u.pagination||u.pagination===!1)&&d&&!d.el&&(p=!0),i.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||a)&&(u.scrollbar||u.scrollbar===!1)&&f&&!f.el&&(g=!0),i.includes("navigation")&&r.navigation&&(r.navigation.prevEl||s)&&(r.navigation.nextEl||o)&&(u.navigation||u.navigation===!1)&&h&&!h.prevEl&&!h.nextEl&&(v=!0);const _=y=>{e[y]&&(e[y].destroy(),y==="navigation"?(e.isElement&&(e[y].prevEl.remove(),e[y].nextEl.remove()),u[y].prevEl=void 0,u[y].nextEl=void 0,e[y].prevEl=void 0,e[y].nextEl=void 0):(e.isElement&&e[y].el.remove(),u[y].el=void 0,e[y].el=void 0))};i.includes("loop")&&e.isElement&&(u.loop&&!r.loop?E=!0:!u.loop&&r.loop?A=!0:R=!0),c.forEach(y=>{if(Ro(u[y])&&Ro(r[y]))Object.assign(u[y],r[y]),(y==="navigation"||y==="pagination"||y==="scrollbar")&&"enabled"in r[y]&&!r[y].enabled&&_(y);else{const k=r[y];(k===!0||k===!1)&&(y==="navigation"||y==="pagination"||y==="scrollbar")?k===!1&&_(y):u[y]=r[y]}}),c.includes("controller")&&!w&&e.controller&&e.controller.control&&u.controller&&u.controller.control&&(e.controller.control=u.controller.control),i.includes("children")&&n&&m&&u.virtual.enabled?(m.slides=n,m.update(!0)):i.includes("virtual")&&m&&u.virtual.enabled&&(n&&(m.slides=n),m.update(!0)),i.includes("children")&&n&&u.loop&&(R=!0),S&&b.init()&&b.update(!0),w&&(e.controller.control=u.controller.control),p&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),e.el.appendChild(l)),l&&(u.pagination.el=l),d.init(),d.render(),d.update()),g&&(e.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),e.el.appendChild(a)),a&&(u.scrollbar.el=a),f.init(),f.updateSize(),f.setTranslate()),v&&(e.isElement&&((!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-next"),o.innerHTML=e.hostEl.constructor.nextButtonSvg,o.part.add("button-next"),e.el.appendChild(o)),(!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-prev"),s.innerHTML=e.hostEl.constructor.prevButtonSvg,s.part.add("button-prev"),e.el.appendChild(s))),o&&(u.navigation.nextEl=o),s&&(u.navigation.prevEl=s),h.init(),h.update()),i.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),i.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),i.includes("direction")&&e.changeDirection(r.direction,!1),(E||R)&&e.loopDestroy(),(A||R)&&e.loopCreate(),e.update()}function q5(t,e){t===void 0&&(t={}),e===void 0&&(e=!0);const n={on:{}},r={},i={};Ss(n,Dm),n._emitClasses=!0,n.init=!1;const o={},s=XS.map(l=>l.replace(/_/,"")),a=Object.assign({},t);return Object.keys(a).forEach(l=>{typeof t[l]>"u"||(s.indexOf(l)>=0?Ro(t[l])?(n[l]={},i[l]={},Ss(n[l],t[l]),Ss(i[l],t[l])):(n[l]=t[l],i[l]=t[l]):l.search(/on[A-Z]/)===0&&typeof t[l]=="function"?e?r[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:n.on[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:o[l]=t[l])}),["navigation","pagination","scrollbar"].forEach(l=>{n[l]===!0&&(n[l]={}),n[l]===!1&&delete n[l]}),{params:n,passedParams:i,rest:o,events:r}}function K5(t,e){let{el:n,nextEl:r,prevEl:i,paginationEl:o,scrollbarEl:s,swiper:a}=t;JS(e)&&r&&i&&(a.params.navigation.nextEl=r,a.originalParams.navigation.nextEl=r,a.params.navigation.prevEl=i,a.originalParams.navigation.prevEl=i),ZS(e)&&o&&(a.params.pagination.el=o,a.originalParams.pagination.el=o),eT(e)&&s&&(a.params.scrollbar.el=s,a.originalParams.scrollbar.el=s),a.init(n)}function Q5(t,e,n,r,i){const o=[];if(!e)return o;const s=l=>{o.indexOf(l)<0&&o.push(l)};if(n&&r){const l=r.map(i),c=n.map(i);l.join("")!==c.join("")&&s("children"),r.length!==n.length&&s("children")}return XS.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in t&&l in e)if(Ro(t[l])&&Ro(e[l])){const c=Object.keys(t[l]),u=Object.keys(e[l]);c.length!==u.length?s(l):(c.forEach(d=>{t[l][d]!==e[l][d]&&s(l)}),u.forEach(d=>{t[l][d]!==e[l][d]&&s(l)}))}else t[l]!==e[l]&&s(l)}),o}const X5=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function Id(){return Id=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Id.apply(this,arguments)}function nT(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function rT(t){const e=[];return ke.Children.toArray(t).forEach(n=>{nT(n)?e.push(n):n.props&&n.props.children&&rT(n.props.children).forEach(r=>e.push(r))}),e}function J5(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return ke.Children.toArray(t).forEach(r=>{if(nT(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const i=rT(r.props.children);i.length>0?i.forEach(o=>e.push(o)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function Z5(t,e,n){if(!n)return null;const r=u=>{let d=u;return u<0?d=e.length+u:d>=e.length&&(d=d-e.length),d},i=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:o,to:s}=n,a=t.params.loop?-e.length:0,l=t.params.loop?e.length*2:e.length,c=[];for(let u=a;u<l;u+=1)u>=o&&u<=s&&c.push(e[r(u)]);return c.map((u,d)=>ke.cloneElement(u,{swiper:t,style:i,key:`slide-${d}`}))}function cl(t,e){return typeof window>"u"?F.useEffect(t,e):F.useLayoutEffect(t,e)}const k1=F.createContext(null),eF=F.createContext(null),iT=F.forwardRef(function(t,e){let{className:n,tag:r="div",wrapperTag:i="div",children:o,onSwiper:s,...a}=t===void 0?{}:t,l=!1;const[c,u]=F.useState("swiper"),[d,h]=F.useState(null),[f,m]=F.useState(!1),b=F.useRef(!1),S=F.useRef(null),w=F.useRef(null),p=F.useRef(null),g=F.useRef(null),v=F.useRef(null),E=F.useRef(null),A=F.useRef(null),R=F.useRef(null),{params:_,passedParams:y,rest:k,events:x}=q5(a),{slides:I,slots:C}=J5(o),M=()=>{m(!f)};Object.assign(_.on,{_containerClasses(B,V){u(V)}});const T=()=>{Object.assign(_.on,x),l=!0;const B={..._};if(delete B.wrapperClass,w.current=new cy(B),w.current.virtual&&w.current.params.virtual.enabled){w.current.virtual.slides=I;const V={cache:!1,slides:I,renderExternal:h,renderExternalUpdate:!1};Ss(w.current.params.virtual,V),Ss(w.current.originalParams.virtual,V)}};S.current||T(),w.current&&w.current.on("_beforeBreakpoint",M);const L=()=>{l||!x||!w.current||Object.keys(x).forEach(B=>{w.current.on(B,x[B])})},H=()=>{!x||!w.current||Object.keys(x).forEach(B=>{w.current.off(B,x[B])})};F.useEffect(()=>()=>{w.current&&w.current.off("_beforeBreakpoint",M)}),F.useEffect(()=>{!b.current&&w.current&&(w.current.emitSlidesClasses(),b.current=!0)}),cl(()=>{if(e&&(e.current=S.current),!!S.current)return w.current.destroyed&&T(),K5({el:S.current,nextEl:v.current,prevEl:E.current,paginationEl:A.current,scrollbarEl:R.current,swiper:w.current},_),s&&s(w.current),()=>{w.current&&!w.current.destroyed&&w.current.destroy(!0,!1)}},[]),cl(()=>{L();const B=Q5(y,p.current,I,g.current,V=>V.key);return p.current=y,g.current=I,B.length&&w.current&&!w.current.destroyed&&G5({swiper:w.current,slides:I,passedParams:y,changedParams:B,nextEl:v.current,prevEl:E.current,scrollbarEl:R.current,paginationEl:A.current}),()=>{H()}}),cl(()=>{X5(w.current)},[d]);function P(){return _.virtual?Z5(w.current,I,d):I.map((B,V)=>ke.cloneElement(B,{swiper:w.current,swiperSlideIndex:V}))}return ke.createElement(r,Id({ref:S,className:tT(`${c}${n?` ${n}`:""}`)},k),ke.createElement(eF.Provider,{value:w.current},C["container-start"],ke.createElement(i,{className:Y5(_.wrapperClass)},C["wrapper-start"],P(),C["wrapper-end"]),JS(_)&&ke.createElement(ke.Fragment,null,ke.createElement("div",{ref:E,className:"swiper-button-prev"}),ke.createElement("div",{ref:v,className:"swiper-button-next"})),eT(_)&&ke.createElement("div",{ref:R,className:"swiper-scrollbar"}),ZS(_)&&ke.createElement("div",{ref:A,className:"swiper-pagination"}),C["container-end"]))});iT.displayName="Swiper";const oT=F.forwardRef(function(t,e){let{tag:n="div",children:r,className:i="",swiper:o,zoom:s,lazy:a,virtualIndex:l,swiperSlideIndex:c,...u}=t===void 0?{}:t;const d=F.useRef(null),[h,f]=F.useState("swiper-slide"),[m,b]=F.useState(!1);function S(v,E,A){E===d.current&&f(A)}cl(()=>{if(typeof c<"u"&&(d.current.swiperSlideIndex=c),e&&(e.current=d.current),!(!d.current||!o)){if(o.destroyed){h!=="swiper-slide"&&f("swiper-slide");return}return o.on("_slideClass",S),()=>{o&&o.off("_slideClass",S)}}}),cl(()=>{o&&d.current&&!o.destroyed&&f(o.getSlideClasses(d.current))},[o]);const w={isActive:h.indexOf("swiper-slide-active")>=0,isVisible:h.indexOf("swiper-slide-visible")>=0,isPrev:h.indexOf("swiper-slide-prev")>=0,isNext:h.indexOf("swiper-slide-next")>=0},p=()=>typeof r=="function"?r(w):r,g=()=>{b(!0)};return ke.createElement(n,Id({ref:d,className:tT(`${h}${i?` ${i}`:""}`),"data-swiper-slide-index":l,onLoad:g},u),s&&ke.createElement(k1.Provider,{value:w},ke.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof s=="number"?s:void 0},p(),a&&!m&&ke.createElement("div",{className:"swiper-lazy-preloader"}))),!s&&ke.createElement(k1.Provider,{value:w},p(),a&&!m&&ke.createElement("div",{className:"swiper-lazy-preloader"})))});oT.displayName="SwiperSlide";function tF(t,e,n,r){return t.params.createElements&&Object.keys(r).forEach(i=>{if(!n[i]&&n.auto===!0){let o=fr(t.el,`.${r[i]}`)[0];o||(o=Td("div",r[i]),o.className=r[i],t.el.append(o)),n[i]=o,e[i]=o}}),n}function Aa(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function nF(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;const o="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:p=>p,formatFractionTotal:p=>p,bulletClass:`${o}-bullet`,bulletActiveClass:`${o}-bullet-active`,modifierClass:`${o}-`,currentClass:`${o}-current`,totalClass:`${o}-total`,hiddenClass:`${o}-hidden`,progressbarFillClass:`${o}-progressbar-fill`,progressbarOppositeClass:`${o}-progressbar-opposite`,clickableClass:`${o}-clickable`,lockClass:`${o}-lock`,horizontalClass:`${o}-horizontal`,verticalClass:`${o}-vertical`,paginationDisabledClass:`${o}-disabled`}}),e.pagination={el:null,bullets:[]};let s,a=0;const l=p=>(Array.isArray(p)?p:[p]).filter(g=>!!g);function c(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function u(p,g){const{bulletActiveClass:v}=e.params.pagination;p&&(p=p[`${g==="prev"?"previous":"next"}ElementSibling`],p&&(p.classList.add(`${v}-${g}`),p=p[`${g==="prev"?"previous":"next"}ElementSibling`],p&&p.classList.add(`${v}-${g}-${g}`)))}function d(p){const g=p.target.closest(Aa(e.params.pagination.bulletClass));if(!g)return;p.preventDefault();const v=Cd(g)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===v)return;e.slideToLoop(v)}else e.slideTo(v)}function h(){const p=e.rtl,g=e.params.pagination;if(c())return;let v=e.pagination.el;v=l(v);let E,A;const R=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,_=e.params.loop?Math.ceil(R/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(A=e.previousRealIndex||0,E=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(E=e.snapIndex,A=e.previousSnapIndex):(A=e.previousIndex||0,E=e.activeIndex||0),g.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const y=e.pagination.bullets;let k,x,I;if(g.dynamicBullets&&(s=Om(y[0],e.isHorizontal()?"width":"height",!0),v.forEach(C=>{C.style[e.isHorizontal()?"width":"height"]=`${s*(g.dynamicMainBullets+4)}px`}),g.dynamicMainBullets>1&&A!==void 0&&(a+=E-(A||0),a>g.dynamicMainBullets-1?a=g.dynamicMainBullets-1:a<0&&(a=0)),k=Math.max(E-a,0),x=k+(Math.min(y.length,g.dynamicMainBullets)-1),I=(x+k)/2),y.forEach(C=>{const M=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(T=>`${g.bulletActiveClass}${T}`)].map(T=>typeof T=="string"&&T.includes(" ")?T.split(" "):T).flat();C.classList.remove(...M)}),v.length>1)y.forEach(C=>{const M=Cd(C);M===E?C.classList.add(...g.bulletActiveClass.split(" ")):e.isElement&&C.setAttribute("part","bullet"),g.dynamicBullets&&(M>=k&&M<=x&&C.classList.add(...`${g.bulletActiveClass}-main`.split(" ")),M===k&&u(C,"prev"),M===x&&u(C,"next"))});else{const C=y[E];if(C&&C.classList.add(...g.bulletActiveClass.split(" ")),e.isElement&&y.forEach((M,T)=>{M.setAttribute("part",T===E?"bullet-active":"bullet")}),g.dynamicBullets){const M=y[k],T=y[x];for(let L=k;L<=x;L+=1)y[L]&&y[L].classList.add(...`${g.bulletActiveClass}-main`.split(" "));u(M,"prev"),u(T,"next")}}if(g.dynamicBullets){const C=Math.min(y.length,g.dynamicMainBullets+4),M=(s*C-s)/2-I*s,T=p?"right":"left";y.forEach(L=>{L.style[e.isHorizontal()?T:"top"]=`${M}px`})}}v.forEach((y,k)=>{if(g.type==="fraction"&&(y.querySelectorAll(Aa(g.currentClass)).forEach(x=>{x.textContent=g.formatFractionCurrent(E+1)}),y.querySelectorAll(Aa(g.totalClass)).forEach(x=>{x.textContent=g.formatFractionTotal(_)})),g.type==="progressbar"){let x;g.progressbarOpposite?x=e.isHorizontal()?"vertical":"horizontal":x=e.isHorizontal()?"horizontal":"vertical";const I=(E+1)/_;let C=1,M=1;x==="horizontal"?C=I:M=I,y.querySelectorAll(Aa(g.progressbarFillClass)).forEach(T=>{T.style.transform=`translate3d(0,0,0) scaleX(${C}) scaleY(${M})`,T.style.transitionDuration=`${e.params.speed}ms`})}g.type==="custom"&&g.renderCustom?(y.innerHTML=g.renderCustom(e,E+1,_),k===0&&i("paginationRender",y)):(k===0&&i("paginationRender",y),i("paginationUpdate",y)),e.params.watchOverflow&&e.enabled&&y.classList[e.isLocked?"add":"remove"](g.lockClass)})}function f(){const p=e.params.pagination;if(c())return;const g=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let v=e.pagination.el;v=l(v);let E="";if(p.type==="bullets"){let A=e.params.loop?Math.ceil(g/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&A>g&&(A=g);for(let R=0;R<A;R+=1)p.renderBullet?E+=p.renderBullet.call(e,R,p.bulletClass):E+=`<${p.bulletElement} ${e.isElement?'part="bullet"':""} class="${p.bulletClass}"></${p.bulletElement}>`}p.type==="fraction"&&(p.renderFraction?E=p.renderFraction.call(e,p.currentClass,p.totalClass):E=`<span class="${p.currentClass}"></span> / <span class="${p.totalClass}"></span>`),p.type==="progressbar"&&(p.renderProgressbar?E=p.renderProgressbar.call(e,p.progressbarFillClass):E=`<span class="${p.progressbarFillClass}"></span>`),e.pagination.bullets=[],v.forEach(A=>{p.type!=="custom"&&(A.innerHTML=E||""),p.type==="bullets"&&e.pagination.bullets.push(...A.querySelectorAll(Aa(p.bulletClass)))}),p.type!=="custom"&&i("paginationRender",v[0])}function m(){e.params.pagination=tF(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const p=e.params.pagination;if(!p.el)return;let g;typeof p.el=="string"&&e.isElement&&(g=e.el.querySelector(p.el)),!g&&typeof p.el=="string"&&(g=[...document.querySelectorAll(p.el)]),g||(g=p.el),!(!g||g.length===0)&&(e.params.uniqueNavElements&&typeof p.el=="string"&&Array.isArray(g)&&g.length>1&&(g=[...e.el.querySelectorAll(p.el)],g.length>1&&(g=g.filter(v=>GS(v,".swiper")[0]===e.el)[0])),Array.isArray(g)&&g.length===1&&(g=g[0]),Object.assign(e.pagination,{el:g}),g=l(g),g.forEach(v=>{p.type==="bullets"&&p.clickable&&v.classList.add(...(p.clickableClass||"").split(" ")),v.classList.add(p.modifierClass+p.type),v.classList.add(e.isHorizontal()?p.horizontalClass:p.verticalClass),p.type==="bullets"&&p.dynamicBullets&&(v.classList.add(`${p.modifierClass}${p.type}-dynamic`),a=0,p.dynamicMainBullets<1&&(p.dynamicMainBullets=1)),p.type==="progressbar"&&p.progressbarOpposite&&v.classList.add(p.progressbarOppositeClass),p.clickable&&v.addEventListener("click",d),e.enabled||v.classList.add(p.lockClass)}))}function b(){const p=e.params.pagination;if(c())return;let g=e.pagination.el;g&&(g=l(g),g.forEach(v=>{v.classList.remove(p.hiddenClass),v.classList.remove(p.modifierClass+p.type),v.classList.remove(e.isHorizontal()?p.horizontalClass:p.verticalClass),p.clickable&&(v.classList.remove(...(p.clickableClass||"").split(" ")),v.removeEventListener("click",d))})),e.pagination.bullets&&e.pagination.bullets.forEach(v=>v.classList.remove(...p.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const p=e.params.pagination;let{el:g}=e.pagination;g=l(g),g.forEach(v=>{v.classList.remove(p.horizontalClass,p.verticalClass),v.classList.add(e.isHorizontal()?p.horizontalClass:p.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?w():(m(),f(),h())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&h()}),r("snapIndexChange",()=>{h()}),r("snapGridLengthChange",()=>{f(),h()}),r("destroy",()=>{b()}),r("enable disable",()=>{let{el:p}=e.pagination;p&&(p=l(p),p.forEach(g=>g.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{h()}),r("click",(p,g)=>{const v=g.target,E=l(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&E&&E.length>0&&!v.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&v===e.navigation.nextEl||e.navigation.prevEl&&v===e.navigation.prevEl))return;const A=E[0].classList.contains(e.params.pagination.hiddenClass);i(A===!0?"paginationShow":"paginationHide"),E.forEach(R=>R.classList.toggle(e.params.pagination.hiddenClass))}});const S=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:p}=e.pagination;p&&(p=l(p),p.forEach(g=>g.classList.remove(e.params.pagination.paginationDisabledClass))),m(),f(),h()},w=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:p}=e.pagination;p&&(p=l(p),p.forEach(g=>g.classList.add(e.params.pagination.paginationDisabledClass))),b()};Object.assign(e.pagination,{enable:S,disable:w,render:f,update:h,init:m,destroy:b})}function rF(t){let{swiper:e,extendParams:n,on:r,emit:i,params:o}=t;e.autoplay={running:!1,paused:!1,timeLeft:0},n({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let s,a,l=o&&o.autoplay?o.autoplay.delay:3e3,c=o&&o.autoplay?o.autoplay.delay:3e3,u,d=new Date().getTime(),h,f,m,b,S,w,p;function g(P){!e||e.destroyed||!e.wrapperEl||P.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",g),!p&&k())}const v=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?h=!0:h&&(c=u,h=!1);const P=e.autoplay.paused?u:d+c-new Date().getTime();e.autoplay.timeLeft=P,i("autoplayTimeLeft",P,P/l),a=requestAnimationFrame(()=>{v()})},E=()=>{let P;return e.virtual&&e.params.virtual.enabled?P=e.slides.filter(V=>V.classList.contains("swiper-slide-active"))[0]:P=e.slides[e.activeIndex],P?parseInt(P.getAttribute("data-swiper-autoplay"),10):void 0},A=P=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(a),v();let B=typeof P>"u"?e.params.autoplay.delay:P;l=e.params.autoplay.delay,c=e.params.autoplay.delay;const V=E();!Number.isNaN(V)&&V>0&&typeof P>"u"&&(B=V,l=V,c=V),u=B;const Z=e.params.speed,K=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(Z,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,Z,!0,!0),i("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(Z,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,Z,!0,!0),i("autoplay")),e.params.cssMode&&(d=new Date().getTime(),requestAnimationFrame(()=>{A()})))};return B>0?(clearTimeout(s),s=setTimeout(()=>{K()},B)):requestAnimationFrame(()=>{K()}),B},R=()=>{d=new Date().getTime(),e.autoplay.running=!0,A(),i("autoplayStart")},_=()=>{e.autoplay.running=!1,clearTimeout(s),cancelAnimationFrame(a),i("autoplayStop")},y=(P,B)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(s),P||(w=!0);const V=()=>{i("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",g):k()};if(e.autoplay.paused=!0,B){S&&(u=e.params.autoplay.delay),S=!1,V();return}u=(u||e.params.autoplay.delay)-(new Date().getTime()-d),!(e.isEnd&&u<0&&!e.params.loop)&&(u<0&&(u=0),V())},k=()=>{e.isEnd&&u<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(d=new Date().getTime(),w?(w=!1,A(u)):A(),e.autoplay.paused=!1,i("autoplayResume"))},x=()=>{if(e.destroyed||!e.autoplay.running)return;const P=jr();P.visibilityState==="hidden"&&(w=!0,y(!0)),P.visibilityState==="visible"&&k()},I=P=>{P.pointerType==="mouse"&&(w=!0,p=!0,!(e.animating||e.autoplay.paused)&&y(!0))},C=P=>{P.pointerType==="mouse"&&(p=!1,e.autoplay.paused&&k())},M=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",I),e.el.addEventListener("pointerleave",C))},T=()=>{e.el.removeEventListener("pointerenter",I),e.el.removeEventListener("pointerleave",C)},L=()=>{jr().addEventListener("visibilitychange",x)},H=()=>{jr().removeEventListener("visibilitychange",x)};r("init",()=>{e.params.autoplay.enabled&&(M(),L(),R())}),r("destroy",()=>{T(),H(),e.autoplay.running&&_()}),r("_freeModeStaticRelease",()=>{(m||w)&&k()}),r("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?_():y(!0,!0)}),r("beforeTransitionStart",(P,B,V)=>{e.destroyed||!e.autoplay.running||(V||!e.params.autoplay.disableOnInteraction?y(!0,!0):_())}),r("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){_();return}f=!0,m=!1,w=!1,b=setTimeout(()=>{w=!0,m=!0,y(!0)},200)}}),r("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!f)){if(clearTimeout(b),clearTimeout(s),e.params.autoplay.disableOnInteraction){m=!1,f=!1;return}m&&e.params.cssMode&&k(),m=!1,f=!1}}),r("slideChange",()=>{e.destroyed||!e.autoplay.running||(S=!0)}),Object.assign(e.autoplay,{start:R,stop:_,pause:y,resume:k})}const iF="_Events_u0fny_1",oF="_Heading_u0fny_4",Ra={Events:iF,Heading:oF},sF="_VerticalPost_17tez_1",aF="_ImgLink_17tez_4",lF="_Info_17tez_7",cF="_Event_Date_17tez_10",uF="_dateIcon_17tez_13",dF="_Title_17tez_16",hF="_Description_17tez_19",Ji={VerticalPost:sF,ImgLink:aF,Info:lF,Event_Date:cF,dateIcon:uF,Title:dF,Description:hF},fF=({post:t})=>U.jsxs("div",{className:Ji.VerticalPost,children:[U.jsx(mk,{to:`/events/${t.id}`,className:Ji.ImgLink,children:U.jsx("img",{src:t.cover_img.url,alt:t.cover_img.name})}),U.jsxs("div",{className:Ji.Info,children:[U.jsxs("div",{className:Ji.Event_Date,children:[U.jsx("img",{src:zS,className:Ji.dateIcon,alt:"calendar icon"}),U.jsx("p",{children:G(t.event_time).format("h:mm, MMMM Do YYYY")})]}),U.jsx("h6",{className:Ji.Title,children:t.title}),U.jsx("p",{className:Ji.Description,children:t.description})]})]}),pF=({events:t})=>{const e=Date.now();return U.jsxs("section",{className:Ra.Events,children:[U.jsxs("section",{className:`${Ra.UpcomingEvents}`,children:[U.jsx("h4",{className:Ra.Heading,children:"Upcoming Events"}),U.jsx(iT,{className:"mySwiper ",spaceBetween:30,slidesPerView:1,slidesPerGroup:1,pagination:!0,loop:!0,modules:[nF,rF],children:t!=[]?t.filter(n=>new Date(n.event_time).getTime()>e).map(n=>U.jsx(oT,{children:U.jsx(fF,{post:n})},n.id)):U.jsx("p",{children:"Events not found"})})]}),U.jsx("hr",{className:"my-5"}),U.jsxs("section",{className:Ra.PastEvents,children:[U.jsx("h4",{className:Ra.Heading,children:"Past Events"}),t!=[]?t.filter(n=>new Date(n.event_time).getTime()<e).map(n=>U.jsx(HS,{postData:n,isMiniPost:!0,isEvent:!0},n.id)):U.jsx("p",{children:" Events not found"})]})]})},mF=({events:t})=>U.jsx("section",{className:T6.RightSide,children:U.jsx(pF,{events:t})}),gF="_Loading_1xx1v_1",vF="_pulse_1xx1v_1",yF={Loading:gF,pulse:vF},uy=({status:t})=>{if(!t)return U.jsx(U.Fragment,{children:U.jsx("p",{className:yF.Loading,children:"Loading..."})})},wF="_HomePageLayer_atn5r_1",_F={HomePageLayer:wF},bF=()=>{const[t,e]=F.useState([]),[n,r]=F.useState(!1);return F.useEffect(()=>{(async()=>{try{r(!0),e(await nN()),r(!1)}catch(o){console.error(o)}})()},[]),n?U.jsx(uy,{}):U.jsxs(ay,{className:_F.HomePageLayer,children:[U.jsx(x6,{getData:t}),U.jsx(mF,{events:t.filter(i=>i.is_event)})]})};var kF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Nh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Gf(){}Object.assign(Gf,{default:Gf,register:Gf,revert:function(){},__esModule:!0});Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){const e=(this.document||this.ownerDocument).querySelectorAll(t);let n=e.length;for(;--n>=0&&e.item(n)!==this;);return n>-1});Element.prototype.closest||(Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(e!==null);return null});Element.prototype.prepend||(Element.prototype.prepend=function(t){const e=document.createDocumentFragment();Array.isArray(t)||(t=[t]),t.forEach(n=>{const r=n instanceof Node;e.appendChild(r?n:document.createTextNode(n))}),this.insertBefore(e,this.firstChild)});Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(t){t=arguments.length===0?!0:!!t;const e=this.parentNode,n=window.getComputedStyle(e,null),r=parseInt(n.getPropertyValue("border-top-width")),i=parseInt(n.getPropertyValue("border-left-width")),o=this.offsetTop-e.offsetTop<e.scrollTop,s=this.offsetTop-e.offsetTop+this.clientHeight-r>e.scrollTop+e.clientHeight,a=this.offsetLeft-e.offsetLeft<e.scrollLeft,l=this.offsetLeft-e.offsetLeft+this.clientWidth-i>e.scrollLeft+e.clientWidth,c=o&&!s;(o||s)&&t&&(e.scrollTop=this.offsetTop-e.offsetTop-e.clientHeight/2-r+this.clientHeight/2),(a||l)&&t&&(e.scrollLeft=this.offsetLeft-e.offsetLeft-e.clientWidth/2-i+this.clientWidth/2),(o||s||a||l)&&!t&&this.scrollIntoView(c)});window.requestIdleCallback=window.requestIdleCallback||function(t){const e=Date.now();return setTimeout(function(){t({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-e))}})},1)};window.cancelIdleCallback=window.cancelIdleCallback||function(t){clearTimeout(t)};let EF=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");var sT=(t=>(t.VERBOSE="VERBOSE",t.INFO="INFO",t.WARN="WARN",t.ERROR="ERROR",t))(sT||{});const ce={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91},xF={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4};function Ec(t,e,n="log",r,i="color: inherit"){if(!("console"in window)||!window.console[n])return;const o=["info","log","warn","error"].includes(n),s=[];switch(Ec.logLevel){case"ERROR":if(n!=="error")return;break;case"WARN":if(!["error","warn"].includes(n))return;break;case"INFO":if(!o||t)return;break}r&&s.push(r);const a="Editor.js 2.28.2",l=`line-height: 1em;
            color: #006FEA;
            display: inline-block;
            font-size: 11px;
            line-height: 1em;
            background-color: #fff;
            padding: 4px 9px;
            border-radius: 30px;
            border: 1px solid rgba(56, 138, 229, 0.16);
            margin: 4px 5px 4px 0;`;t&&(o?(s.unshift(l,i),e=`%c${a}%c ${e}`):e=`( ${a} )${e}`);try{o?r?console[n](`${e} %o`,...s):console[n](e,...s):console[n](e)}catch{}}Ec.logLevel="VERBOSE";function SF(t){Ec.logLevel=t}const Re=Ec.bind(window,!1),Gn=Ec.bind(window,!0);function Po(t){return Object.prototype.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function $e(t){return Po(t)==="function"||Po(t)==="asyncfunction"}function Dt(t){return Po(t)==="object"}function $i(t){return Po(t)==="string"}function TF(t){return Po(t)==="boolean"}function E1(t){return Po(t)==="number"}function x1(t){return Po(t)==="undefined"}function nr(t){return t?Object.keys(t).length===0&&t.constructor===Object:!0}function aT(t){return t>47&&t<58||t===32||t===13||t===229||t>64&&t<91||t>95&&t<112||t>185&&t<193||t>218&&t<223}async function CF(t,e=()=>{},n=()=>{}){async function r(i,o,s){try{await i.function(i.data),await o(x1(i.data)?{}:i.data)}catch{s(x1(i.data)?{}:i.data)}}return t.reduce(async(i,o)=>(await i,r(o,e,n)),Promise.resolve())}function lT(t){return Array.prototype.slice.call(t)}function zs(t,e){return function(){const n=this,r=arguments;window.setTimeout(()=>t.apply(n,r),e)}}function IF(t){return t.name.split(".").pop()}function AF(t){return/^[-\w]+\/([-+\w]+|\*)$/.test(t)}function RF(t,e,n){let r;return(...i)=>{const o=this,s=()=>{r=null,n||t.apply(o,i)},a=n&&!r;window.clearTimeout(r),r=window.setTimeout(s,e),a&&t.apply(o,i)}}function Nm(t,e,n=void 0){let r,i,o,s=null,a=0;n||(n={});const l=function(){a=n.leading===!1?0:Date.now(),s=null,o=t.apply(r,i),s||(r=i=null)};return function(){const c=Date.now();!a&&n.leading===!1&&(a=c);const u=e-(c-a);return r=this,i=arguments,u<=0||u>e?(s&&(clearTimeout(s),s=null),a=c,o=t.apply(r,i),s||(r=i=null)):!s&&n.trailing!==!1&&(s=setTimeout(l,u)),o}}function PF(){const t={win:!1,mac:!1,x11:!1,linux:!1},e=Object.keys(t).find(n=>window.navigator.appVersion.toLowerCase().indexOf(n)!==-1);return e&&(t[e]=!0),t}function Hs(t){return t[0].toUpperCase()+t.slice(1)}function Bm(t,...e){if(!e.length)return t;const n=e.shift();if(Dt(t)&&Dt(n))for(const r in n)Dt(n[r])?(t[r]||Object.assign(t,{[r]:{}}),Bm(t[r],n[r])):Object.assign(t,{[r]:n[r]});return Bm(t,...e)}function dy(t){const e=PF();return t=t.replace(/shift/gi,"⇧").replace(/backspace/gi,"⌫").replace(/enter/gi,"⏎").replace(/up/gi,"↑").replace(/left/gi,"→").replace(/down/gi,"↓").replace(/right/gi,"←").replace(/escape/gi,"⎋").replace(/insert/gi,"Ins").replace(/delete/gi,"␡").replace(/\+/gi," + "),e.mac?t=t.replace(/ctrl|cmd/gi,"⌘").replace(/alt/gi,"⌥"):t=t.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),t}function MF(t){try{return new URL(t).href}catch{}return t.substring(0,2)==="//"?window.location.protocol+t:window.location.origin+t}function OF(){return EF(10)}function LF(t){window.open(t,"_blank")}function DF(t=""){return`${t}${Math.floor(Math.random()*1e8).toString(16)}`}function Fm(t,e,n){const r=`«${e}» is deprecated and will be removed in the next major release. Please use the «${n}» instead.`;t&&Gn(r,"warn")}function oa(t,e,n){const r=n.value?"value":"get",i=n[r],o=`#${e}Cache`;if(n[r]=function(...s){return this[o]===void 0&&(this[o]=i.apply(this,...s)),this[o]},r==="get"&&n.set){const s=n.set;n.set=function(a){delete t[o],s.apply(this,a)}}return n}const cT=650;function vo(){return window.matchMedia(`(max-width: ${cT}px)`).matches}const S1=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function NF(t,e){const n=Array.isArray(t)||Dt(t),r=Array.isArray(e)||Dt(e);return n||r?JSON.stringify(t)===JSON.stringify(e):t===e}let N=class Zt{static isSingleTag(e){return e.tagName&&["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(e.tagName)}static isLineBreakTag(e){return e&&e.tagName&&["BR","WBR"].includes(e.tagName)}static make(e,n=null,r={}){const i=document.createElement(e);Array.isArray(n)?i.classList.add(...n):n&&i.classList.add(n);for(const o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o]);return i}static text(e){return document.createTextNode(e)}static append(e,n){Array.isArray(n)?n.forEach(r=>e.appendChild(r)):e.appendChild(n)}static prepend(e,n){Array.isArray(n)?(n=n.reverse(),n.forEach(r=>e.prepend(r))):e.prepend(n)}static swap(e,n){const r=document.createElement("div"),i=e.parentNode;i.insertBefore(r,e),i.insertBefore(e,n),i.insertBefore(n,r),i.removeChild(r)}static find(e=document,n){return e.querySelector(n)}static get(e){return document.getElementById(e)}static findAll(e=document,n){return e.querySelectorAll(n)}static get allInputsSelector(){return"[contenteditable=true], textarea, input:not([type]), "+["text","password","email","number","search","tel","url"].map(e=>`input[type="${e}"]`).join(", ")}static findAllInputs(e){return lT(e.querySelectorAll(Zt.allInputsSelector)).reduce((n,r)=>Zt.isNativeInput(r)||Zt.containsOnlyInlineElements(r)?[...n,r]:[...n,...Zt.getDeepestBlockElements(r)],[])}static getDeepestNode(e,n=!1){const r=n?"lastChild":"firstChild",i=n?"previousSibling":"nextSibling";if(e&&e.nodeType===Node.ELEMENT_NODE&&e[r]){let o=e[r];if(Zt.isSingleTag(o)&&!Zt.isNativeInput(o)&&!Zt.isLineBreakTag(o))if(o[i])o=o[i];else if(o.parentNode[i])o=o.parentNode[i];else return o.parentNode;return this.getDeepestNode(o,n)}return e}static isElement(e){return E1(e)?!1:e&&e.nodeType&&e.nodeType===Node.ELEMENT_NODE}static isFragment(e){return E1(e)?!1:e&&e.nodeType&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE}static isContentEditable(e){return e.contentEditable==="true"}static isNativeInput(e){const n=["INPUT","TEXTAREA"];return e&&e.tagName?n.includes(e.tagName):!1}static canSetCaret(e){let n=!0;if(Zt.isNativeInput(e))switch(e.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":n=!1;break}else n=Zt.isContentEditable(e);return n}static isNodeEmpty(e){let n;return this.isSingleTag(e)&&!this.isLineBreakTag(e)?!1:(this.isElement(e)&&this.isNativeInput(e)?n=e.value:n=e.textContent.replace("​",""),n.trim().length===0)}static isLeaf(e){return e?e.childNodes.length===0:!1}static isEmpty(e){e.normalize();const n=[e];for(;n.length>0;)if(e=n.shift(),!!e){if(this.isLeaf(e)&&!this.isNodeEmpty(e))return!1;e.childNodes&&n.push(...Array.from(e.childNodes))}return!0}static isHTMLString(e){const n=Zt.make("div");return n.innerHTML=e,n.childElementCount>0}static getContentLength(e){return Zt.isNativeInput(e)?e.value.length:e.nodeType===Node.TEXT_NODE?e.length:e.textContent.length}static get blockElements(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}static containsOnlyInlineElements(e){let n;$i(e)?(n=document.createElement("div"),n.innerHTML=e):n=e;const r=i=>!Zt.blockElements.includes(i.tagName.toLowerCase())&&Array.from(i.children).every(r);return Array.from(n.children).every(r)}static getDeepestBlockElements(e){return Zt.containsOnlyInlineElements(e)?[e]:Array.from(e.children).reduce((n,r)=>[...n,...Zt.getDeepestBlockElements(r)],[])}static getHolder(e){return $i(e)?document.getElementById(e):e}static isAnchor(e){return e.tagName.toLowerCase()==="a"}static offset(e){const n=e.getBoundingClientRect(),r=window.pageXOffset||document.documentElement.scrollLeft,i=window.pageYOffset||document.documentElement.scrollTop,o=n.top+i,s=n.left+r;return{top:o,left:s,bottom:o+n.height,right:s+n.width}}};const BF={blockTunes:{toggler:{"Click to tune":"","or drag to move":""}},inlineToolbar:{converter:{"Convert to":""}},toolbar:{toolbox:{Add:""}},popover:{Filter:"","Nothing found":""}},FF={Text:"",Link:"",Bold:"",Italic:""},VF={link:{"Add a link":""},stub:{"The block can not be displayed correctly.":""}},$F={delete:{Delete:"","Click to delete":""},moveUp:{"Move up":""},moveDown:{"Move down":""}},uT={ui:BF,toolNames:FF,tools:VF,blockTunes:$F},qo=class{static ui(t,e){return qo._t(t,e)}static t(t,e){return qo._t(t,e)}static setDictionary(t){qo.currentDictionary=t}static _t(t,e){const n=qo.getNamespace(t);return!n||!n[e]?e:n[e]}static getNamespace(t){return t.split(".").reduce((e,n)=>!e||!Object.keys(e).length?{}:e[n],qo.currentDictionary)}};let cn=qo;cn.currentDictionary=uT;class dT extends Error{}class Bh{constructor(){this.subscribers={}}on(e,n){e in this.subscribers||(this.subscribers[e]=[]),this.subscribers[e].push(n)}once(e,n){e in this.subscribers||(this.subscribers[e]=[]);const r=i=>{const o=n(i),s=this.subscribers[e].indexOf(r);return s!==-1&&this.subscribers[e].splice(s,1),o};this.subscribers[e].push(r)}emit(e,n){nr(this.subscribers)||!this.subscribers[e]||this.subscribers[e].reduce((r,i)=>{const o=i(r);return o!==void 0?o:r},n)}off(e,n){if(this.subscribers[e]===void 0){console.warn(`EventDispatcher .off(): there is no subscribers for event "${e.toString()}". Probably, .off() called before .on()`);return}for(let r=0;r<this.subscribers[e].length;r++)if(this.subscribers[e][r]===n){delete this.subscribers[e][r];break}}destroy(){this.subscribers={}}}function ro(t){Object.setPrototypeOf(this,{get id(){return t.id},get name(){return t.name},get config(){return t.config},get holder(){return t.holder},get isEmpty(){return t.isEmpty},get selected(){return t.selected},set stretched(e){t.stretched=e},get stretched(){return t.stretched},call(e,n){return t.call(e,n)},save(){return t.save()},validate(e){return t.validate(e)},dispatchChange(){t.dispatchChange()}})}class hy{constructor(){this.allListeners=[]}on(e,n,r,i=!1){const o=DF("l"),s={id:o,element:e,eventType:n,handler:r,options:i};if(!this.findOne(e,n,r))return this.allListeners.push(s),e.addEventListener(n,r,i),o}off(e,n,r,i){const o=this.findAll(e,n,r);o.forEach((s,a)=>{const l=this.allListeners.indexOf(o[a]);l>-1&&(this.allListeners.splice(l,1),s.element.removeEventListener(s.eventType,s.handler,s.options))})}offById(e){const n=this.findById(e);n&&n.element.removeEventListener(n.eventType,n.handler,n.options)}findOne(e,n,r){const i=this.findAll(e,n,r);return i.length>0?i[0]:null}findAll(e,n,r){let i;const o=e?this.findByEventTarget(e):[];return e&&n&&r?i=o.filter(s=>s.eventType===n&&s.handler===r):e&&n?i=o.filter(s=>s.eventType===n):i=o,i}removeAll(){this.allListeners.map(e=>{e.element.removeEventListener(e.eventType,e.handler,e.options)}),this.allListeners=[]}destroy(){this.removeAll()}findByEventTarget(e){return this.allListeners.filter(n=>{if(n.element===e)return n})}findByType(e){return this.allListeners.filter(n=>{if(n.eventType===e)return n})}findByHandler(e){return this.allListeners.filter(n=>{if(n.handler===e)return n})}findById(e){return this.allListeners.find(n=>n.id===e)}}let xe=class hT{constructor({config:e,eventsDispatcher:n}){if(this.nodes={},this.listeners=new hy,this.readOnlyMutableListeners={on:(r,i,o,s=!1)=>{this.mutableListenerIds.push(this.listeners.on(r,i,o,s))},clearAll:()=>{for(const r of this.mutableListenerIds)this.listeners.offById(r);this.mutableListenerIds=[]}},this.mutableListenerIds=[],new.target===hT)throw new TypeError("Constructors for abstract class Module are not allowed.");this.config=e,this.eventsDispatcher=n}set state(e){this.Editor=e}removeAllNodes(){for(const e in this.nodes){const n=this.nodes[e];n instanceof HTMLElement&&n.remove()}}get isRtl(){return this.config.i18n.direction==="rtl"}},se=class ui{constructor(){this.instance=null,this.selection=null,this.savedSelectionRange=null,this.isFakeBackgroundEnabled=!1,this.commandBackground="backColor",this.commandRemoveFormat="removeFormat"}static get CSS(){return{editorWrapper:"codex-editor",editorZone:"codex-editor__redactor"}}static get anchorNode(){const e=window.getSelection();return e?e.anchorNode:null}static get anchorElement(){const e=window.getSelection();if(!e)return null;const n=e.anchorNode;return n?N.isElement(n)?n:n.parentElement:null}static get anchorOffset(){const e=window.getSelection();return e?e.anchorOffset:null}static get isCollapsed(){const e=window.getSelection();return e?e.isCollapsed:null}static get isAtEditor(){return this.isSelectionAtEditor(ui.get())}static isSelectionAtEditor(e){if(!e)return!1;let n=e.anchorNode||e.focusNode;n&&n.nodeType===Node.TEXT_NODE&&(n=n.parentNode);let r=null;return n&&n instanceof Element&&(r=n.closest(`.${ui.CSS.editorZone}`)),r?r.nodeType===Node.ELEMENT_NODE:!1}static isRangeAtEditor(e){if(!e)return;let n=e.startContainer;n&&n.nodeType===Node.TEXT_NODE&&(n=n.parentNode);let r=null;return n&&n instanceof Element&&(r=n.closest(`.${ui.CSS.editorZone}`)),r?r.nodeType===Node.ELEMENT_NODE:!1}static get isSelectionExists(){return!!ui.get().anchorNode}static get range(){return this.getRangeFromSelection(this.get())}static getRangeFromSelection(e){return e&&e.rangeCount?e.getRangeAt(0):null}static get rect(){let e=document.selection,n,r={x:0,y:0,width:0,height:0};if(e&&e.type!=="Control")return e=e,n=e.createRange(),r.x=n.boundingLeft,r.y=n.boundingTop,r.width=n.boundingWidth,r.height=n.boundingHeight,r;if(!window.getSelection)return Re("Method window.getSelection is not supported","warn"),r;if(e=window.getSelection(),e.rangeCount===null||isNaN(e.rangeCount))return Re("Method SelectionUtils.rangeCount is not supported","warn"),r;if(e.rangeCount===0)return r;if(n=e.getRangeAt(0).cloneRange(),n.getBoundingClientRect&&(r=n.getBoundingClientRect()),r.x===0&&r.y===0){const i=document.createElement("span");if(i.getBoundingClientRect){i.appendChild(document.createTextNode("​")),n.insertNode(i),r=i.getBoundingClientRect();const o=i.parentNode;o.removeChild(i),o.normalize()}}return r}static get text(){return window.getSelection?window.getSelection().toString():""}static get(){return window.getSelection()}static setCursor(e,n=0){const r=document.createRange(),i=window.getSelection();return N.isNativeInput(e)?N.canSetCaret(e)?(e.focus(),e.selectionStart=e.selectionEnd=n,e.getBoundingClientRect()):void 0:(r.setStart(e,n),r.setEnd(e,n),i.removeAllRanges(),i.addRange(r),r.getBoundingClientRect())}static isRangeInsideContainer(e){const n=ui.range;return n===null?!1:e.contains(n.startContainer)}static addFakeCursor(){const e=ui.range;if(e===null)return;const n=N.make("span","codex-editor__fake-cursor");n.dataset.mutationFree="true",e.collapse(),e.insertNode(n)}static isFakeCursorInsideContainer(e){return N.find(e,".codex-editor__fake-cursor")!==null}static removeFakeCursor(e=document.body){const n=N.find(e,".codex-editor__fake-cursor");n&&n.remove()}removeFakeBackground(){this.isFakeBackgroundEnabled&&(this.isFakeBackgroundEnabled=!1,document.execCommand(this.commandRemoveFormat))}setFakeBackground(){document.execCommand(this.commandBackground,!1,"#a8d6ff"),this.isFakeBackgroundEnabled=!0}save(){this.savedSelectionRange=ui.range}restore(){if(!this.savedSelectionRange)return;const e=window.getSelection();e.removeAllRanges(),e.addRange(this.savedSelectionRange)}clearSaved(){this.savedSelectionRange=null}collapseToEnd(){const e=window.getSelection(),n=document.createRange();n.selectNodeContents(e.focusNode),n.collapse(!1),e.removeAllRanges(),e.addRange(n)}findParentTag(e,n,r=10){const i=window.getSelection();let o=null;return!i||!i.anchorNode||!i.focusNode?null:([i.anchorNode,i.focusNode].forEach(s=>{let a=r;for(;a>0&&s.parentNode&&!(s.tagName===e&&(o=s,n&&s.classList&&!s.classList.contains(n)&&(o=null),o));)s=s.parentNode,a--}),o)}expandToTag(e){const n=window.getSelection();n.removeAllRanges();const r=document.createRange();r.selectNodeContents(e),n.addRange(r)}};function UF(t,e){const{type:n,target:r,addedNodes:i,removedNodes:o}=t;if(r===e)return!0;if(["characterData","attributes"].includes(n)){const l=r.nodeType===Node.TEXT_NODE?r.parentNode:r;return e.contains(l)}const s=Array.from(i).some(l=>e.contains(l)),a=Array.from(o).some(l=>e.contains(l));return s||a}const Vm="redactor dom changed",fT="block changed",pT="fake cursor is about to be toggled",mT="fake cursor have been set";function T1(t,e){return t.mergeable&&t.name===e.name}function jF(t,e){const n=e==null?void 0:e.export;return $e(n)?n(t):$i(n)?t[n]:(n!==void 0&&Re("Conversion «export» property must be a string or function. String means key of saved data object to export. Function should export processed string to export."),"")}function zF(t,e){const n=e==null?void 0:e.import;return $e(n)?n(t):$i(n)?{[n]:t}:(n!==void 0&&Re("Conversion «import» property must be a string or function. String means key of tool data to import. Function accepts a imported string and return composed tool data."),{})}var Rr=(t=>(t.APPEND_CALLBACK="appendCallback",t.RENDERED="rendered",t.MOVED="moved",t.UPDATED="updated",t.REMOVED="removed",t.ON_PASTE="onPaste",t))(Rr||{});class gt extends Bh{constructor({id:e=OF(),data:n,tool:r,api:i,readOnly:o,tunesData:s},a){super(),this.cachedInputs=[],this.toolRenderedElement=null,this.tunesInstances=new Map,this.defaultTunesInstances=new Map,this.unavailableTunesData={},this.inputIndex=0,this.editorEventBus=null,this.handleFocus=()=>{this.dropInputsCache(),this.updateCurrentInput()},this.didMutated=(l=void 0)=>{const c=l===void 0,u=l instanceof InputEvent;!c&&!u&&this.detectToolRootChange(l);let d;c||u?d=!0:d=!(l.length>0&&l.every(h=>{const{addedNodes:f,removedNodes:m,target:b}=h;return[...Array.from(f),...Array.from(m),b].some(S=>N.isElement(S)?S.dataset.mutationFree==="true":!1)})),d&&(this.dropInputsCache(),this.updateCurrentInput(),this.call("updated"),this.emit("didMutated",this))},this.name=r.name,this.id=e,this.settings=r.settings,this.config=r.settings.config||{},this.api=i,this.editorEventBus=a||null,this.blockAPI=new ro(this),this.tool=r,this.toolInstance=r.create(n,this.blockAPI,o),this.tunes=r.tunes,this.composeTunes(s),this.holder=this.compose(),window.requestIdleCallback(()=>{this.watchBlockMutations(),this.addInputEvents()})}static get CSS(){return{wrapper:"ce-block",wrapperStretched:"ce-block--stretched",content:"ce-block__content",focused:"ce-block--focused",selected:"ce-block--selected",dropTarget:"ce-block--drop-target"}}get inputs(){if(this.cachedInputs.length!==0)return this.cachedInputs;const e=N.findAllInputs(this.holder);return this.inputIndex>e.length-1&&(this.inputIndex=e.length-1),this.cachedInputs=e,e}get currentInput(){return this.inputs[this.inputIndex]}set currentInput(e){const n=this.inputs.findIndex(r=>r===e||r.contains(e));n!==-1&&(this.inputIndex=n)}get firstInput(){return this.inputs[0]}get lastInput(){const e=this.inputs;return e[e.length-1]}get nextInput(){return this.inputs[this.inputIndex+1]}get previousInput(){return this.inputs[this.inputIndex-1]}get data(){return this.save().then(e=>e&&!nr(e.data)?e.data:{})}get sanitize(){return this.tool.sanitizeConfig}get mergeable(){return $e(this.toolInstance.merge)}get isEmpty(){const e=N.isEmpty(this.pluginsContent),n=!this.hasMedia;return e&&n}get hasMedia(){const e=["img","iframe","video","audio","source","input","textarea","twitterwidget"];return!!this.holder.querySelector(e.join(","))}set focused(e){this.holder.classList.toggle(gt.CSS.focused,e)}get focused(){return this.holder.classList.contains(gt.CSS.focused)}set selected(e){var n,r;this.holder.classList.toggle(gt.CSS.selected,e);const i=e===!0&&se.isRangeInsideContainer(this.holder),o=e===!1&&se.isFakeCursorInsideContainer(this.holder);(i||o)&&((n=this.editorEventBus)==null||n.emit(pT,{state:e}),i?se.addFakeCursor():se.removeFakeCursor(this.holder),(r=this.editorEventBus)==null||r.emit(mT,{state:e}))}get selected(){return this.holder.classList.contains(gt.CSS.selected)}set stretched(e){this.holder.classList.toggle(gt.CSS.wrapperStretched,e)}get stretched(){return this.holder.classList.contains(gt.CSS.wrapperStretched)}set dropTarget(e){this.holder.classList.toggle(gt.CSS.dropTarget,e)}get pluginsContent(){return this.toolRenderedElement}call(e,n){if($e(this.toolInstance[e])){e==="appendCallback"&&Re("`appendCallback` hook is deprecated and will be removed in the next major release. Use `rendered` hook instead","warn");try{this.toolInstance[e].call(this.toolInstance,n)}catch(r){Re(`Error during '${e}' call: ${r.message}`,"error")}}}async mergeWith(e){await this.toolInstance.merge(e)}async save(){const e=await this.toolInstance.save(this.pluginsContent),n=this.unavailableTunesData;[...this.tunesInstances.entries(),...this.defaultTunesInstances.entries()].forEach(([o,s])=>{if($e(s.save))try{n[o]=s.save()}catch(a){Re(`Tune ${s.constructor.name} save method throws an Error %o`,"warn",a)}});const r=window.performance.now();let i;return Promise.resolve(e).then(o=>(i=window.performance.now(),{id:this.id,tool:this.name,data:o,tunes:n,time:i-r})).catch(o=>{Re(`Saving process for ${this.name} tool failed due to the ${o}`,"log","red")})}async validate(e){let n=!0;return this.toolInstance.validate instanceof Function&&(n=await this.toolInstance.validate(e)),n}getTunes(){const e=document.createElement("div"),n=[],r=typeof this.toolInstance.renderSettings=="function"?this.toolInstance.renderSettings():[],i=[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].map(o=>o.render());return[r,i].flat().forEach(o=>{N.isElement(o)?e.appendChild(o):Array.isArray(o)?n.push(...o):n.push(o)}),[n,e]}updateCurrentInput(){this.currentInput=N.isNativeInput(document.activeElement)||!se.anchorNode?document.activeElement:se.anchorNode}dispatchChange(){this.didMutated()}destroy(){this.unwatchBlockMutations(),this.removeInputEvents(),super.destroy(),$e(this.toolInstance.destroy)&&this.toolInstance.destroy()}async getActiveToolboxEntry(){const e=this.tool.toolbox;if(e.length===1)return Promise.resolve(this.tool.toolbox[0]);const n=await this.data;return e.find(r=>Object.entries(r.data).some(([i,o])=>n[i]&&NF(n[i],o)))}async exportDataAsString(){const e=await this.data;return jF(e,this.tool.conversionConfig)}compose(){const e=N.make("div",gt.CSS.wrapper),n=N.make("div",gt.CSS.content),r=this.toolInstance.render();e.dataset.id=this.id,this.toolRenderedElement=r,n.appendChild(this.toolRenderedElement);let i=n;return[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].forEach(o=>{if($e(o.wrap))try{i=o.wrap(i)}catch(s){Re(`Tune ${o.constructor.name} wrap method throws an Error %o`,"warn",s)}}),e.appendChild(i),e}composeTunes(e){Array.from(this.tunes.values()).forEach(n=>{(n.isInternal?this.defaultTunesInstances:this.tunesInstances).set(n.name,n.create(e[n.name],this.blockAPI))}),Object.entries(e).forEach(([n,r])=>{this.tunesInstances.has(n)||(this.unavailableTunesData[n]=r)})}addInputEvents(){this.inputs.forEach(e=>{e.addEventListener("focus",this.handleFocus),N.isNativeInput(e)&&e.addEventListener("input",this.didMutated)})}removeInputEvents(){this.inputs.forEach(e=>{e.removeEventListener("focus",this.handleFocus),N.isNativeInput(e)&&e.removeEventListener("input",this.didMutated)})}watchBlockMutations(){var e;this.redactorDomChangedCallback=n=>{const{mutations:r}=n;r.some(i=>UF(i,this.toolRenderedElement))&&this.didMutated(r)},(e=this.editorEventBus)==null||e.on(Vm,this.redactorDomChangedCallback)}unwatchBlockMutations(){var e;(e=this.editorEventBus)==null||e.off(Vm,this.redactorDomChangedCallback)}detectToolRootChange(e){e.forEach(n=>{if(Array.from(n.removedNodes).includes(this.toolRenderedElement)){const r=n.addedNodes[n.addedNodes.length-1];this.toolRenderedElement=r}})}dropInputsCache(){this.cachedInputs=[]}}class HF extends xe{constructor(){super(...arguments),this.insert=(e=this.config.defaultBlock,n={},r={},i,o,s,a)=>{const l=this.Editor.BlockManager.insert({id:a,tool:e,data:n,index:i,needToFocus:o,replace:s});return new ro(l)},this.composeBlockData=async e=>{const n=this.Editor.Tools.blockTools.get(e);return new gt({tool:n,api:this.Editor.API,readOnly:!0,data:{},tunesData:{}}).data},this.update=async(e,n)=>{const{BlockManager:r}=this.Editor,i=r.getBlockById(e);if(i===void 0)throw new Error(`Block with id "${e}" not found`);const o=await r.update(i,n);return new ro(o)},this.convert=(e,n,r)=>{var i,o;const{BlockManager:s,Tools:a}=this.Editor,l=s.getBlockById(e);if(!l)throw new Error(`Block with id "${e}" not found`);const c=a.blockTools.get(l.name),u=a.blockTools.get(n);if(!u)throw new Error(`Block Tool with type "${n}" not found`);const d=((i=c==null?void 0:c.conversionConfig)==null?void 0:i.export)!==void 0,h=((o=u.conversionConfig)==null?void 0:o.import)!==void 0;if(d&&h)s.convert(l,n,r);else{const f=[d?!1:Hs(l.name),h?!1:Hs(n)].filter(Boolean).join(" and ");throw new Error(`Conversion from "${l.name}" to "${n}" is not possible. ${f} tool(s) should provide a "conversionConfig"`)}},this.insertMany=(e,n=this.Editor.BlockManager.blocks.length-1)=>{this.validateIndex(n);const r=e.map(({id:i,type:o,data:s})=>this.Editor.BlockManager.composeBlock({id:i,tool:o||this.config.defaultBlock,data:s}));return this.Editor.BlockManager.insertMany(r,n),r.map(i=>new ro(i))}}get methods(){return{clear:()=>this.clear(),render:e=>this.render(e),renderFromHTML:e=>this.renderFromHTML(e),delete:e=>this.delete(e),swap:(e,n)=>this.swap(e,n),move:(e,n)=>this.move(e,n),getBlockByIndex:e=>this.getBlockByIndex(e),getById:e=>this.getById(e),getCurrentBlockIndex:()=>this.getCurrentBlockIndex(),getBlockIndex:e=>this.getBlockIndex(e),getBlocksCount:()=>this.getBlocksCount(),stretchBlock:(e,n=!0)=>this.stretchBlock(e,n),insertNewBlock:()=>this.insertNewBlock(),insert:this.insert,insertMany:this.insertMany,update:this.update,composeBlockData:this.composeBlockData,convert:this.convert}}getBlocksCount(){return this.Editor.BlockManager.blocks.length}getCurrentBlockIndex(){return this.Editor.BlockManager.currentBlockIndex}getBlockIndex(e){const n=this.Editor.BlockManager.getBlockById(e);if(!n){Gn("There is no block with id `"+e+"`","warn");return}return this.Editor.BlockManager.getBlockIndex(n)}getBlockByIndex(e){const n=this.Editor.BlockManager.getBlockByIndex(e);if(n===void 0){Gn("There is no block at index `"+e+"`","warn");return}return new ro(n)}getById(e){const n=this.Editor.BlockManager.getBlockById(e);return n===void 0?(Gn("There is no block with id `"+e+"`","warn"),null):new ro(n)}swap(e,n){Re("`blocks.swap()` method is deprecated and will be removed in the next major release. Use `block.move()` method instead","info"),this.Editor.BlockManager.swap(e,n)}move(e,n){this.Editor.BlockManager.move(e,n)}delete(e=this.Editor.BlockManager.currentBlockIndex){try{const n=this.Editor.BlockManager.getBlockByIndex(e);this.Editor.BlockManager.removeBlock(n)}catch(n){Gn(n,"warn");return}this.Editor.BlockManager.blocks.length===0&&this.Editor.BlockManager.insert(),this.Editor.BlockManager.currentBlock&&this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END),this.Editor.Toolbar.close()}async clear(){await this.Editor.BlockManager.clear(!0),this.Editor.InlineToolbar.close()}async render(e){if(e===void 0||e.blocks===void 0)throw new Error("Incorrect data passed to the render() method");this.Editor.ModificationsObserver.disable(),await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(e.blocks),this.Editor.ModificationsObserver.enable()}renderFromHTML(e){return this.Editor.BlockManager.clear(),this.Editor.Paste.processText(e,!0)}stretchBlock(e,n=!0){Fm(!0,"blocks.stretchBlock()","BlockAPI");const r=this.Editor.BlockManager.getBlockByIndex(e);r&&(r.stretched=n)}insertNewBlock(){Re("Method blocks.insertNewBlock() is deprecated and it will be removed in the next major release. Use blocks.insert() instead.","warn"),this.insert()}validateIndex(e){if(typeof e!="number")throw new Error("Index should be a number");if(e<0)throw new Error("Index should be greater than or equal to 0");if(e===null)throw new Error("Index should be greater than or equal to 0")}}class WF extends xe{constructor(){super(...arguments),this.setToFirstBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.firstBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.firstBlock,e,n),!0):!1,this.setToLastBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.lastBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.lastBlock,e,n),!0):!1,this.setToPreviousBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.previousBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.previousBlock,e,n),!0):!1,this.setToNextBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.nextBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.nextBlock,e,n),!0):!1,this.setToBlock=(e,n=this.Editor.Caret.positions.DEFAULT,r=0)=>this.Editor.BlockManager.blocks[e]?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.blocks[e],n,r),!0):!1,this.focus=(e=!1)=>e?this.setToLastBlock(this.Editor.Caret.positions.END):this.setToFirstBlock(this.Editor.Caret.positions.START)}get methods(){return{setToFirstBlock:this.setToFirstBlock,setToLastBlock:this.setToLastBlock,setToPreviousBlock:this.setToPreviousBlock,setToNextBlock:this.setToNextBlock,setToBlock:this.setToBlock,focus:this.focus}}}class YF extends xe{get methods(){return{emit:(e,n)=>this.emit(e,n),off:(e,n)=>this.off(e,n),on:(e,n)=>this.on(e,n)}}on(e,n){this.eventsDispatcher.on(e,n)}emit(e,n){this.eventsDispatcher.emit(e,n)}off(e,n){this.eventsDispatcher.off(e,n)}}class fy extends xe{static getNamespace(e){return e.isTune()?`blockTunes.${e.name}`:`tools.${e.name}`}get methods(){return{t:()=>{Gn("I18n.t() method can be accessed only from Tools","warn")}}}getMethodsForTool(e){return Object.assign(this.methods,{t:n=>cn.t(fy.getNamespace(e),n)})}}class GF extends xe{get methods(){return{blocks:this.Editor.BlocksAPI.methods,caret:this.Editor.CaretAPI.methods,events:this.Editor.EventsAPI.methods,listeners:this.Editor.ListenersAPI.methods,notifier:this.Editor.NotifierAPI.methods,sanitizer:this.Editor.SanitizerAPI.methods,saver:this.Editor.SaverAPI.methods,selection:this.Editor.SelectionAPI.methods,styles:this.Editor.StylesAPI.classes,toolbar:this.Editor.ToolbarAPI.methods,inlineToolbar:this.Editor.InlineToolbarAPI.methods,tooltip:this.Editor.TooltipAPI.methods,i18n:this.Editor.I18nAPI.methods,readOnly:this.Editor.ReadOnlyAPI.methods,ui:this.Editor.UiAPI.methods}}getMethodsForTool(e){return Object.assign(this.methods,{i18n:this.Editor.I18nAPI.getMethodsForTool(e)})}}class qF extends xe{get methods(){return{close:()=>this.close(),open:()=>this.open()}}open(){this.Editor.InlineToolbar.tryToShow()}close(){this.Editor.InlineToolbar.close()}}class KF extends xe{get methods(){return{on:(e,n,r,i)=>this.on(e,n,r,i),off:(e,n,r,i)=>this.off(e,n,r,i),offById:e=>this.offById(e)}}on(e,n,r,i){return this.listeners.on(e,n,r,i)}off(e,n,r,i){this.listeners.off(e,n,r,i)}offById(e){this.listeners.offById(e)}}var $m={},QF={get exports(){return $m},set exports(t){$m=t}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:a})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,s){if(1&s&&(o=i(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var l in o)i.d(a,l,(function(c){return o[c]}).bind(null,l));return a},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="/",i(i.s=0)}([function(n,r,i){i(1),n.exports=function(){var o=i(6),s="cdx-notify--bounce-in",a=null;return{show:function(l){if(l.message){(function(){if(a)return!0;a=o.getWrapper(),document.body.appendChild(a)})();var c=null,u=l.time||8e3;switch(l.type){case"confirm":c=o.confirm(l);break;case"prompt":c=o.prompt(l);break;default:c=o.alert(l),window.setTimeout(function(){c.remove()},u)}a.appendChild(c),c.classList.add(s)}}}}()},function(n,r,i){var o=i(2);typeof o=="string"&&(o=[[n.i,o,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i(4)(o,s),o.locals&&(n.exports=o.locals)},function(n,r,i){(n.exports=i(3)(!1)).push([n.i,`.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:'';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:'';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}`,""])},function(n,r){n.exports=function(i){var o=[];return o.toString=function(){return this.map(function(s){var a=function(l,c){var u=l[1]||"",d=l[3];if(!d)return u;if(c&&typeof btoa=="function"){var h=(m=d,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(m))))+" */"),f=d.sources.map(function(b){return"/*# sourceURL="+d.sourceRoot+b+" */"});return[u].concat(f).concat([h]).join(`
`)}var m;return[u].join(`
`)}(s,i);return s[2]?"@media "+s[2]+"{"+a+"}":a}).join("")},o.i=function(s,a){typeof s=="string"&&(s=[[null,s,""]]);for(var l={},c=0;c<this.length;c++){var u=this[c][0];typeof u=="number"&&(l[u]=!0)}for(c=0;c<s.length;c++){var d=s[c];typeof d[0]=="number"&&l[d[0]]||(a&&!d[2]?d[2]=a:a&&(d[2]="("+d[2]+") and ("+a+")"),o.push(d))}},o}},function(n,r,i){var o,s,a={},l=(o=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=o.apply(this,arguments)),s}),c=function(_){var y={};return function(k){if(typeof k=="function")return k();if(y[k]===void 0){var x=(function(I){return document.querySelector(I)}).call(this,k);if(window.HTMLIFrameElement&&x instanceof window.HTMLIFrameElement)try{x=x.contentDocument.head}catch{x=null}y[k]=x}return y[k]}}(),u=null,d=0,h=[],f=i(5);function m(_,y){for(var k=0;k<_.length;k++){var x=_[k],I=a[x.id];if(I){I.refs++;for(var C=0;C<I.parts.length;C++)I.parts[C](x.parts[C]);for(;C<x.parts.length;C++)I.parts.push(v(x.parts[C],y))}else{var M=[];for(C=0;C<x.parts.length;C++)M.push(v(x.parts[C],y));a[x.id]={id:x.id,refs:1,parts:M}}}}function b(_,y){for(var k=[],x={},I=0;I<_.length;I++){var C=_[I],M=y.base?C[0]+y.base:C[0],T={css:C[1],media:C[2],sourceMap:C[3]};x[M]?x[M].parts.push(T):k.push(x[M]={id:M,parts:[T]})}return k}function S(_,y){var k=c(_.insertInto);if(!k)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var x=h[h.length-1];if(_.insertAt==="top")x?x.nextSibling?k.insertBefore(y,x.nextSibling):k.appendChild(y):k.insertBefore(y,k.firstChild),h.push(y);else if(_.insertAt==="bottom")k.appendChild(y);else{if(typeof _.insertAt!="object"||!_.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var I=c(_.insertInto+" "+_.insertAt.before);k.insertBefore(y,I)}}function w(_){if(_.parentNode===null)return!1;_.parentNode.removeChild(_);var y=h.indexOf(_);y>=0&&h.splice(y,1)}function p(_){var y=document.createElement("style");return _.attrs.type===void 0&&(_.attrs.type="text/css"),g(y,_.attrs),S(_,y),y}function g(_,y){Object.keys(y).forEach(function(k){_.setAttribute(k,y[k])})}function v(_,y){var k,x,I,C;if(y.transform&&_.css){if(!(C=y.transform(_.css)))return function(){};_.css=C}if(y.singleton){var M=d++;k=u||(u=p(y)),x=R.bind(null,k,M,!1),I=R.bind(null,k,M,!0)}else _.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(k=function(T){var L=document.createElement("link");return T.attrs.type===void 0&&(T.attrs.type="text/css"),T.attrs.rel="stylesheet",g(L,T.attrs),S(T,L),L}(y),x=(function(T,L,H){var P=H.css,B=H.sourceMap,V=L.convertToAbsoluteUrls===void 0&&B;(L.convertToAbsoluteUrls||V)&&(P=f(P)),B&&(P+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(B))))+" */");var Z=new Blob([P],{type:"text/css"}),K=T.href;T.href=URL.createObjectURL(Z),K&&URL.revokeObjectURL(K)}).bind(null,k,y),I=function(){w(k),k.href&&URL.revokeObjectURL(k.href)}):(k=p(y),x=(function(T,L){var H=L.css,P=L.media;if(P&&T.setAttribute("media",P),T.styleSheet)T.styleSheet.cssText=H;else{for(;T.firstChild;)T.removeChild(T.firstChild);T.appendChild(document.createTextNode(H))}}).bind(null,k),I=function(){w(k)});return x(_),function(T){if(T){if(T.css===_.css&&T.media===_.media&&T.sourceMap===_.sourceMap)return;x(_=T)}else I()}}n.exports=function(_,y){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(y=y||{}).attrs=typeof y.attrs=="object"?y.attrs:{},y.singleton||typeof y.singleton=="boolean"||(y.singleton=l()),y.insertInto||(y.insertInto="head"),y.insertAt||(y.insertAt="bottom");var k=b(_,y);return m(k,y),function(x){for(var I=[],C=0;C<k.length;C++){var M=k[C];(T=a[M.id]).refs--,I.push(T)}for(x&&m(b(x,y),y),C=0;C<I.length;C++){var T;if((T=I[C]).refs===0){for(var L=0;L<T.parts.length;L++)T.parts[L]();delete a[T.id]}}}};var E,A=(E=[],function(_,y){return E[_]=y,E.filter(Boolean).join(`
`)});function R(_,y,k,x){var I=k?"":x.css;if(_.styleSheet)_.styleSheet.cssText=A(y,I);else{var C=document.createTextNode(I),M=_.childNodes;M[y]&&_.removeChild(M[y]),M.length?_.insertBefore(C,M[y]):_.appendChild(C)}}},function(n,r){n.exports=function(i){var o=typeof window<"u"&&window.location;if(!o)throw new Error("fixUrls requires window.location");if(!i||typeof i!="string")return i;var s=o.protocol+"//"+o.host,a=s+o.pathname.replace(/\/[^\/]*$/,"/");return i.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(l,c){var u,d=c.trim().replace(/^"(.*)"$/,function(h,f){return f}).replace(/^'(.*)'$/,function(h,f){return f});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(d)?l:(u=d.indexOf("//")===0?d:d.indexOf("/")===0?s+d:a+d.replace(/^\.\//,""),"url("+JSON.stringify(u)+")")})}},function(n,r,i){var o,s,a,l,c,u,d,h,f;n.exports=(o="cdx-notifies",s="cdx-notify",a="cdx-notify__cross",l="cdx-notify__button--confirm",c="cdx-notify__button--cancel",u="cdx-notify__input",d="cdx-notify__button",h="cdx-notify__btns-wrapper",{alert:f=function(m){var b=document.createElement("DIV"),S=document.createElement("DIV"),w=m.message,p=m.style;return b.classList.add(s),p&&b.classList.add(s+"--"+p),b.innerHTML=w,S.classList.add(a),S.addEventListener("click",b.remove.bind(b)),b.appendChild(S),b},confirm:function(m){var b=f(m),S=document.createElement("div"),w=document.createElement("button"),p=document.createElement("button"),g=b.querySelector("."+a),v=m.cancelHandler,E=m.okHandler;return S.classList.add(h),w.innerHTML=m.okText||"Confirm",p.innerHTML=m.cancelText||"Cancel",w.classList.add(d),p.classList.add(d),w.classList.add(l),p.classList.add(c),v&&typeof v=="function"&&(p.addEventListener("click",v),g.addEventListener("click",v)),E&&typeof E=="function"&&w.addEventListener("click",E),w.addEventListener("click",b.remove.bind(b)),p.addEventListener("click",b.remove.bind(b)),S.appendChild(w),S.appendChild(p),b.appendChild(S),b},prompt:function(m){var b=f(m),S=document.createElement("div"),w=document.createElement("button"),p=document.createElement("input"),g=b.querySelector("."+a),v=m.cancelHandler,E=m.okHandler;return S.classList.add(h),w.innerHTML=m.okText||"Ok",w.classList.add(d),w.classList.add(l),p.classList.add(u),m.placeholder&&p.setAttribute("placeholder",m.placeholder),m.default&&(p.value=m.default),m.inputType&&(p.type=m.inputType),v&&typeof v=="function"&&g.addEventListener("click",v),E&&typeof E=="function"&&w.addEventListener("click",function(){E(p.value)}),w.addEventListener("click",b.remove.bind(b)),S.appendChild(p),S.appendChild(w),b.appendChild(S),b},getWrapper:function(){var m=document.createElement("DIV");return m.classList.add(o),m}})}])})})(QF);const XF=Nh($m);class JF{show(e){XF.show(e)}}class ZF extends xe{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.notifier=new JF}get methods(){return{show:e=>this.show(e)}}show(e){return this.notifier.show(e)}}class eV extends xe{get methods(){const e=()=>this.isEnabled;return{toggle:n=>this.toggle(n),get isEnabled(){return e()}}}toggle(e){return this.Editor.ReadOnly.toggle(e)}get isEnabled(){return this.Editor.ReadOnly.isEnabled}}var Um={},tV={get exports(){return Um},set exports(t){Um=t}};(function(t,e){(function(n,r){t.exports=r()})(kF,function(){function n(d){var h=d.tags,f=Object.keys(h),m=f.map(function(b){return typeof h[b]}).every(function(b){return b==="object"||b==="boolean"||b==="function"});if(!m)throw new Error("The configuration was invalid");this.config=d}var r=["P","LI","TD","TH","DIV","H1","H2","H3","H4","H5","H6","PRE"];function i(d){return r.indexOf(d.nodeName)!==-1}var o=["A","B","STRONG","I","EM","SUB","SUP","U","STRIKE"];function s(d){return o.indexOf(d.nodeName)!==-1}n.prototype.clean=function(d){const h=document.implementation.createHTMLDocument(),f=h.createElement("div");return f.innerHTML=d,this._sanitize(h,f),f.innerHTML},n.prototype._sanitize=function(d,h){var f=a(d,h),m=f.firstChild();if(m)do{if(m.nodeType===Node.TEXT_NODE)if(m.data.trim()===""&&(m.previousElementSibling&&i(m.previousElementSibling)||m.nextElementSibling&&i(m.nextElementSibling))){h.removeChild(m),this._sanitize(d,h);break}else continue;if(m.nodeType===Node.COMMENT_NODE){h.removeChild(m),this._sanitize(d,h);break}var b=s(m),S;b&&(S=Array.prototype.some.call(m.childNodes,i));var w=!!h.parentNode,p=i(h)&&i(m)&&w,g=m.nodeName.toLowerCase(),v=l(this.config,g,m),E=b&&S;if(E||c(m,v)||!this.config.keepNestedBlockElements&&p){if(!(m.nodeName==="SCRIPT"||m.nodeName==="STYLE"))for(;m.childNodes.length>0;)h.insertBefore(m.childNodes[0],m);h.removeChild(m),this._sanitize(d,h);break}for(var A=0;A<m.attributes.length;A+=1){var R=m.attributes[A];u(R,v,m)&&(m.removeAttribute(R.name),A=A-1)}this._sanitize(d,m)}while(m=f.nextSibling())};function a(d,h){return d.createTreeWalker(h,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT,null,!1)}function l(d,h,f){return typeof d.tags[h]=="function"?d.tags[h](f):d.tags[h]}function c(d,h){return typeof h>"u"?!0:typeof h=="boolean"?!h:!1}function u(d,h,f){var m=d.name.toLowerCase();return h===!0?!1:typeof h[m]=="function"?!h[m](d.value,f):typeof h[m]>"u"||h[m]===!1?!0:typeof h[m]=="string"?h[m]!==d.value:!1}return n})})(tV);const nV=Um;function gT(t,e){return t.map(n=>{const r=$e(e)?e(n.tool):e;return nr(r)||(n.data=py(n.data,r)),n})}function Nr(t,e={}){const n={tags:e};return new nV(n).clean(t)}function py(t,e){return Array.isArray(t)?rV(t,e):Dt(t)?iV(t,e):$i(t)?oV(t,e):t}function rV(t,e){return t.map(n=>py(n,e))}function iV(t,e){const n={};for(const r in t){if(!Object.prototype.hasOwnProperty.call(t,r))continue;const i=t[r],o=sV(e[r])?e[r]:e;n[r]=py(i,o)}return n}function oV(t,e){return Dt(e)?Nr(t,e):e===!1?Nr(t,{}):t}function sV(t){return Dt(t)||TF(t)||$e(t)}class aV extends xe{get methods(){return{clean:(e,n)=>this.clean(e,n)}}clean(e,n){return Nr(e,n)}}class lV extends xe{get methods(){return{save:()=>this.save()}}save(){const e="Editor's content can not be saved in read-only mode";return this.Editor.ReadOnly.isEnabled?(Gn(e,"warn"),Promise.reject(new Error(e))):this.Editor.Saver.save()}}class cV extends xe{get methods(){return{findParentTag:(e,n)=>this.findParentTag(e,n),expandToTag:e=>this.expandToTag(e)}}findParentTag(e,n){return new se().findParentTag(e,n)}expandToTag(e){new se().expandToTag(e)}}class uV extends xe{get classes(){return{block:"cdx-block",inlineToolButton:"ce-inline-tool",inlineToolButtonActive:"ce-inline-tool--active",input:"cdx-input",loader:"cdx-loader",button:"cdx-button",settingsButton:"cdx-settings-button",settingsButtonActive:"cdx-settings-button--active"}}}class dV extends xe{get methods(){return{close:()=>this.close(),open:()=>this.open(),toggleBlockSettings:e=>this.toggleBlockSettings(e),toggleToolbox:e=>this.toggleToolbox(e)}}open(){this.Editor.Toolbar.moveAndOpen()}close(){this.Editor.Toolbar.close()}toggleBlockSettings(e){if(this.Editor.BlockManager.currentBlockIndex===-1){Gn("Could't toggle the Toolbar because there is no block selected ","warn");return}e??!this.Editor.BlockSettings.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.open()):this.Editor.BlockSettings.close()}toggleToolbox(e){if(this.Editor.BlockManager.currentBlockIndex===-1){Gn("Could't toggle the Toolbox because there is no block selected ","warn");return}e??!this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()):this.Editor.Toolbar.toolbox.close()}}var jm={},hV={get exports(){return jm},set exports(t){jm=t}};/*!
 * CodeX.Tooltips
 * 
 * @version 1.0.5
 * 
 * @licence MIT
 * @author CodeX <https://codex.so>
 * 
 * 
 */(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:a})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,s){if(1&s&&(o=i(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var l in o)i.d(a,l,(function(c){return o[c]}).bind(null,l));return a},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="",i(i.s=0)}([function(n,r,i){n.exports=i(1)},function(n,r,i){i.r(r),i.d(r,"default",function(){return o});class o{constructor(){this.nodes={wrapper:null,content:null},this.showed=!1,this.offsetTop=10,this.offsetLeft=10,this.offsetRight=10,this.hidingDelay=0,this.handleWindowScroll=()=>{this.showed&&this.hide(!0)},this.loadStyles(),this.prepare(),window.addEventListener("scroll",this.handleWindowScroll,{passive:!0})}get CSS(){return{tooltip:"ct",tooltipContent:"ct__content",tooltipShown:"ct--shown",placement:{left:"ct--left",bottom:"ct--bottom",right:"ct--right",top:"ct--top"}}}show(a,l,c){this.nodes.wrapper||this.prepare(),this.hidingTimeout&&clearTimeout(this.hidingTimeout);const u=Object.assign({placement:"bottom",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,delay:70,hidingDelay:0},c);if(u.hidingDelay&&(this.hidingDelay=u.hidingDelay),this.nodes.content.innerHTML="",typeof l=="string")this.nodes.content.appendChild(document.createTextNode(l));else{if(!(l instanceof Node))throw Error("[CodeX Tooltip] Wrong type of «content» passed. It should be an instance of Node or String. But "+typeof l+" given.");this.nodes.content.appendChild(l)}switch(this.nodes.wrapper.classList.remove(...Object.values(this.CSS.placement)),u.placement){case"top":this.placeTop(a,u);break;case"left":this.placeLeft(a,u);break;case"right":this.placeRight(a,u);break;case"bottom":default:this.placeBottom(a,u)}u&&u.delay?this.showingTimeout=setTimeout(()=>{this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0},u.delay):(this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0)}hide(a=!1){if(this.hidingDelay&&!a)return this.hidingTimeout&&clearTimeout(this.hidingTimeout),void(this.hidingTimeout=setTimeout(()=>{this.hide(!0)},this.hidingDelay));this.nodes.wrapper.classList.remove(this.CSS.tooltipShown),this.showed=!1,this.showingTimeout&&clearTimeout(this.showingTimeout)}onHover(a,l,c){a.addEventListener("mouseenter",()=>{this.show(a,l,c)}),a.addEventListener("mouseleave",()=>{this.hide()})}destroy(){this.nodes.wrapper.remove(),window.removeEventListener("scroll",this.handleWindowScroll)}prepare(){this.nodes.wrapper=this.make("div",this.CSS.tooltip),this.nodes.content=this.make("div",this.CSS.tooltipContent),this.append(this.nodes.wrapper,this.nodes.content),this.append(document.body,this.nodes.wrapper)}loadStyles(){const a="codex-tooltips-style";if(document.getElementById(a))return;const l=i(2),c=this.make("style",null,{textContent:l.toString(),id:a});this.prepend(document.head,c)}placeBottom(a,l){const c=a.getBoundingClientRect(),u=c.left+a.clientWidth/2-this.nodes.wrapper.offsetWidth/2,d=c.bottom+window.pageYOffset+this.offsetTop+l.marginTop;this.applyPlacement("bottom",u,d)}placeTop(a,l){const c=a.getBoundingClientRect(),u=c.left+a.clientWidth/2-this.nodes.wrapper.offsetWidth/2,d=c.top+window.pageYOffset-this.nodes.wrapper.clientHeight-this.offsetTop;this.applyPlacement("top",u,d)}placeLeft(a,l){const c=a.getBoundingClientRect(),u=c.left-this.nodes.wrapper.offsetWidth-this.offsetLeft-l.marginLeft,d=c.top+window.pageYOffset+a.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("left",u,d)}placeRight(a,l){const c=a.getBoundingClientRect(),u=c.right+this.offsetRight+l.marginRight,d=c.top+window.pageYOffset+a.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("right",u,d)}applyPlacement(a,l,c){this.nodes.wrapper.classList.add(this.CSS.placement[a]),this.nodes.wrapper.style.left=l+"px",this.nodes.wrapper.style.top=c+"px"}make(a,l=null,c={}){const u=document.createElement(a);Array.isArray(l)?u.classList.add(...l):l&&u.classList.add(l);for(const d in c)c.hasOwnProperty(d)&&(u[d]=c[d]);return u}append(a,l){Array.isArray(l)?l.forEach(c=>a.appendChild(c)):a.appendChild(l)}prepend(a,l){Array.isArray(l)?(l=l.reverse()).forEach(c=>a.prepend(c)):a.prepend(l)}}},function(n,r){n.exports=`.ct{z-index:999;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1),-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);will-change:opacity,top,left;-webkit-box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);border-radius:9px}.ct,.ct:before{position:absolute;top:0;left:0}.ct:before{content:"";bottom:0;right:0;background-color:#1d202b;z-index:-1;border-radius:4px}@supports(-webkit-mask-box-image:url("")){.ct:before{border-radius:0;-webkit-mask-box-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M10.71 0h2.58c3.02 0 4.64.42 6.1 1.2a8.18 8.18 0 013.4 3.4C23.6 6.07 24 7.7 24 10.71v2.58c0 3.02-.42 4.64-1.2 6.1a8.18 8.18 0 01-3.4 3.4c-1.47.8-3.1 1.21-6.11 1.21H10.7c-3.02 0-4.64-.42-6.1-1.2a8.18 8.18 0 01-3.4-3.4C.4 17.93 0 16.3 0 13.29V10.7c0-3.02.42-4.64 1.2-6.1a8.18 8.18 0 013.4-3.4C6.07.4 7.7 0 10.71 0z"/></svg>') 48% 41% 37.9% 53.3%}}@media (--mobile){.ct{display:none}}.ct__content{padding:6px 10px;color:#cdd1e0;font-size:12px;text-align:center;letter-spacing:.02em;line-height:1em}.ct:after{content:"";width:8px;height:8px;position:absolute;background-color:#1d202b;z-index:-1}.ct--bottom{-webkit-transform:translateY(5px);transform:translateY(5px)}.ct--bottom:after{top:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--top{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.ct--top:after{top:auto;bottom:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--left{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.ct--left:after{top:50%;left:auto;right:0;-webkit-transform:translate(41.6%,-50%) rotate(-45deg);transform:translate(41.6%,-50%) rotate(-45deg)}.ct--right{-webkit-transform:translateX(5px);transform:translateX(5px)}.ct--right:after{top:50%;left:0;-webkit-transform:translate(-41.6%,-50%) rotate(-45deg);transform:translate(-41.6%,-50%) rotate(-45deg)}.ct--shown{opacity:1;-webkit-transform:none;transform:none}`}]).default})})(hV);const fV=Nh(jm);class my{constructor(){this.lib=new fV}destroy(){this.lib.destroy()}show(e,n,r){this.lib.show(e,n,r)}hide(e=!1){this.lib.hide(e)}onHover(e,n,r){this.lib.onHover(e,n,r)}}class pV extends xe{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.tooltip=new my}destroy(){this.tooltip.destroy()}get methods(){return{show:(e,n,r)=>this.show(e,n,r),hide:()=>this.hide(),onHover:(e,n,r)=>this.onHover(e,n,r)}}show(e,n,r){this.tooltip.show(e,n,r)}hide(){this.tooltip.hide()}onHover(e,n,r){this.tooltip.onHover(e,n,r)}}class mV extends xe{get methods(){return{nodes:this.editorNodes}}get editorNodes(){return{wrapper:this.Editor.UI.nodes.wrapper,redactor:this.Editor.UI.nodes.redactor}}}function vT(t,e){const n={};return Object.entries(t).forEach(([r,i])=>{if(Dt(i)){const o=e?`${e}.${r}`:r;Object.values(i).every(s=>$i(s))?n[r]=o:n[r]=vT(i,o);return}n[r]=i}),n}const qn=vT(uT);function gV(t,e){const n={};return Object.keys(t).forEach(r=>{const i=e[r];i!==void 0?n[i]=t[r]:n[r]=t[r]}),n}const vV='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 12L9 7.1C9 7.04477 9.04477 7 9.1 7H10.4C11.5 7 14 7.1 14 9.5C14 9.5 14 12 11 12M9 12V16.8C9 16.9105 9.08954 17 9.2 17H12.5C14 17 15 16 15 14.5C15 11.7046 11 12 11 12M9 12H11"/></svg>',yT='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 10L11.8586 14.8586C11.9367 14.9367 12.0633 14.9367 12.1414 14.8586L17 10"/></svg>',yV='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 15L11.8586 10.1414C11.9367 10.0633 12.0633 10.0633 12.1414 10.1414L17 15"/></svg>',wV='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>',_V='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="2"/></svg>',bV='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13.34 10C12.4223 12.7337 11 17 11 17"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.21 7H14.2"/></svg>',C1='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.5691 6.39509 13.9269 6.25143 12.8271 7.17675L11.3901 8.38588C10.0935 9.47674 9.95706 11.4241 11.0888 12.6852L11.12 12.72"/></svg>',kV='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 7.29999H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 7.29999H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.30999 12H9.3"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 12H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 16.7H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 16.7H14.59"/></svg>',EV='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>',xV='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="10.5" cy="10.5" r="5.5" stroke="currentColor" stroke-width="2"/><line x1="15.4142" x2="19" y1="15" y2="18.5858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',SV='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15.7795 11.5C15.7795 11.5 16.053 11.1962 16.5497 10.6722C17.4442 9.72856 17.4701 8.2475 16.5781 7.30145V7.30145C15.6482 6.31522 14.0873 6.29227 13.1288 7.25073L11.8796 8.49999"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8.24517 12.3883C8.24517 12.3883 7.97171 12.6922 7.47504 13.2161C6.58051 14.1598 6.55467 15.6408 7.44666 16.5869V16.5869C8.37653 17.5731 9.93744 17.5961 10.8959 16.6376L12.1452 15.3883"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17.7802 15.1032L16.597 14.9422C16.0109 14.8624 15.4841 15.3059 15.4627 15.8969L15.4199 17.0818"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6.39064 9.03238L7.58432 9.06668C8.17551 9.08366 8.6522 8.58665 8.61056 7.99669L8.5271 6.81397"/><line x1="12.1142" x2="11.7" y1="12.2" y2="11.7858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',TV='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><line x1="12" x2="12" y1="9" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 15.02V15.01"/></svg>';class ot{constructor(e){this.nodes={root:null,icon:null},this.confirmationState=null,this.removeSpecialFocusBehavior=()=>{this.nodes.root.classList.remove(ot.CSS.noFocus)},this.removeSpecialHoverBehavior=()=>{this.nodes.root.classList.remove(ot.CSS.noHover)},this.onErrorAnimationEnd=()=>{this.nodes.icon.classList.remove(ot.CSS.wobbleAnimation),this.nodes.icon.removeEventListener("animationend",this.onErrorAnimationEnd)},this.params=e,this.nodes.root=this.make(e)}get isDisabled(){return this.params.isDisabled}get toggle(){return this.params.toggle}get title(){return this.params.title}get closeOnActivate(){return this.params.closeOnActivate}get isConfirmationStateEnabled(){return this.confirmationState!==null}get isFocused(){return this.nodes.root.classList.contains(ot.CSS.focused)}static get CSS(){return{container:"ce-popover-item",title:"ce-popover-item__title",secondaryTitle:"ce-popover-item__secondary-title",icon:"ce-popover-item__icon",active:"ce-popover-item--active",disabled:"ce-popover-item--disabled",focused:"ce-popover-item--focused",hidden:"ce-popover-item--hidden",confirmationState:"ce-popover-item--confirmation",noHover:"ce-popover-item--no-hover",noFocus:"ce-popover-item--no-focus",wobbleAnimation:"wobble"}}getElement(){return this.nodes.root}handleClick(){if(this.isConfirmationStateEnabled){this.activateOrEnableConfirmationMode(this.confirmationState);return}this.activateOrEnableConfirmationMode(this.params)}toggleActive(e){this.nodes.root.classList.toggle(ot.CSS.active,e)}toggleHidden(e){this.nodes.root.classList.toggle(ot.CSS.hidden,e)}reset(){this.isConfirmationStateEnabled&&this.disableConfirmationMode()}onFocus(){this.disableSpecialHoverAndFocusBehavior()}make(e){const n=N.make("div",ot.CSS.container);return e.name&&(n.dataset.itemName=e.name),this.nodes.icon=N.make("div",ot.CSS.icon,{innerHTML:e.icon||_V}),n.appendChild(this.nodes.icon),n.appendChild(N.make("div",ot.CSS.title,{innerHTML:e.title||""})),e.secondaryLabel&&n.appendChild(N.make("div",ot.CSS.secondaryTitle,{textContent:e.secondaryLabel})),e.isActive&&n.classList.add(ot.CSS.active),e.isDisabled&&n.classList.add(ot.CSS.disabled),n}enableConfirmationMode(e){const n={...this.params,...e,confirmation:e.confirmation},r=this.make(n);this.nodes.root.innerHTML=r.innerHTML,this.nodes.root.classList.add(ot.CSS.confirmationState),this.confirmationState=e,this.enableSpecialHoverAndFocusBehavior()}disableConfirmationMode(){const e=this.make(this.params);this.nodes.root.innerHTML=e.innerHTML,this.nodes.root.classList.remove(ot.CSS.confirmationState),this.confirmationState=null,this.disableSpecialHoverAndFocusBehavior()}enableSpecialHoverAndFocusBehavior(){this.nodes.root.classList.add(ot.CSS.noHover),this.nodes.root.classList.add(ot.CSS.noFocus),this.nodes.root.addEventListener("mouseleave",this.removeSpecialHoverBehavior,{once:!0})}disableSpecialHoverAndFocusBehavior(){this.removeSpecialFocusBehavior(),this.removeSpecialHoverBehavior(),this.nodes.root.removeEventListener("mouseleave",this.removeSpecialHoverBehavior)}activateOrEnableConfirmationMode(e){if(e.confirmation===void 0)try{e.onActivate(e),this.disableConfirmationMode()}catch{this.animateError()}else this.enableConfirmationMode(e.confirmation)}animateError(){this.nodes.icon.classList.contains(ot.CSS.wobbleAnimation)||(this.nodes.icon.classList.add(ot.CSS.wobbleAnimation),this.nodes.icon.addEventListener("animationend",this.onErrorAnimationEnd))}}const za=class{constructor(t,e){this.cursor=-1,this.items=[],this.items=t||[],this.focusedCssClass=e}get currentItem(){return this.cursor===-1?null:this.items[this.cursor]}setCursor(t){t<this.items.length&&t>=-1&&(this.dropCursor(),this.cursor=t,this.items[this.cursor].classList.add(this.focusedCssClass))}setItems(t){this.items=t}next(){this.cursor=this.leafNodesAndReturnIndex(za.directions.RIGHT)}previous(){this.cursor=this.leafNodesAndReturnIndex(za.directions.LEFT)}dropCursor(){this.cursor!==-1&&(this.items[this.cursor].classList.remove(this.focusedCssClass),this.cursor=-1)}leafNodesAndReturnIndex(t){if(this.items.length===0)return this.cursor;let e=this.cursor;return e===-1?e=t===za.directions.RIGHT?-1:0:this.items[e].classList.remove(this.focusedCssClass),t===za.directions.RIGHT?e=(e+1)%this.items.length:e=(this.items.length+e-1)%this.items.length,N.canSetCaret(this.items[e])&&zs(()=>se.setCursor(this.items[e]),50)(),this.items[e].classList.add(this.focusedCssClass),e}};let Ko=za;Ko.directions={RIGHT:"right",LEFT:"left"};class Jr{constructor(e){this.iterator=null,this.activated=!1,this.flipCallbacks=[],this.onKeyDown=n=>{if(this.isEventReadyForHandling(n))switch(Jr.usedKeys.includes(n.keyCode)&&n.preventDefault(),n.keyCode){case ce.TAB:this.handleTabPress(n);break;case ce.LEFT:case ce.UP:this.flipLeft();break;case ce.RIGHT:case ce.DOWN:this.flipRight();break;case ce.ENTER:this.handleEnterPress(n);break}},this.iterator=new Ko(e.items,e.focusedItemClass),this.activateCallback=e.activateCallback,this.allowedKeys=e.allowedKeys||Jr.usedKeys}get isActivated(){return this.activated}static get usedKeys(){return[ce.TAB,ce.LEFT,ce.RIGHT,ce.ENTER,ce.UP,ce.DOWN]}activate(e,n){this.activated=!0,e&&this.iterator.setItems(e),n!==void 0&&this.iterator.setCursor(n),document.addEventListener("keydown",this.onKeyDown,!0)}deactivate(){this.activated=!1,this.dropCursor(),document.removeEventListener("keydown",this.onKeyDown)}focusFirst(){this.dropCursor(),this.flipRight()}flipLeft(){this.iterator.previous(),this.flipCallback()}flipRight(){this.iterator.next(),this.flipCallback()}hasFocus(){return!!this.iterator.currentItem}onFlip(e){this.flipCallbacks.push(e)}removeOnFlip(e){this.flipCallbacks=this.flipCallbacks.filter(n=>n!==e)}dropCursor(){this.iterator.dropCursor()}isEventReadyForHandling(e){return this.activated&&this.allowedKeys.includes(e.keyCode)}handleTabPress(e){switch(e.shiftKey?Ko.directions.LEFT:Ko.directions.RIGHT){case Ko.directions.RIGHT:this.flipRight();break;case Ko.directions.LEFT:this.flipLeft();break}}handleEnterPress(e){this.activated&&(this.iterator.currentItem&&(e.stopPropagation(),e.preventDefault(),this.iterator.currentItem.click()),$e(this.activateCallback)&&this.activateCallback(this.iterator.currentItem))}flipCallback(){this.iterator.currentItem&&this.iterator.currentItem.scrollIntoViewIfNeeded(),this.flipCallbacks.forEach(e=>e())}}class ul{static get CSS(){return{wrapper:"cdx-search-field",icon:"cdx-search-field__icon",input:"cdx-search-field__input"}}constructor({items:e,onSearch:n,placeholder:r}){this.listeners=new hy,this.items=e,this.onSearch=n,this.render(r)}getElement(){return this.wrapper}focus(){this.input.focus()}clear(){this.input.value="",this.searchQuery="",this.onSearch("",this.foundItems)}destroy(){this.listeners.removeAll()}render(e){this.wrapper=N.make("div",ul.CSS.wrapper);const n=N.make("div",ul.CSS.icon,{innerHTML:xV});this.input=N.make("input",ul.CSS.input,{placeholder:e}),this.wrapper.appendChild(n),this.wrapper.appendChild(this.input),this.listeners.on(this.input,"input",()=>{this.searchQuery=this.input.value,this.onSearch(this.searchQuery,this.foundItems)})}get foundItems(){return this.items.filter(e=>this.checkItem(e))}checkItem(e){var n;const r=((n=e.title)==null?void 0:n.toLowerCase())||"",i=this.searchQuery.toLowerCase();return r.includes(i)}}const Ha=class{lock(){S1?this.lockHard():document.body.classList.add(Ha.CSS.scrollLocked)}unlock(){S1?this.unlockHard():document.body.classList.remove(Ha.CSS.scrollLocked)}lockHard(){this.scrollPosition=window.pageYOffset,document.documentElement.style.setProperty("--window-scroll-offset",`${this.scrollPosition}px`),document.body.classList.add(Ha.CSS.scrollLockedHard)}unlockHard(){document.body.classList.remove(Ha.CSS.scrollLockedHard),this.scrollPosition!==null&&window.scrollTo(0,this.scrollPosition),this.scrollPosition=null}};let wT=Ha;wT.CSS={scrollLocked:"ce-scroll-locked",scrollLockedHard:"ce-scroll-locked--hard"};var CV=Object.defineProperty,IV=Object.getOwnPropertyDescriptor,AV=(t,e,n,r)=>{for(var i=r>1?void 0:r?IV(e,n):e,o=t.length-1,s;o>=0;o--)(s=t[o])&&(i=(r?s(e,n,i):s(i))||i);return r&&i&&CV(e,n,i),i},Xl=(t=>(t.Close="close",t))(Xl||{});const Ct=class extends Bh{constructor(t){super(),this.scopeElement=document.body,this.listeners=new hy,this.scrollLocker=new wT,this.nodes={wrapper:null,popover:null,nothingFoundMessage:null,customContent:null,items:null,overlay:null},this.messages={nothingFound:"Nothing found",search:"Search"},this.onFlip=()=>{this.items.find(e=>e.isFocused).onFocus()},this.items=t.items.map(e=>new ot(e)),t.scopeElement!==void 0&&(this.scopeElement=t.scopeElement),t.messages&&(this.messages={...this.messages,...t.messages}),t.customContentFlippableItems&&(this.customContentFlippableItems=t.customContentFlippableItems),this.make(),t.customContent&&this.addCustomContent(t.customContent),t.searchable&&this.addSearch(),this.initializeFlipper()}static get CSS(){return{popover:"ce-popover",popoverOpenTop:"ce-popover--open-top",popoverOpened:"ce-popover--opened",search:"ce-popover__search",nothingFoundMessage:"ce-popover__nothing-found-message",nothingFoundMessageDisplayed:"ce-popover__nothing-found-message--displayed",customContent:"ce-popover__custom-content",customContentHidden:"ce-popover__custom-content--hidden",items:"ce-popover__items",overlay:"ce-popover__overlay",overlayHidden:"ce-popover__overlay--hidden"}}getElement(){return this.nodes.wrapper}hasFocus(){return this.flipper.hasFocus()}show(){this.shouldOpenBottom||(this.nodes.popover.style.setProperty("--popover-height",this.height+"px"),this.nodes.popover.classList.add(Ct.CSS.popoverOpenTop)),this.nodes.overlay.classList.remove(Ct.CSS.overlayHidden),this.nodes.popover.classList.add(Ct.CSS.popoverOpened),this.flipper.activate(this.flippableElements),this.search!==void 0&&setTimeout(()=>{this.search.focus()},100),vo()&&this.scrollLocker.lock()}hide(){this.nodes.popover.classList.remove(Ct.CSS.popoverOpened),this.nodes.popover.classList.remove(Ct.CSS.popoverOpenTop),this.nodes.overlay.classList.add(Ct.CSS.overlayHidden),this.flipper.deactivate(),this.items.forEach(t=>t.reset()),this.search!==void 0&&this.search.clear(),vo()&&this.scrollLocker.unlock(),this.emit("close")}destroy(){this.flipper.deactivate(),this.listeners.removeAll(),vo()&&this.scrollLocker.unlock()}make(){this.nodes.popover=N.make("div",[Ct.CSS.popover]),this.nodes.nothingFoundMessage=N.make("div",[Ct.CSS.nothingFoundMessage],{textContent:this.messages.nothingFound}),this.nodes.popover.appendChild(this.nodes.nothingFoundMessage),this.nodes.items=N.make("div",[Ct.CSS.items]),this.items.forEach(t=>{this.nodes.items.appendChild(t.getElement())}),this.nodes.popover.appendChild(this.nodes.items),this.listeners.on(this.nodes.popover,"click",t=>{const e=this.getTargetItem(t);e!==void 0&&this.handleItemClick(e)}),this.nodes.wrapper=N.make("div"),this.nodes.overlay=N.make("div",[Ct.CSS.overlay,Ct.CSS.overlayHidden]),this.listeners.on(this.nodes.overlay,"click",()=>{this.hide()}),this.nodes.wrapper.appendChild(this.nodes.overlay),this.nodes.wrapper.appendChild(this.nodes.popover)}addSearch(){this.search=new ul({items:this.items,placeholder:this.messages.search,onSearch:(e,n)=>{this.items.forEach(i=>{const o=!n.includes(i);i.toggleHidden(o)}),this.toggleNothingFoundMessage(n.length===0),this.toggleCustomContent(e!=="");const r=e===""?this.flippableElements:n.map(i=>i.getElement());this.flipper.isActivated&&(this.flipper.deactivate(),this.flipper.activate(r))}});const t=this.search.getElement();t.classList.add(Ct.CSS.search),this.nodes.popover.insertBefore(t,this.nodes.popover.firstChild)}addCustomContent(t){this.nodes.customContent=t,this.nodes.customContent.classList.add(Ct.CSS.customContent),this.nodes.popover.insertBefore(t,this.nodes.popover.firstChild)}getTargetItem(t){return this.items.find(e=>t.composedPath().includes(e.getElement()))}handleItemClick(t){t.isDisabled||(this.items.filter(e=>e!==t).forEach(e=>e.reset()),t.handleClick(),this.toggleItemActivenessIfNeeded(t),t.closeOnActivate&&this.hide())}initializeFlipper(){this.flipper=new Jr({items:this.flippableElements,focusedItemClass:ot.CSS.focused,allowedKeys:[ce.TAB,ce.UP,ce.DOWN,ce.ENTER]}),this.flipper.onFlip(this.onFlip)}get flippableElements(){const t=this.items.map(e=>e.getElement());return(this.customContentFlippableItems||[]).concat(t)}get height(){let t=0;if(this.nodes.popover===null)return t;const e=this.nodes.popover.cloneNode(!0);return e.style.visibility="hidden",e.style.position="absolute",e.style.top="-1000px",e.classList.add(Ct.CSS.popoverOpened),document.body.appendChild(e),t=e.offsetHeight,e.remove(),t}get shouldOpenBottom(){const t=this.nodes.popover.getBoundingClientRect(),e=this.scopeElement.getBoundingClientRect(),n=this.height,r=t.top+n,i=t.top-n,o=Math.min(window.innerHeight,e.bottom);return i<e.top||r<=o}toggleNothingFoundMessage(t){this.nodes.nothingFoundMessage.classList.toggle(Ct.CSS.nothingFoundMessageDisplayed,t)}toggleCustomContent(t){var e;(e=this.nodes.customContent)==null||e.classList.toggle(Ct.CSS.customContentHidden,t)}toggleItemActivenessIfNeeded(t){if(t.toggle===!0&&t.toggleActive(),typeof t.toggle=="string"){const e=this.items.filter(n=>n.toggle===t.toggle);if(e.length===1){t.toggleActive();return}e.forEach(n=>{n.toggleActive(n===t)})}}};let gy=Ct;AV([oa],gy.prototype,"height",1);class RV extends xe{constructor(){super(...arguments),this.opened=!1,this.selection=new se,this.onPopoverClose=()=>{this.close()}}get events(){return{opened:"block-settings-opened",closed:"block-settings-closed"}}get CSS(){return{settings:"ce-settings"}}get flipper(){var e;return(e=this.popover)==null?void 0:e.flipper}make(){this.nodes.wrapper=N.make("div",[this.CSS.settings])}destroy(){this.removeAllNodes()}open(e=this.Editor.BlockManager.currentBlock){this.opened=!0,this.selection.save(),e.selected=!0,this.Editor.BlockSelection.clearCache();const[n,r]=e.getTunes();this.eventsDispatcher.emit(this.events.opened),this.popover=new gy({searchable:!0,items:n.map(i=>this.resolveTuneAliases(i)),customContent:r,customContentFlippableItems:this.getControls(r),scopeElement:this.Editor.API.methods.ui.nodes.redactor,messages:{nothingFound:cn.ui(qn.ui.popover,"Nothing found"),search:cn.ui(qn.ui.popover,"Filter")}}),this.popover.on(Xl.Close,this.onPopoverClose),this.nodes.wrapper.append(this.popover.getElement()),this.popover.show()}getElement(){return this.nodes.wrapper}close(){this.opened=!1,se.isAtEditor||this.selection.restore(),this.selection.clearSaved(),!this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted&&this.Editor.BlockManager.currentBlock&&(this.Editor.BlockManager.currentBlock.selected=!1),this.eventsDispatcher.emit(this.events.closed),this.popover&&(this.popover.off(Xl.Close,this.onPopoverClose),this.popover.destroy(),this.popover.getElement().remove(),this.popover=null)}getControls(e){const{StylesAPI:n}=this.Editor,r=e.querySelectorAll(`.${n.classes.settingsButton}, ${N.allInputsSelector}`);return Array.from(r)}resolveTuneAliases(e){const n=gV(e,{label:"title"});return e.confirmation&&(n.confirmation=this.resolveTuneAliases(e.confirmation)),n}}class fn extends xe{constructor(){super(...arguments),this.opened=!1,this.tools=[],this.flipper=null,this.togglingCallback=null}static get CSS(){return{conversionToolbarWrapper:"ce-conversion-toolbar",conversionToolbarShowed:"ce-conversion-toolbar--showed",conversionToolbarTools:"ce-conversion-toolbar__tools",conversionToolbarLabel:"ce-conversion-toolbar__label",conversionTool:"ce-conversion-tool",conversionToolHidden:"ce-conversion-tool--hidden",conversionToolIcon:"ce-conversion-tool__icon",conversionToolSecondaryLabel:"ce-conversion-tool__secondary-label",conversionToolFocused:"ce-conversion-tool--focused",conversionToolActive:"ce-conversion-tool--active"}}make(){this.nodes.wrapper=N.make("div",[fn.CSS.conversionToolbarWrapper,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),this.nodes.tools=N.make("div",fn.CSS.conversionToolbarTools);const e=N.make("div",fn.CSS.conversionToolbarLabel,{textContent:cn.ui(qn.ui.inlineToolbar.converter,"Convert to")});return this.addTools(),this.enableFlipper(),N.append(this.nodes.wrapper,e),N.append(this.nodes.wrapper,this.nodes.tools),this.nodes.wrapper}destroy(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes()}toggle(e){this.opened?this.close():this.open(),$e(e)&&(this.togglingCallback=e)}open(){this.filterTools(),this.opened=!0,this.nodes.wrapper.classList.add(fn.CSS.conversionToolbarShowed),window.requestAnimationFrame(()=>{this.flipper.activate(this.tools.map(e=>e.button).filter(e=>!e.classList.contains(fn.CSS.conversionToolHidden))),this.flipper.focusFirst(),$e(this.togglingCallback)&&this.togglingCallback(!0)})}close(){this.opened=!1,this.flipper.deactivate(),this.nodes.wrapper.classList.remove(fn.CSS.conversionToolbarShowed),$e(this.togglingCallback)&&this.togglingCallback(!1)}hasTools(){return this.tools.length===1?this.tools[0].name!==this.config.defaultBlock:!0}async replaceWithBlock(e,n){const{BlockManager:r,BlockSelection:i,InlineToolbar:o,Caret:s}=this.Editor;r.convert(this.Editor.BlockManager.currentBlock,e,n),i.clearSelection(),this.close(),o.close(),window.requestAnimationFrame(()=>{s.setToBlock(this.Editor.BlockManager.currentBlock,s.positions.END)})}addTools(){const e=this.Editor.Tools.blockTools;Array.from(e.entries()).forEach(([n,r])=>{var i;const o=r.conversionConfig;!o||!o.import||(i=r.toolbox)==null||i.forEach(s=>this.addToolIfValid(n,s))})}addToolIfValid(e,n){nr(n)||!n.icon||this.addTool(e,n)}addTool(e,n){var r;const i=N.make("div",[fn.CSS.conversionTool]),o=N.make("div",[fn.CSS.conversionToolIcon]);i.dataset.tool=e,o.innerHTML=n.icon,N.append(i,o),N.append(i,N.text(cn.t(qn.toolNames,n.title||Hs(e))));const s=(r=this.Editor.Tools.blockTools.get(e))==null?void 0:r.shortcut;if(s){const a=N.make("span",fn.CSS.conversionToolSecondaryLabel,{innerText:dy(s)});N.append(i,a)}N.append(this.nodes.tools,i),this.tools.push({name:e,button:i,toolboxItem:n}),this.listeners.on(i,"click",async()=>{await this.replaceWithBlock(e,n.data)})}async filterTools(){const{currentBlock:e}=this.Editor.BlockManager,n=await e.getActiveToolboxEntry();function r(i,o){return i.icon===o.icon&&i.title===o.title}this.tools.forEach(i=>{let o=!1;if(n){const s=r(n,i.toolboxItem);o=i.button.dataset.tool===e.name&&s}i.button.hidden=o,i.button.classList.toggle(fn.CSS.conversionToolHidden,o)})}enableFlipper(){this.flipper=new Jr({focusedItemClass:fn.CSS.conversionToolFocused})}}var zm={},PV={get exports(){return zm},set exports(t){zm=t}};/*!
 * Library for handling keyboard shortcuts
 * @copyright CodeX (https://codex.so)
 * @license MIT
 * @author CodeX (https://codex.so)
 * @version 1.2.0
 */(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:a})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,s){if(1&s&&(o=i(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var l in o)i.d(a,l,(function(c){return o[c]}).bind(null,l));return a},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="",i(i.s=0)}([function(n,r,i){function o(l,c){for(var u=0;u<c.length;u++){var d=c[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}function s(l,c,u){return c&&o(l.prototype,c),u&&o(l,u),l}i.r(r);var a=function(){function l(c){var u=this;(function(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")})(this,l),this.commands={},this.keys={},this.name=c.name,this.parseShortcutName(c.name),this.element=c.on,this.callback=c.callback,this.executeShortcut=function(d){u.execute(d)},this.element.addEventListener("keydown",this.executeShortcut,!1)}return s(l,null,[{key:"supportedCommands",get:function(){return{SHIFT:["SHIFT"],CMD:["CMD","CONTROL","COMMAND","WINDOWS","CTRL"],ALT:["ALT","OPTION"]}}},{key:"keyCodes",get:function(){return{0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,BACKSPACE:8,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,".":190}}}]),s(l,[{key:"parseShortcutName",value:function(c){c=c.split("+");for(var u=0;u<c.length;u++){c[u]=c[u].toUpperCase();var d=!1;for(var h in l.supportedCommands)if(l.supportedCommands[h].includes(c[u])){d=this.commands[h]=!0;break}d||(this.keys[c[u]]=!0)}for(var f in l.supportedCommands)this.commands[f]||(this.commands[f]=!1)}},{key:"execute",value:function(c){var u,d={CMD:c.ctrlKey||c.metaKey,SHIFT:c.shiftKey,ALT:c.altKey},h=!0;for(u in this.commands)this.commands[u]!==d[u]&&(h=!1);var f,m=!0;for(f in this.keys)m=m&&c.keyCode===l.keyCodes[f];h&&m&&this.callback(c)}},{key:"remove",value:function(){this.element.removeEventListener("keydown",this.executeShortcut)}}]),l}();r.default=a}]).default})})(PV);const MV=Nh(zm);class OV{constructor(){this.registeredShortcuts=new Map}add(e){if(this.findShortcut(e.on,e.name))throw Error(`Shortcut ${e.name} is already registered for ${e.on}. Please remove it before add a new handler.`);const n=new MV({name:e.name,on:e.on,callback:e.handler}),r=this.registeredShortcuts.get(e.on)||[];this.registeredShortcuts.set(e.on,[...r,n])}remove(e,n){const r=this.findShortcut(e,n);if(!r)return;r.remove();const i=this.registeredShortcuts.get(e);this.registeredShortcuts.set(e,i.filter(o=>o!==r))}findShortcut(e,n){return(this.registeredShortcuts.get(e)||[]).find(({name:r})=>r===n)}}const Ws=new OV;var LV=Object.defineProperty,DV=Object.getOwnPropertyDescriptor,_T=(t,e,n,r)=>{for(var i=r>1?void 0:r?DV(e,n):e,o=t.length-1,s;o>=0;o--)(s=t[o])&&(i=(r?s(e,n,i):s(i))||i);return r&&i&&LV(e,n,i),i},Tu=(t=>(t.Opened="toolbox-opened",t.Closed="toolbox-closed",t.BlockAdded="toolbox-block-added",t))(Tu||{});const bT=class extends Bh{constructor({api:t,tools:e,i18nLabels:n}){super(),this.opened=!1,this.nodes={toolbox:null},this.onPopoverClose=()=>{this.opened=!1,this.emit("toolbox-closed")},this.api=t,this.tools=e,this.i18nLabels=n}get isEmpty(){return this.toolsToBeDisplayed.length===0}static get CSS(){return{toolbox:"ce-toolbox"}}make(){return this.popover=new gy({scopeElement:this.api.ui.nodes.redactor,searchable:!0,messages:{nothingFound:this.i18nLabels.nothingFound,search:this.i18nLabels.filter},items:this.toolboxItemsToBeDisplayed}),this.popover.on(Xl.Close,this.onPopoverClose),this.enableShortcuts(),this.nodes.toolbox=this.popover.getElement(),this.nodes.toolbox.classList.add(bT.CSS.toolbox),this.nodes.toolbox}hasFocus(){var t;return(t=this.popover)==null?void 0:t.hasFocus()}destroy(){var t;super.destroy(),this.nodes&&this.nodes.toolbox&&(this.nodes.toolbox.remove(),this.nodes.toolbox=null),this.removeAllShortcuts(),(t=this.popover)==null||t.off(Xl.Close,this.onPopoverClose)}toolButtonActivated(t,e){this.insertNewBlock(t,e)}open(){var t;this.isEmpty||((t=this.popover)==null||t.show(),this.opened=!0,this.emit("toolbox-opened"))}close(){var t;(t=this.popover)==null||t.hide(),this.opened=!1,this.emit("toolbox-closed")}toggle(){this.opened?this.close():this.open()}get toolsToBeDisplayed(){const t=[];return this.tools.forEach(e=>{e.toolbox&&t.push(e)}),t}get toolboxItemsToBeDisplayed(){const t=(e,n)=>({icon:e.icon,title:cn.t(qn.toolNames,e.title||Hs(n.name)),name:n.name,onActivate:()=>{this.toolButtonActivated(n.name,e.data)},secondaryLabel:n.shortcut?dy(n.shortcut):""});return this.toolsToBeDisplayed.reduce((e,n)=>(Array.isArray(n.toolbox)?n.toolbox.forEach(r=>{e.push(t(r,n))}):n.toolbox!==void 0&&e.push(t(n.toolbox,n)),e),[])}enableShortcuts(){this.toolsToBeDisplayed.forEach(t=>{const e=t.shortcut;e&&this.enableShortcutForTool(t.name,e)})}enableShortcutForTool(t,e){Ws.add({name:e,on:this.api.ui.nodes.redactor,handler:n=>{n.preventDefault();const r=this.api.blocks.getCurrentBlockIndex(),i=this.api.blocks.getBlockByIndex(r);if(i)try{this.api.blocks.convert(i.id,t),window.requestAnimationFrame(()=>{this.api.caret.setToBlock(r,"end")});return}catch{}this.insertNewBlock(t)}})}removeAllShortcuts(){this.toolsToBeDisplayed.forEach(t=>{const e=t.shortcut;e&&Ws.remove(this.api.ui.nodes.redactor,e)})}async insertNewBlock(t,e){const n=this.api.blocks.getCurrentBlockIndex(),r=this.api.blocks.getBlockByIndex(n);if(!r)return;const i=r.isEmpty?n:n+1;let o;if(e){const a=await this.api.blocks.composeBlockData(t);o=Object.assign(a,e)}const s=this.api.blocks.insert(t,o,void 0,i,void 0,r.isEmpty);s.call(Rr.APPEND_CALLBACK),this.api.caret.setToBlock(i),this.emit("toolbox-block-added",{block:s}),this.api.toolbar.close()}};let vy=bT;_T([oa],vy.prototype,"toolsToBeDisplayed",1);_T([oa],vy.prototype,"toolboxItemsToBeDisplayed",1);const kT="block hovered";class NV extends xe{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.toolboxInstance=null,this.tooltip=new my}get CSS(){return{toolbar:"ce-toolbar",content:"ce-toolbar__content",actions:"ce-toolbar__actions",actionsOpened:"ce-toolbar__actions--opened",toolbarOpened:"ce-toolbar--opened",openedToolboxHolderModifier:"codex-editor--toolbox-opened",plusButton:"ce-toolbar__plus",plusButtonShortcut:"ce-toolbar__plus-shortcut",settingsToggler:"ce-toolbar__settings-btn",settingsTogglerHidden:"ce-toolbar__settings-btn--hidden"}}get opened(){return this.nodes.wrapper.classList.contains(this.CSS.toolbarOpened)}get toolbox(){var e;return{opened:(e=this.toolboxInstance)==null?void 0:e.opened,close:()=>{var n;(n=this.toolboxInstance)==null||n.close()},open:()=>{if(this.toolboxInstance===null){Re("toolbox.open() called before initialization is finished","warn");return}this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.toolboxInstance.open()},toggle:()=>{if(this.toolboxInstance===null){Re("toolbox.toggle() called before initialization is finished","warn");return}this.toolboxInstance.toggle()},hasFocus:()=>{var n;return(n=this.toolboxInstance)==null?void 0:n.hasFocus()}}}get blockActions(){return{hide:()=>{this.nodes.actions.classList.remove(this.CSS.actionsOpened)},show:()=>{this.nodes.actions.classList.add(this.CSS.actionsOpened)}}}get blockTunesToggler(){return{hide:()=>this.nodes.settingsToggler.classList.add(this.CSS.settingsTogglerHidden),show:()=>this.nodes.settingsToggler.classList.remove(this.CSS.settingsTogglerHidden)}}toggleReadOnly(e){e?(this.destroy(),this.Editor.BlockSettings.destroy(),this.disableModuleBindings()):window.requestIdleCallback(()=>{this.drawUI(),this.enableModuleBindings()},{timeout:2e3})}moveAndOpen(e=this.Editor.BlockManager.currentBlock){if(this.toolboxInstance===null){Re("Can't open Toolbar since Editor initialization is not finished yet","warn");return}if(this.toolboxInstance.opened&&this.toolboxInstance.close(),this.Editor.BlockSettings.opened&&this.Editor.BlockSettings.close(),!e)return;this.hoveredBlock=e;const n=e.holder,{isMobile:r}=this.Editor.UI,i=e.pluginsContent,o=window.getComputedStyle(i),s=parseInt(o.paddingTop,10),a=n.offsetHeight;let l;r?l=n.offsetTop+a:l=n.offsetTop+s,this.nodes.wrapper.style.top=`${Math.floor(l)}px`,this.Editor.BlockManager.blocks.length===1&&e.isEmpty?this.blockTunesToggler.hide():this.blockTunesToggler.show(),this.open()}close(){var e;this.Editor.ReadOnly.isEnabled||(this.nodes.wrapper.classList.remove(this.CSS.toolbarOpened),this.blockActions.hide(),(e=this.toolboxInstance)==null||e.close(),this.Editor.BlockSettings.close())}open(e=!0){zs(()=>{this.nodes.wrapper.classList.add(this.CSS.toolbarOpened),e?this.blockActions.show():this.blockActions.hide()},50)()}make(){this.nodes.wrapper=N.make("div",this.CSS.toolbar),["content","actions"].forEach(n=>{this.nodes[n]=N.make("div",this.CSS[n])}),N.append(this.nodes.wrapper,this.nodes.content),N.append(this.nodes.content,this.nodes.actions),this.nodes.plusButton=N.make("div",this.CSS.plusButton,{innerHTML:EV}),N.append(this.nodes.actions,this.nodes.plusButton),this.readOnlyMutableListeners.on(this.nodes.plusButton,"click",()=>{this.tooltip.hide(!0),this.plusButtonClicked()},!1);const e=N.make("div");e.appendChild(document.createTextNode(cn.ui(qn.ui.toolbar.toolbox,"Add"))),e.appendChild(N.make("div",this.CSS.plusButtonShortcut,{textContent:"⇥ Tab"})),this.tooltip.onHover(this.nodes.plusButton,e,{hidingDelay:400}),this.nodes.settingsToggler=N.make("span",this.CSS.settingsToggler,{innerHTML:kV}),N.append(this.nodes.actions,this.nodes.settingsToggler),this.tooltip.onHover(this.nodes.settingsToggler,cn.ui(qn.ui.blockTunes.toggler,"Click to tune"),{hidingDelay:400}),N.append(this.nodes.actions,this.makeToolbox()),N.append(this.nodes.actions,this.Editor.BlockSettings.getElement()),N.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}makeToolbox(){return this.toolboxInstance=new vy({api:this.Editor.API.methods,tools:this.Editor.Tools.blockTools,i18nLabels:{filter:cn.ui(qn.ui.popover,"Filter"),nothingFound:cn.ui(qn.ui.popover,"Nothing found")}}),this.toolboxInstance.on(Tu.Opened,()=>{this.Editor.UI.nodes.wrapper.classList.add(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(Tu.Closed,()=>{this.Editor.UI.nodes.wrapper.classList.remove(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(Tu.BlockAdded,({block:e})=>{const{BlockManager:n,Caret:r}=this.Editor,i=n.getBlockById(e.id);i.inputs.length===0&&(i===n.lastBlock?(n.insertAtEnd(),r.setToBlock(n.lastBlock)):r.setToBlock(n.nextBlock))}),this.toolboxInstance.make()}plusButtonClicked(){var e;this.Editor.BlockManager.currentBlock=this.hoveredBlock,(e=this.toolboxInstance)==null||e.toggle()}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.settingsToggler,"mousedown",e=>{var n;e.stopPropagation(),this.settingsTogglerClicked(),(n=this.toolboxInstance)!=null&&n.opened&&this.toolboxInstance.close(),this.tooltip.hide(!0)},!0),vo()||this.eventsDispatcher.on(kT,e=>{var n;this.Editor.BlockSettings.opened||(n=this.toolboxInstance)!=null&&n.opened||this.moveAndOpen(e.block)})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}settingsTogglerClicked(){this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.BlockSettings.open(this.hoveredBlock)}drawUI(){this.Editor.BlockSettings.make(),this.make()}destroy(){this.removeAllNodes(),this.toolboxInstance&&this.toolboxInstance.destroy(),this.tooltip.destroy()}}var Fh=(t=>(t[t.Block=0]="Block",t[t.Inline=1]="Inline",t[t.Tune=2]="Tune",t))(Fh||{}),Cu=(t=>(t.Shortcut="shortcut",t.Toolbox="toolbox",t.EnabledInlineTools="inlineToolbar",t.EnabledBlockTunes="tunes",t.Config="config",t))(Cu||{}),ET=(t=>(t.Shortcut="shortcut",t.SanitizeConfig="sanitize",t))(ET||{}),Qo=(t=>(t.IsEnabledLineBreaks="enableLineBreaks",t.Toolbox="toolbox",t.ConversionConfig="conversionConfig",t.IsReadOnlySupported="isReadOnlySupported",t.PasteConfig="pasteConfig",t))(Qo||{}),yy=(t=>(t.IsInline="isInline",t.Title="title",t))(yy||{}),xT=(t=>(t.IsTune="isTune",t))(xT||{});class wy{constructor({name:e,constructable:n,config:r,api:i,isDefault:o,isInternal:s=!1,defaultPlaceholder:a}){this.api=i,this.name=e,this.constructable=n,this.config=r,this.isDefault=o,this.isInternal=s,this.defaultPlaceholder=a}get settings(){const e=this.config.config||{};return this.isDefault&&!("placeholder"in e)&&this.defaultPlaceholder&&(e.placeholder=this.defaultPlaceholder),e}reset(){if($e(this.constructable.reset))return this.constructable.reset()}prepare(){if($e(this.constructable.prepare))return this.constructable.prepare({toolName:this.name,config:this.settings})}get shortcut(){const e=this.constructable.shortcut;return this.config.shortcut||e}get sanitizeConfig(){return this.constructable.sanitize||{}}isInline(){return this.type===1}isBlock(){return this.type===0}isTune(){return this.type===2}}class BV extends xe{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.CSS={inlineToolbar:"ce-inline-toolbar",inlineToolbarShowed:"ce-inline-toolbar--showed",inlineToolbarLeftOriented:"ce-inline-toolbar--left-oriented",inlineToolbarRightOriented:"ce-inline-toolbar--right-oriented",inlineToolbarShortcut:"ce-inline-toolbar__shortcut",buttonsWrapper:"ce-inline-toolbar__buttons",actionsWrapper:"ce-inline-toolbar__actions",inlineToolButton:"ce-inline-tool",inputField:"cdx-input",focusedButton:"ce-inline-tool--focused",conversionToggler:"ce-inline-toolbar__dropdown",conversionTogglerArrow:"ce-inline-toolbar__dropdown-arrow",conversionTogglerHidden:"ce-inline-toolbar__dropdown--hidden",conversionTogglerContent:"ce-inline-toolbar__dropdown-content",togglerAndButtonsWrapper:"ce-inline-toolbar__toggler-and-button-wrapper"},this.opened=!1,this.toolbarVerticalMargin=vo()?20:6,this.buttonsList=null,this.width=0,this.flipper=null,this.tooltip=new my}toggleReadOnly(e){e?(this.destroy(),this.Editor.ConversionToolbar.destroy()):window.requestIdleCallback(()=>{this.make()},{timeout:2e3})}tryToShow(e=!1,n=!0){if(!this.allowedToShow()){e&&this.close();return}this.move(),this.open(n),this.Editor.Toolbar.close()}move(){const e=se.rect,n=this.Editor.UI.nodes.wrapper.getBoundingClientRect(),r={x:e.x-n.left,y:e.y+e.height-n.top+this.toolbarVerticalMargin};e.width&&(r.x+=Math.floor(e.width/2));const i=r.x-this.width/2,o=r.x+this.width/2;this.nodes.wrapper.classList.toggle(this.CSS.inlineToolbarLeftOriented,i<this.Editor.UI.contentRect.left),this.nodes.wrapper.classList.toggle(this.CSS.inlineToolbarRightOriented,o>this.Editor.UI.contentRect.right),this.nodes.wrapper.style.left=Math.floor(r.x)+"px",this.nodes.wrapper.style.top=Math.floor(r.y)+"px"}close(){this.opened&&(this.Editor.ReadOnly.isEnabled||(this.nodes.wrapper.classList.remove(this.CSS.inlineToolbarShowed),Array.from(this.toolsInstances.entries()).forEach(([e,n])=>{const r=this.getToolShortcut(e);r&&Ws.remove(this.Editor.UI.nodes.redactor,r),$e(n.clear)&&n.clear()}),this.opened=!1,this.flipper.deactivate(),this.Editor.ConversionToolbar.close()))}open(e=!0){if(this.opened)return;this.addToolsFiltered(),this.nodes.wrapper.classList.add(this.CSS.inlineToolbarShowed),this.buttonsList=this.nodes.buttons.querySelectorAll(`.${this.CSS.inlineToolButton}`),this.opened=!0,e&&this.Editor.ConversionToolbar.hasTools()?this.setConversionTogglerContent():this.nodes.conversionToggler.hidden=!0;let n=Array.from(this.buttonsList);n.unshift(this.nodes.conversionToggler),n=n.filter(r=>!r.hidden),this.flipper.activate(n)}containsNode(e){return this.nodes.wrapper.contains(e)}destroy(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes(),this.tooltip.destroy()}make(){this.nodes.wrapper=N.make("div",[this.CSS.inlineToolbar,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),this.nodes.togglerAndButtonsWrapper=N.make("div",this.CSS.togglerAndButtonsWrapper),this.nodes.buttons=N.make("div",this.CSS.buttonsWrapper),this.nodes.actions=N.make("div",this.CSS.actionsWrapper),this.listeners.on(this.nodes.wrapper,"mousedown",e=>{e.target.closest(`.${this.CSS.actionsWrapper}`)||e.preventDefault()}),N.append(this.nodes.wrapper,[this.nodes.togglerAndButtonsWrapper,this.nodes.actions]),N.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper),this.addConversionToggler(),N.append(this.nodes.togglerAndButtonsWrapper,this.nodes.buttons),this.prepareConversionToolbar(),window.requestAnimationFrame(()=>{this.recalculateWidth()}),this.enableFlipper()}allowedToShow(){const e=["IMG","INPUT"],n=se.get(),r=se.text;if(!n||!n.anchorNode||n.isCollapsed||r.length<1)return!1;const i=N.isElement(n.anchorNode)?n.anchorNode:n.anchorNode.parentElement;if(n&&e.includes(i.tagName)||i.closest('[contenteditable="true"]')===null)return!1;const o=this.Editor.BlockManager.getBlock(n.anchorNode);return o?o.tool.inlineTools.size!==0:!1}recalculateWidth(){this.width=this.nodes.wrapper.offsetWidth}addConversionToggler(){this.nodes.conversionToggler=N.make("div",this.CSS.conversionToggler),this.nodes.conversionTogglerContent=N.make("div",this.CSS.conversionTogglerContent);const e=N.make("div",this.CSS.conversionTogglerArrow,{innerHTML:yT});this.nodes.conversionToggler.appendChild(this.nodes.conversionTogglerContent),this.nodes.conversionToggler.appendChild(e),this.nodes.togglerAndButtonsWrapper.appendChild(this.nodes.conversionToggler),this.listeners.on(this.nodes.conversionToggler,"click",()=>{this.Editor.ConversionToolbar.toggle(n=>{!n&&this.opened?this.flipper.activate():this.opened&&this.flipper.deactivate()})}),vo()===!1&&this.tooltip.onHover(this.nodes.conversionToggler,cn.ui(qn.ui.inlineToolbar.converter,"Convert to"),{placement:"top",hidingDelay:100})}async setConversionTogglerContent(){const{BlockManager:e}=this.Editor,{currentBlock:n}=e,r=n.name,i=n.tool.conversionConfig,o=i&&i.export;this.nodes.conversionToggler.hidden=!o,this.nodes.conversionToggler.classList.toggle(this.CSS.conversionTogglerHidden,!o);const s=await n.getActiveToolboxEntry()||{};this.nodes.conversionTogglerContent.innerHTML=s.icon||s.title||Hs(r)}prepareConversionToolbar(){const e=this.Editor.ConversionToolbar.make();N.append(this.nodes.wrapper,e)}addToolsFiltered(){const e=se.get(),n=this.Editor.BlockManager.getBlock(e.anchorNode);this.nodes.buttons.innerHTML="",this.nodes.actions.innerHTML="",this.toolsInstances=new Map,Array.from(n.tool.inlineTools.values()).forEach(r=>{this.addTool(r)}),this.recalculateWidth()}addTool(e){const n=e.create(),r=n.render();if(!r){Re("Render method must return an instance of Node","warn",e.name);return}if(r.dataset.tool=e.name,this.nodes.buttons.appendChild(r),this.toolsInstances.set(e.name,n),$e(n.renderActions)){const a=n.renderActions();this.nodes.actions.appendChild(a)}this.listeners.on(r,"click",a=>{this.toolClicked(n),a.preventDefault()});const i=this.getToolShortcut(e.name);if(i)try{this.enableShortcuts(n,i)}catch{}const o=N.make("div"),s=cn.t(qn.toolNames,e.title||Hs(e.name));o.appendChild(N.text(s)),i&&o.appendChild(N.make("div",this.CSS.inlineToolbarShortcut,{textContent:dy(i)})),vo()===!1&&this.tooltip.onHover(r,o,{placement:"top",hidingDelay:100}),n.checkState(se.get())}getToolShortcut(e){const{Tools:n}=this.Editor,r=n.inlineTools.get(e),i=n.internal.inlineTools;return Array.from(i.keys()).includes(e)?this.inlineTools[e][ET.Shortcut]:r.shortcut}enableShortcuts(e,n){Ws.add({name:n,handler:r=>{const{currentBlock:i}=this.Editor.BlockManager;i&&i.tool.enabledInlineTools&&(r.preventDefault(),this.toolClicked(e))},on:this.Editor.UI.nodes.redactor})}toolClicked(e){const n=se.range;e.surround(n),this.checkToolsState(),e.renderActions!==void 0&&this.flipper.deactivate()}checkToolsState(){this.toolsInstances.forEach(e=>{e.checkState(se.get())})}get inlineTools(){const e={};return Array.from(this.Editor.Tools.inlineTools.entries()).forEach(([n,r])=>{e[n]=r.create()}),e}enableFlipper(){this.flipper=new Jr({focusedItemClass:this.CSS.focusedButton,allowedKeys:[ce.ENTER,ce.TAB]})}}class FV extends xe{keydown(e){switch(this.beforeKeydownProcessing(e),e.keyCode){case ce.BACKSPACE:this.backspace(e);break;case ce.DELETE:this.delete(e);break;case ce.ENTER:this.enter(e);break;case ce.DOWN:case ce.RIGHT:this.arrowRightAndDown(e);break;case ce.UP:case ce.LEFT:this.arrowLeftAndUp(e);break;case ce.TAB:this.tabPressed(e);break}}beforeKeydownProcessing(e){this.needToolbarClosing(e)&&aT(e.keyCode)&&(this.Editor.Toolbar.close(),this.Editor.ConversionToolbar.close(),e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||(this.Editor.BlockManager.clearFocused(),this.Editor.BlockSelection.clearSelection(e)))}keyup(e){e.shiftKey||this.Editor.UI.checkEmptiness()}tabPressed(e){this.Editor.BlockSelection.clearSelection(e);const{BlockManager:n,InlineToolbar:r,ConversionToolbar:i}=this.Editor,o=n.currentBlock;if(!o)return;const s=o.isEmpty,a=o.tool.isDefault&&s,l=!s&&i.opened,c=!s&&!se.isCollapsed&&r.opened;a?this.activateToolbox():!l&&!c&&this.activateBlockSettings()}dragOver(e){const n=this.Editor.BlockManager.getBlockByChildNode(e.target);n.dropTarget=!0}dragLeave(e){const n=this.Editor.BlockManager.getBlockByChildNode(e.target);n.dropTarget=!1}handleCommandC(e){const{BlockSelection:n}=this.Editor;n.anyBlockSelected&&n.copySelectedBlocks(e)}handleCommandX(e){const{BlockSelection:n,BlockManager:r,Caret:i}=this.Editor;n.anyBlockSelected&&n.copySelectedBlocks(e).then(()=>{const o=r.removeSelectedBlocks(),s=r.insertDefaultBlockAtIndex(o,!0);i.setToBlock(s,i.positions.START),n.clearSelection(e)})}enter(e){const{BlockManager:n,UI:r}=this.Editor;if(n.currentBlock.tool.isLineBreaksEnabled||r.someToolbarOpened&&r.someFlipperButtonFocused||e.shiftKey)return;let i=this.Editor.BlockManager.currentBlock;this.Editor.Caret.isAtStart&&!this.Editor.BlockManager.currentBlock.hasMedia?this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex):this.Editor.Caret.isAtEnd?i=this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex+1):i=this.Editor.BlockManager.split(),this.Editor.Caret.setToBlock(i),this.Editor.Toolbar.moveAndOpen(i),e.preventDefault()}backspace(e){const{BlockManager:n,Caret:r}=this.Editor,{currentBlock:i,previousBlock:o}=n;if(!(!se.isCollapsed||!r.isAtStart)){if(e.preventDefault(),this.Editor.Toolbar.close(),i.currentInput!==i.firstInput){r.navigatePrevious();return}if(o!==null){if(o.isEmpty){n.removeBlock(o);return}if(i.isEmpty){n.removeBlock(i);const s=n.currentBlock;r.setToBlock(s,r.positions.END);return}T1(i,o)?this.mergeBlocks(o,i):r.setToBlock(o,r.positions.END)}}}delete(e){const{BlockManager:n,Caret:r}=this.Editor,{currentBlock:i,nextBlock:o}=n;if(!(!se.isCollapsed||!r.isAtEnd)){if(e.preventDefault(),this.Editor.Toolbar.close(),i.currentInput!==i.lastInput){r.navigateNext();return}if(o!==null){if(o.isEmpty){n.removeBlock(o);return}if(i.isEmpty){n.removeBlock(i),r.setToBlock(o,r.positions.START);return}T1(i,o)?this.mergeBlocks(i,o):r.setToBlock(o,r.positions.START)}}}mergeBlocks(e,n){const{BlockManager:r,Caret:i,Toolbar:o}=this.Editor;i.createShadow(e.pluginsContent),r.mergeBlocks(e,n).then(()=>{window.requestAnimationFrame(()=>{i.restoreCaret(e.pluginsContent),e.pluginsContent.normalize(),o.close()})})}arrowRightAndDown(e){const n=Jr.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===ce.TAB);if(this.Editor.UI.someToolbarOpened&&n)return;this.Editor.BlockManager.clearFocused(),this.Editor.Toolbar.close();const r=this.Editor.Caret.isAtEnd||this.Editor.BlockSelection.anyBlockSelected;if(e.shiftKey&&e.keyCode===ce.DOWN&&r){this.Editor.CrossBlockSelection.toggleBlockSelectedState();return}(e.keyCode===ce.DOWN||e.keyCode===ce.RIGHT&&!this.isRtl?this.Editor.Caret.navigateNext():this.Editor.Caret.navigatePrevious())?e.preventDefault():zs(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(e)}arrowLeftAndUp(e){if(this.Editor.UI.someToolbarOpened){if(Jr.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===ce.TAB))return;this.Editor.UI.closeAllToolbars()}this.Editor.BlockManager.clearFocused(),this.Editor.Toolbar.close();const n=this.Editor.Caret.isAtStart||this.Editor.BlockSelection.anyBlockSelected;if(e.shiftKey&&e.keyCode===ce.UP&&n){this.Editor.CrossBlockSelection.toggleBlockSelectedState(!1);return}(e.keyCode===ce.UP||e.keyCode===ce.LEFT&&!this.isRtl?this.Editor.Caret.navigatePrevious():this.Editor.Caret.navigateNext())?e.preventDefault():zs(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(e)}needToolbarClosing(e){const n=e.keyCode===ce.ENTER&&this.Editor.Toolbar.toolbox.opened,r=e.keyCode===ce.ENTER&&this.Editor.BlockSettings.opened,i=e.keyCode===ce.ENTER&&this.Editor.InlineToolbar.opened,o=e.keyCode===ce.ENTER&&this.Editor.ConversionToolbar.opened,s=e.keyCode===ce.TAB;return!(e.shiftKey||s||n||r||i||o)}activateToolbox(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()}activateBlockSettings(){this.Editor.Toolbar.opened||(this.Editor.BlockManager.currentBlock.focused=!0,this.Editor.Toolbar.moveAndOpen()),this.Editor.BlockSettings.opened||this.Editor.BlockSettings.open()}}class qf{constructor(e){this.blocks=[],this.workingArea=e}get length(){return this.blocks.length}get array(){return this.blocks}get nodes(){return lT(this.workingArea.children)}static set(e,n,r){return isNaN(Number(n))?(Reflect.set(e,n,r),!0):(e.insert(+n,r),!0)}static get(e,n){return isNaN(Number(n))?Reflect.get(e,n):e.get(+n)}push(e){this.blocks.push(e),this.insertToDOM(e)}swap(e,n){const r=this.blocks[n];N.swap(this.blocks[e].holder,r.holder),this.blocks[n]=this.blocks[e],this.blocks[e]=r}move(e,n){const r=this.blocks.splice(n,1)[0],i=e-1,o=Math.max(0,i),s=this.blocks[o];e>0?this.insertToDOM(r,"afterend",s):this.insertToDOM(r,"beforebegin",s),this.blocks.splice(e,0,r);const a=this.composeBlockEvent("move",{fromIndex:n,toIndex:e});r.call(Rr.MOVED,a)}insert(e,n,r=!1){if(!this.length){this.push(n);return}e>this.length&&(e=this.length),r&&(this.blocks[e].holder.remove(),this.blocks[e].call(Rr.REMOVED));const i=r?1:0;if(this.blocks.splice(e,i,n),e>0){const o=this.blocks[e-1];this.insertToDOM(n,"afterend",o)}else{const o=this.blocks[e+1];o?this.insertToDOM(n,"beforebegin",o):this.insertToDOM(n)}}replace(e,n){if(this.blocks[e]===void 0)throw Error("Incorrect index");this.blocks[e].holder.replaceWith(n.holder),this.blocks[e]=n}insertMany(e,n){const r=new DocumentFragment;for(const i of e)r.appendChild(i.holder);if(this.length>0){if(n>0){const i=Math.min(n-1,this.length-1);this.blocks[i].holder.after(r)}else n===0&&this.workingArea.prepend(r);this.blocks.splice(n,0,...e)}else this.blocks.push(...e),this.workingArea.appendChild(r);e.forEach(i=>i.call(Rr.RENDERED))}remove(e){isNaN(e)&&(e=this.length-1),this.blocks[e].holder.remove(),this.blocks[e].call(Rr.REMOVED),this.blocks.splice(e,1)}removeAll(){this.workingArea.innerHTML="",this.blocks.forEach(e=>e.call(Rr.REMOVED)),this.blocks.length=0}insertAfter(e,n){const r=this.blocks.indexOf(e);this.insert(r+1,n)}get(e){return this.blocks[e]}indexOf(e){return this.blocks.indexOf(e)}insertToDOM(e,n,r){n?r.holder.insertAdjacentElement(n,e.holder):this.workingArea.appendChild(e.holder),e.call(Rr.RENDERED)}composeBlockEvent(e,n){return new CustomEvent(e,{detail:n})}}const I1="block-removed",A1="block-added",VV="block-moved",R1="block-changed";class $V{constructor(){this.completed=Promise.resolve()}add(e){return new Promise((n,r)=>{this.completed=this.completed.then(e).then(n).catch(r)})}}class UV extends xe{constructor(){super(...arguments),this._currentBlockIndex=-1,this._blocks=null}get currentBlockIndex(){return this._currentBlockIndex}set currentBlockIndex(e){this._currentBlockIndex=e}get firstBlock(){return this._blocks[0]}get lastBlock(){return this._blocks[this._blocks.length-1]}get currentBlock(){return this._blocks[this.currentBlockIndex]}set currentBlock(e){this.currentBlockIndex=this.getBlockIndex(e)}get nextBlock(){return this.currentBlockIndex===this._blocks.length-1?null:this._blocks[this.currentBlockIndex+1]}get nextContentfulBlock(){return this.blocks.slice(this.currentBlockIndex+1).find(e=>!!e.inputs.length)}get previousContentfulBlock(){return this.blocks.slice(0,this.currentBlockIndex).reverse().find(e=>!!e.inputs.length)}get previousBlock(){return this.currentBlockIndex===0?null:this._blocks[this.currentBlockIndex-1]}get blocks(){return this._blocks.array}get isEditorEmpty(){return this.blocks.every(e=>e.isEmpty)}prepare(){const e=new qf(this.Editor.UI.nodes.redactor);this._blocks=new Proxy(e,{set:qf.set,get:qf.get}),this.listeners.on(document,"copy",n=>this.Editor.BlockEvents.handleCommandC(n))}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}composeBlock({tool:e,data:n={},id:r=void 0,tunes:i={}}){const o=this.Editor.ReadOnly.isEnabled,s=this.Editor.Tools.blockTools.get(e),a=new gt({id:r,data:n,tool:s,api:this.Editor.API,readOnly:o,tunesData:i},this.eventsDispatcher);return o||window.requestIdleCallback(()=>{this.bindBlockEvents(a)},{timeout:2e3}),a}insert({id:e=void 0,tool:n=this.config.defaultBlock,data:r={},index:i,needToFocus:o=!0,replace:s=!1,tunes:a={}}={}){let l=i;l===void 0&&(l=this.currentBlockIndex+(s?0:1));const c=this.composeBlock({id:e,tool:n,data:r,tunes:a});return s&&this.blockDidMutated(I1,this.getBlockByIndex(l),{index:l}),this._blocks.insert(l,c,s),this.blockDidMutated(A1,c,{index:l}),o?this.currentBlockIndex=l:l<=this.currentBlockIndex&&this.currentBlockIndex++,c}insertMany(e,n=0){this._blocks.insertMany(e,n)}async update(e,n){const r=await e.data,i=this.composeBlock({id:e.id,tool:e.name,data:Object.assign({},r,n),tunes:e.tunes}),o=this.getBlockIndex(e);return this._blocks.replace(o,i),this.blockDidMutated(R1,i,{index:o}),i}replace(e,n,r){const i=this.getBlockIndex(e);this.insert({tool:n,data:r,index:i,replace:!0})}paste(e,n,r=!1){const i=this.insert({tool:e,replace:r});try{window.requestIdleCallback(()=>{i.call(Rr.ON_PASTE,n)})}catch(o){Re(`${e}: onPaste callback call is failed`,"error",o)}return i}insertDefaultBlockAtIndex(e,n=!1){const r=this.composeBlock({tool:this.config.defaultBlock});return this._blocks[e]=r,this.blockDidMutated(A1,r,{index:e}),n?this.currentBlockIndex=e:e<=this.currentBlockIndex&&this.currentBlockIndex++,r}insertAtEnd(){return this.currentBlockIndex=this.blocks.length-1,this.insert()}async mergeBlocks(e,n){const r=await n.data;nr(r)||await e.mergeWith(r),this.removeBlock(n),this.currentBlockIndex=this._blocks.indexOf(e)}removeBlock(e,n=!0){return new Promise(r=>{const i=this._blocks.indexOf(e);if(!this.validateIndex(i))throw new Error("Can't find a Block to remove");e.destroy(),this._blocks.remove(i),this.blockDidMutated(I1,e,{index:i}),this.currentBlockIndex>=i&&this.currentBlockIndex--,this.blocks.length?i===0&&(this.currentBlockIndex=0):(this.currentBlockIndex=-1,n&&this.insert()),r()})}removeSelectedBlocks(){let e;for(let n=this.blocks.length-1;n>=0;n--)this.blocks[n].selected&&(this.removeBlock(this.blocks[n]),e=n);return e}removeAllBlocks(){for(let e=this.blocks.length-1;e>=0;e--)this._blocks.remove(e);this.currentBlockIndex=-1,this.insert(),this.currentBlock.firstInput.focus()}split(){const e=this.Editor.Caret.extractFragmentFromCaretPosition(),n=N.make("div");n.appendChild(e);const r={text:N.isEmpty(n)?"":n.innerHTML};return this.insert({data:r})}getBlockByIndex(e){return e===-1&&(e=this._blocks.length-1),this._blocks[e]}getBlockIndex(e){return this._blocks.indexOf(e)}getBlockById(e){return this._blocks.array.find(n=>n.id===e)}getBlock(e){N.isElement(e)||(e=e.parentNode);const n=this._blocks.nodes,r=e.closest(`.${gt.CSS.wrapper}`),i=n.indexOf(r);if(i>=0)return this._blocks[i]}highlightCurrentNode(){this.clearFocused(),this.currentBlock.focused=!0}clearFocused(){this.blocks.forEach(e=>{e.focused=!1})}setCurrentBlockByChildNode(e){N.isElement(e)||(e=e.parentNode);const n=e.closest(`.${gt.CSS.wrapper}`);if(!n)return;const r=n.closest(`.${this.Editor.UI.CSS.editorWrapper}`);if(r!=null&&r.isEqualNode(this.Editor.UI.nodes.wrapper))return this.currentBlockIndex=this._blocks.nodes.indexOf(n),this.currentBlock.updateCurrentInput(),this.currentBlock}getBlockByChildNode(e){N.isElement(e)||(e=e.parentNode);const n=e.closest(`.${gt.CSS.wrapper}`);return this.blocks.find(r=>r.holder===n)}swap(e,n){this._blocks.swap(e,n),this.currentBlockIndex=n}move(e,n=this.currentBlockIndex){if(isNaN(e)||isNaN(n)){Re("Warning during 'move' call: incorrect indices provided.","warn");return}if(!this.validateIndex(e)||!this.validateIndex(n)){Re("Warning during 'move' call: indices cannot be lower than 0 or greater than the amount of blocks.","warn");return}this._blocks.move(e,n),this.currentBlockIndex=e,this.blockDidMutated(VV,this.currentBlock,{fromIndex:n,toIndex:e})}async convert(e,n,r){if(!await e.save())throw new Error("Could not convert Block. Failed to extract original Block data.");const i=this.Editor.Tools.blockTools.get(n);if(!i)throw new Error(`Could not convert Block. Tool «${n}» not found.`);const o=await e.exportDataAsString(),s=Nr(o,i.sanitizeConfig);let a=zF(s,i.conversionConfig);r&&(a=Object.assign(a,r)),this.replace(e,i.name,a)}dropPointer(){this.currentBlockIndex=-1,this.clearFocused()}async clear(e=!1){const n=new $V;this.blocks.forEach(r=>{n.add(async()=>{await this.removeBlock(r,!1)})}),await n.completed,this.dropPointer(),e&&this.insert(),this.Editor.UI.checkEmptiness()}async destroy(){await Promise.all(this.blocks.map(e=>e.destroy()))}bindBlockEvents(e){const{BlockEvents:n}=this.Editor;this.readOnlyMutableListeners.on(e.holder,"keydown",r=>{n.keydown(r)}),this.readOnlyMutableListeners.on(e.holder,"keyup",r=>{n.keyup(r)}),this.readOnlyMutableListeners.on(e.holder,"dragover",r=>{n.dragOver(r)}),this.readOnlyMutableListeners.on(e.holder,"dragleave",r=>{n.dragLeave(r)}),e.on("didMutated",r=>this.blockDidMutated(R1,r,{index:this.getBlockIndex(r)}))}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}enableModuleBindings(){this.readOnlyMutableListeners.on(document,"cut",e=>this.Editor.BlockEvents.handleCommandX(e)),this.blocks.forEach(e=>{this.bindBlockEvents(e)})}validateIndex(e){return!(e<0||e>=this._blocks.length)}blockDidMutated(e,n,r){const i=new CustomEvent(e,{detail:{target:new ro(n),...r}});return this.eventsDispatcher.emit(fT,{event:i}),n}}class jV extends xe{constructor(){super(...arguments),this.anyBlockSelectedCache=null,this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1}get sanitizerConfig(){return{p:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},ol:{},ul:{},li:{},br:!0,img:{src:!0,width:!0,height:!0},a:{href:!0},b:{},i:{},u:{}}}get allBlocksSelected(){const{BlockManager:e}=this.Editor;return e.blocks.every(n=>n.selected===!0)}set allBlocksSelected(e){const{BlockManager:n}=this.Editor;n.blocks.forEach(r=>{r.selected=e}),this.clearCache()}get anyBlockSelected(){const{BlockManager:e}=this.Editor;return this.anyBlockSelectedCache===null&&(this.anyBlockSelectedCache=e.blocks.some(n=>n.selected===!0)),this.anyBlockSelectedCache}get selectedBlocks(){return this.Editor.BlockManager.blocks.filter(e=>e.selected)}prepare(){this.selection=new se,Ws.add({name:"CMD+A",handler:e=>{const{BlockManager:n,ReadOnly:r}=this.Editor;if(r.isEnabled){e.preventDefault(),this.selectAllBlocks();return}n.currentBlock&&this.handleCommandA(e)},on:this.Editor.UI.nodes.redactor})}toggleReadOnly(){se.get().removeAllRanges(),this.allBlocksSelected=!1}unSelectBlockByIndex(e){const{BlockManager:n}=this.Editor;let r;isNaN(e)?r=n.currentBlock:r=n.getBlockByIndex(e),r.selected=!1,this.clearCache()}clearSelection(e,n=!1){const{BlockManager:r,Caret:i,RectangleSelection:o}=this.Editor;this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1;const s=e&&e instanceof KeyboardEvent,a=s&&aT(e.keyCode);if(this.anyBlockSelected&&s&&a&&!se.isSelectionExists){const l=r.removeSelectedBlocks();r.insertDefaultBlockAtIndex(l,!0),i.setToBlock(r.currentBlock),zs(()=>{const c=e.key;i.insertContentAtCaretPosition(c.length>1?"":c)},20)()}if(this.Editor.CrossBlockSelection.clear(e),!this.anyBlockSelected||o.isRectActivated()){this.Editor.RectangleSelection.clearSelection();return}n&&this.selection.restore(),this.allBlocksSelected=!1}copySelectedBlocks(e){e.preventDefault();const n=N.make("div");this.selectedBlocks.forEach(o=>{const s=Nr(o.holder.innerHTML,this.sanitizerConfig),a=N.make("p");a.innerHTML=s,n.appendChild(a)});const r=Array.from(n.childNodes).map(o=>o.textContent).join(`

`),i=n.innerHTML;return e.clipboardData.setData("text/plain",r),e.clipboardData.setData("text/html",i),Promise.all(this.selectedBlocks.map(o=>o.save())).then(o=>{try{e.clipboardData.setData(this.Editor.Paste.MIME_TYPE,JSON.stringify(o))}catch{}})}selectBlockByIndex(e){const{BlockManager:n}=this.Editor;n.clearFocused();let r;isNaN(e)?r=n.currentBlock:r=n.getBlockByIndex(e),this.selection.save(),se.get().removeAllRanges(),r.selected=!0,this.clearCache(),this.Editor.InlineToolbar.close()}clearCache(){this.anyBlockSelectedCache=null}destroy(){Ws.remove(this.Editor.UI.nodes.redactor,"CMD+A")}handleCommandA(e){if(this.Editor.RectangleSelection.clearSelection(),N.isNativeInput(e.target)&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}const n=this.Editor.BlockManager.getBlock(e.target).inputs;if(n.length>1&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}if(n.length===1&&!this.needToSelectAll){this.needToSelectAll=!0;return}this.needToSelectAll?(e.preventDefault(),this.selectAllBlocks(),this.needToSelectAll=!1,this.readyToBlockSelection=!1,this.Editor.ConversionToolbar.close()):this.readyToBlockSelection&&(e.preventDefault(),this.selectBlockByIndex(),this.needToSelectAll=!0)}selectAllBlocks(){this.selection.save(),se.get().removeAllRanges(),this.allBlocksSelected=!0,this.Editor.InlineToolbar.close()}}class Ad extends xe{get positions(){return{START:"start",END:"end",DEFAULT:"default"}}static get CSS(){return{shadowCaret:"cdx-shadow-caret"}}get isAtStart(){const e=se.get(),n=N.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput);let r=e.focusNode;if(N.isNativeInput(n))return n.selectionEnd===0;if(!e.anchorNode)return!1;let i=r.textContent.search(/\S/);i===-1&&(i=0);let o=e.focusOffset;return r.nodeType!==Node.TEXT_NODE&&r.childNodes.length&&(r.childNodes[o]?(r=r.childNodes[o],o=0):(r=r.childNodes[o-1],o=r.textContent.length)),(N.isLineBreakTag(n)||N.isEmpty(n))&&this.getHigherLevelSiblings(r,"left").every(s=>{const a=N.isLineBreakTag(s),l=s.children.length===1&&N.isLineBreakTag(s.children[0]),c=a||l;return N.isEmpty(s)&&!c})&&o===i?!0:n===null||r===n&&o<=i}get isAtEnd(){const e=se.get();let n=e.focusNode;const r=N.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput,!0);if(N.isNativeInput(r))return r.selectionEnd===r.value.length;if(!e.focusNode)return!1;let i=e.focusOffset;if(n.nodeType!==Node.TEXT_NODE&&n.childNodes.length&&(n.childNodes[i-1]?(n=n.childNodes[i-1],i=n.textContent.length):(n=n.childNodes[0],i=0)),N.isLineBreakTag(r)||N.isEmpty(r)){const s=this.getHigherLevelSiblings(n,"right");if(s.every((a,l)=>l===s.length-1&&N.isLineBreakTag(a)||N.isEmpty(a)&&!N.isLineBreakTag(a))&&i===n.textContent.length)return!0}const o=r.textContent.replace(/\s+$/,"");return n===r&&i>=o.length}setToBlock(e,n=this.positions.DEFAULT,r=0){const{BlockManager:i}=this.Editor;let o;switch(n){case this.positions.START:o=e.firstInput;break;case this.positions.END:o=e.lastInput;break;default:o=e.currentInput}if(!o)return;const s=N.getDeepestNode(o,n===this.positions.END),a=N.getContentLength(s);switch(!0){case n===this.positions.START:r=0;break;case n===this.positions.END:case r>a:r=a;break}zs(()=>{this.set(s,r)},20)(),i.setCurrentBlockByChildNode(e.holder),i.currentBlock.currentInput=o}setToInput(e,n=this.positions.DEFAULT,r=0){const{currentBlock:i}=this.Editor.BlockManager,o=N.getDeepestNode(e);switch(n){case this.positions.START:this.set(o,0);break;case this.positions.END:this.set(o,N.getContentLength(o));break;default:r&&this.set(o,r)}i.currentInput=e}set(e,n=0){const{top:r,bottom:i}=se.setCursor(e,n),{innerHeight:o}=window;r<0&&window.scrollBy(0,r),i>o&&window.scrollBy(0,i-o)}setToTheLastBlock(){const e=this.Editor.BlockManager.lastBlock;if(e)if(e.tool.isDefault&&e.isEmpty)this.setToBlock(e);else{const n=this.Editor.BlockManager.insertAtEnd();this.setToBlock(n)}}extractFragmentFromCaretPosition(){const e=se.get();if(e.rangeCount){const n=e.getRangeAt(0),r=this.Editor.BlockManager.currentBlock.currentInput;if(n.deleteContents(),r)if(N.isNativeInput(r)){const i=r,o=document.createDocumentFragment(),s=i.value.substring(0,i.selectionStart),a=i.value.substring(i.selectionStart);return o.textContent=a,i.value=s,o}else{const i=n.cloneRange();return i.selectNodeContents(r),i.setStart(n.endContainer,n.endOffset),i.extractContents()}}}navigateNext(){const{BlockManager:e}=this.Editor,{currentBlock:n,nextContentfulBlock:r}=e,{nextInput:i}=n,o=this.isAtEnd;let s=r;if(!s&&!i){if(n.tool.isDefault||!o)return!1;s=e.insertAtEnd()}return o?(i?this.setToInput(i,this.positions.START):this.setToBlock(s,this.positions.START),!0):!1}navigatePrevious(){const{currentBlock:e,previousContentfulBlock:n}=this.Editor.BlockManager;if(!e)return!1;const{previousInput:r}=e;return!n&&!r?!1:this.isAtStart?(r?this.setToInput(r,this.positions.END):this.setToBlock(n,this.positions.END),!0):!1}createShadow(e){const n=document.createElement("span");n.classList.add(Ad.CSS.shadowCaret),e.insertAdjacentElement("beforeend",n)}restoreCaret(e){const n=e.querySelector(`.${Ad.CSS.shadowCaret}`);if(!n)return;new se().expandToTag(n);const r=document.createRange();r.selectNode(n),r.extractContents()}insertContentAtCaretPosition(e){const n=document.createDocumentFragment(),r=document.createElement("div"),i=se.get(),o=se.range;r.innerHTML=e,Array.from(r.childNodes).forEach(c=>n.appendChild(c)),n.childNodes.length===0&&n.appendChild(new Text);const s=n.lastChild;o.deleteContents(),o.insertNode(n);const a=document.createRange(),l=s.nodeType===Node.TEXT_NODE?s:s.firstChild;l!==null&&l.textContent!==null&&a.setStart(l,l.textContent.length),i.removeAllRanges(),i.addRange(a)}getHigherLevelSiblings(e,n){let r=e;const i=[];for(;r.parentNode&&r.parentNode.contentEditable!=="true";)r=r.parentNode;const o=n==="left"?"previousSibling":"nextSibling";for(;r[o];)r=r[o],i.push(r);return i}}class zV extends xe{constructor(){super(...arguments),this.onMouseUp=()=>{this.listeners.off(document,"mouseover",this.onMouseOver),this.listeners.off(document,"mouseup",this.onMouseUp)},this.onMouseOver=e=>{const{BlockManager:n,BlockSelection:r}=this.Editor,i=n.getBlockByChildNode(e.relatedTarget)||this.lastSelectedBlock,o=n.getBlockByChildNode(e.target);if(!(!i||!o)&&o!==i){if(i===this.firstSelectedBlock){se.get().removeAllRanges(),i.selected=!0,o.selected=!0,r.clearCache();return}if(o===this.firstSelectedBlock){i.selected=!1,o.selected=!1,r.clearCache();return}this.Editor.InlineToolbar.close(),this.toggleBlocksSelectedState(i,o),this.lastSelectedBlock=o}}}async prepare(){this.listeners.on(document,"mousedown",e=>{this.enableCrossBlockSelection(e)})}watchSelection(e){if(e.button!==xF.LEFT)return;const{BlockManager:n}=this.Editor;this.firstSelectedBlock=n.getBlock(e.target),this.lastSelectedBlock=this.firstSelectedBlock,this.listeners.on(document,"mouseover",this.onMouseOver),this.listeners.on(document,"mouseup",this.onMouseUp)}get isCrossBlockSelectionStarted(){return!!this.firstSelectedBlock&&!!this.lastSelectedBlock}toggleBlockSelectedState(e=!0){const{BlockManager:n,BlockSelection:r}=this.Editor;this.lastSelectedBlock||(this.lastSelectedBlock=this.firstSelectedBlock=n.currentBlock),this.firstSelectedBlock===this.lastSelectedBlock&&(this.firstSelectedBlock.selected=!0,r.clearCache(),se.get().removeAllRanges());const i=n.blocks.indexOf(this.lastSelectedBlock)+(e?1:-1),o=n.blocks[i];o&&(this.lastSelectedBlock.selected!==o.selected?(o.selected=!0,r.clearCache()):(this.lastSelectedBlock.selected=!1,r.clearCache()),this.lastSelectedBlock=o,this.Editor.InlineToolbar.close(),o.holder.scrollIntoView({block:"nearest"}))}clear(e){const{BlockManager:n,BlockSelection:r,Caret:i}=this.Editor,o=n.blocks.indexOf(this.firstSelectedBlock),s=n.blocks.indexOf(this.lastSelectedBlock);if(r.anyBlockSelected&&o>-1&&s>-1)if(e&&e instanceof KeyboardEvent)switch(e.keyCode){case ce.DOWN:case ce.RIGHT:i.setToBlock(n.blocks[Math.max(o,s)],i.positions.END);break;case ce.UP:case ce.LEFT:i.setToBlock(n.blocks[Math.min(o,s)],i.positions.START);break;default:i.setToBlock(n.blocks[Math.max(o,s)],i.positions.END)}else i.setToBlock(n.blocks[Math.max(o,s)],i.positions.END);this.firstSelectedBlock=this.lastSelectedBlock=null}enableCrossBlockSelection(e){const{UI:n}=this.Editor;se.isCollapsed||this.Editor.BlockSelection.clearSelection(e),n.nodes.redactor.contains(e.target)?this.watchSelection(e):this.Editor.BlockSelection.clearSelection(e)}toggleBlocksSelectedState(e,n){const{BlockManager:r,BlockSelection:i}=this.Editor,o=r.blocks.indexOf(e),s=r.blocks.indexOf(n),a=e.selected!==n.selected;for(let l=Math.min(o,s);l<=Math.max(o,s);l++){const c=r.blocks[l];c!==this.firstSelectedBlock&&c!==(a?e:n)&&(r.blocks[l].selected=!r.blocks[l].selected,i.clearCache())}}}class HV extends xe{constructor(){super(...arguments),this.isStartedAtEditor=!1}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}enableModuleBindings(){const{UI:e}=this.Editor;this.readOnlyMutableListeners.on(e.nodes.holder,"drop",async n=>{await this.processDrop(n)},!0),this.readOnlyMutableListeners.on(e.nodes.holder,"dragstart",()=>{this.processDragStart()}),this.readOnlyMutableListeners.on(e.nodes.holder,"dragover",n=>{this.processDragOver(n)},!0)}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}async processDrop(e){const{BlockManager:n,Caret:r,Paste:i}=this.Editor;e.preventDefault(),n.blocks.forEach(s=>{s.dropTarget=!1}),se.isAtEditor&&!se.isCollapsed&&this.isStartedAtEditor&&document.execCommand("delete"),this.isStartedAtEditor=!1;const o=n.setCurrentBlockByChildNode(e.target);if(o)this.Editor.Caret.setToBlock(o,r.positions.END);else{const s=n.setCurrentBlockByChildNode(n.lastBlock.holder);this.Editor.Caret.setToBlock(s,r.positions.END)}await i.processDataTransfer(e.dataTransfer,!0)}processDragStart(){se.isAtEditor&&!se.isCollapsed&&(this.isStartedAtEditor=!0),this.Editor.InlineToolbar.close()}processDragOver(e){e.preventDefault()}}class WV extends xe{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.disabled=!1,this.batchingTimeout=null,this.batchingOnChangeQueue=new Map,this.batchTime=400,this.mutationObserver=new MutationObserver(r=>{this.redactorChanged(r)}),this.eventsDispatcher.on(fT,r=>{this.particularBlockChanged(r.event)}),this.eventsDispatcher.on(pT,()=>{this.disable()}),this.eventsDispatcher.on(mT,()=>{this.enable()})}enable(){this.mutationObserver.observe(this.Editor.UI.nodes.redactor,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),this.disabled=!1}disable(){this.mutationObserver.disconnect(),this.disabled=!0}particularBlockChanged(e){this.disabled||!$e(this.config.onChange)||(this.batchingOnChangeQueue.set(`block:${e.detail.target.id}:event:${e.type}`,e),this.batchingTimeout&&clearTimeout(this.batchingTimeout),this.batchingTimeout=setTimeout(()=>{let n;this.batchingOnChangeQueue.size===1?n=this.batchingOnChangeQueue.values().next().value:n=Array.from(this.batchingOnChangeQueue.values()),this.config.onChange&&this.config.onChange(this.Editor.API.methods,n),this.batchingOnChangeQueue.clear()},this.batchTime))}redactorChanged(e){this.eventsDispatcher.emit(Vm,{mutations:e})}}const ST=class extends xe{constructor(){super(...arguments),this.MIME_TYPE="application/x-editor-js",this.toolsTags={},this.tagsByTool={},this.toolsPatterns=[],this.toolsFiles={},this.exceptionList=[],this.processTool=t=>{try{const e=t.create({},{},!1);if(t.pasteConfig===!1){this.exceptionList.push(t.name);return}if(!$e(e.onPaste))return;this.getTagsConfig(t),this.getFilesConfig(t),this.getPatternsConfig(t)}catch(e){Re(`Paste handling for «${t.name}» Tool hasn't been set up because of the error`,"warn",e)}},this.handlePasteEvent=async t=>{const{BlockManager:e,Toolbar:n}=this.Editor,r=e.setCurrentBlockByChildNode(t.target);!r||this.isNativeBehaviour(t.target)&&!t.clipboardData.types.includes("Files")||r&&this.exceptionList.includes(r.name)||(t.preventDefault(),this.processDataTransfer(t.clipboardData),e.clearFocused(),n.close())}}async prepare(){this.processTools()}toggleReadOnly(t){t?this.unsetCallback():this.setCallback()}async processDataTransfer(t,e=!1){const{Tools:n}=this.Editor,r=t.types;if((r.includes?r.includes("Files"):r.contains("Files"))&&!nr(this.toolsFiles)){await this.processFiles(t.files);return}const i=t.getData(this.MIME_TYPE),o=t.getData("text/plain");let s=t.getData("text/html");if(i)try{this.insertEditorJSData(JSON.parse(i));return}catch{}e&&o.trim()&&s.trim()&&(s="<p>"+(s.trim()?s:o)+"</p>");const a=Object.keys(this.toolsTags).reduce((u,d)=>(u[d.toLowerCase()]=this.toolsTags[d].sanitizationConfig??{},u),{}),l=Object.assign({},a,n.getAllInlineToolsSanitizeConfig(),{br:{}}),c=Nr(s,l);!c.trim()||c.trim()===o||!N.isHTMLString(c)?await this.processText(o):await this.processText(c,!0)}async processText(t,e=!1){const{Caret:n,BlockManager:r}=this.Editor,i=e?this.processHTML(t):this.processPlain(t);if(!i.length)return;if(i.length===1){i[0].isBlock?this.processSingleBlock(i.pop()):this.processInlinePaste(i.pop());return}const o=r.currentBlock&&r.currentBlock.tool.isDefault&&r.currentBlock.isEmpty;i.map(async(s,a)=>this.insertBlock(s,a===0&&o)),r.currentBlock&&n.setToBlock(r.currentBlock,n.positions.END)}setCallback(){this.listeners.on(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}unsetCallback(){this.listeners.off(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}processTools(){const t=this.Editor.Tools.blockTools;Array.from(t.values()).forEach(this.processTool)}collectTagNames(t){return $i(t)?[t]:Dt(t)?Object.keys(t):[]}getTagsConfig(t){if(t.pasteConfig===!1)return;const e=t.pasteConfig.tags||[],n=[];e.forEach(r=>{const i=this.collectTagNames(r);n.push(...i),i.forEach(o=>{if(Object.prototype.hasOwnProperty.call(this.toolsTags,o)){Re(`Paste handler for «${t.name}» Tool on «${o}» tag is skipped because it is already used by «${this.toolsTags[o].tool.name}» Tool.`,"warn");return}const s=Dt(r)?r[o]:null;this.toolsTags[o.toUpperCase()]={tool:t,sanitizationConfig:s}})}),this.tagsByTool[t.name]=n.map(r=>r.toUpperCase())}getFilesConfig(t){if(t.pasteConfig===!1)return;const{files:e={}}=t.pasteConfig;let{extensions:n,mimeTypes:r}=e;!n&&!r||(n&&!Array.isArray(n)&&(Re(`«extensions» property of the onDrop config for «${t.name}» Tool should be an array`),n=[]),r&&!Array.isArray(r)&&(Re(`«mimeTypes» property of the onDrop config for «${t.name}» Tool should be an array`),r=[]),r&&(r=r.filter(i=>AF(i)?!0:(Re(`MIME type value «${i}» for the «${t.name}» Tool is not a valid MIME type`,"warn"),!1))),this.toolsFiles[t.name]={extensions:n||[],mimeTypes:r||[]})}getPatternsConfig(t){t.pasteConfig===!1||!t.pasteConfig.patterns||nr(t.pasteConfig.patterns)||Object.entries(t.pasteConfig.patterns).forEach(([e,n])=>{n instanceof RegExp||Re(`Pattern ${n} for «${t.name}» Tool is skipped because it should be a Regexp instance.`,"warn"),this.toolsPatterns.push({key:e,pattern:n,tool:t})})}isNativeBehaviour(t){return N.isNativeInput(t)}async processFiles(t){const{BlockManager:e}=this.Editor;let n;n=await Promise.all(Array.from(t).map(i=>this.processFile(i))),n=n.filter(i=>!!i);const r=e.currentBlock.tool.isDefault&&e.currentBlock.isEmpty;n.forEach((i,o)=>{e.paste(i.type,i.event,o===0&&r)})}async processFile(t){const e=IF(t),n=Object.entries(this.toolsFiles).find(([i,{mimeTypes:o,extensions:s}])=>{const[a,l]=t.type.split("/"),c=s.find(d=>d.toLowerCase()===e.toLowerCase()),u=o.find(d=>{const[h,f]=d.split("/");return h===a&&(f===l||f==="*")});return!!c||!!u});if(!n)return;const[r]=n;return{event:this.composePasteEvent("file",{file:t}),type:r}}processHTML(t){const{Tools:e}=this.Editor,n=N.make("DIV");return n.innerHTML=t,this.getNodes(n).map(r=>{let i,o=e.defaultTool,s=!1;switch(r.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:i=N.make("div"),i.appendChild(r);break;case Node.ELEMENT_NODE:i=r,s=!0,this.toolsTags[i.tagName]&&(o=this.toolsTags[i.tagName].tool);break}const{tags:a}=o.pasteConfig||{tags:[]},l=a.reduce((d,h)=>(this.collectTagNames(h).forEach(f=>{const m=Dt(h)?h[f]:null;d[f.toLowerCase()]=m||{}}),d),{}),c=Object.assign({},l,o.baseSanitizeConfig);if(i.tagName.toLowerCase()==="table"){const d=Nr(i.outerHTML,c);i=N.make("div",void 0,{innerHTML:d}).firstChild}else i.innerHTML=Nr(i.innerHTML,c);const u=this.composePasteEvent("tag",{data:i});return{content:i,isBlock:s,tool:o.name,event:u}}).filter(r=>{const i=N.isEmpty(r.content),o=N.isSingleTag(r.content);return!i||o})}processPlain(t){const{defaultBlock:e}=this.config;if(!t)return[];const n=e;return t.split(/\r?\n/).filter(r=>r.trim()).map(r=>{const i=N.make("div");i.textContent=r;const o=this.composePasteEvent("tag",{data:i});return{content:i,tool:n,isBlock:!1,event:o}})}async processSingleBlock(t){const{Caret:e,BlockManager:n}=this.Editor,{currentBlock:r}=n;if(!r||t.tool!==r.name||!N.containsOnlyInlineElements(t.content.innerHTML)){this.insertBlock(t,(r==null?void 0:r.tool.isDefault)&&r.isEmpty);return}e.insertContentAtCaretPosition(t.content.innerHTML)}async processInlinePaste(t){const{BlockManager:e,Caret:n}=this.Editor,{content:r}=t;if(e.currentBlock&&e.currentBlock.tool.isDefault&&r.textContent.length<ST.PATTERN_PROCESSING_MAX_LENGTH){const i=await this.processPattern(r.textContent);if(i){const o=e.currentBlock&&e.currentBlock.tool.isDefault&&e.currentBlock.isEmpty,s=e.paste(i.tool,i.event,o);n.setToBlock(s,n.positions.END);return}}if(e.currentBlock&&e.currentBlock.currentInput){const i=e.currentBlock.tool.baseSanitizeConfig;document.execCommand("insertHTML",!1,Nr(r.innerHTML,i))}else this.insertBlock(t)}async processPattern(t){const e=this.toolsPatterns.find(n=>{const r=n.pattern.exec(t);return r?t===r.shift():!1});return e?{event:this.composePasteEvent("pattern",{key:e.key,data:t}),tool:e.tool.name}:void 0}insertBlock(t,e=!1){const{BlockManager:n,Caret:r}=this.Editor,{currentBlock:i}=n;let o;if(e&&i&&i.isEmpty){o=n.paste(t.tool,t.event,!0),r.setToBlock(o,r.positions.END);return}o=n.paste(t.tool,t.event),r.setToBlock(o,r.positions.END)}insertEditorJSData(t){const{BlockManager:e,Caret:n,Tools:r}=this.Editor;gT(t,i=>r.blockTools.get(i).sanitizeConfig).forEach(({tool:i,data:o},s)=>{let a=!1;s===0&&(a=e.currentBlock&&e.currentBlock.tool.isDefault&&e.currentBlock.isEmpty);const l=e.insert({tool:i,data:o,replace:a});n.setToBlock(l,n.positions.END)})}processElementNode(t,e,n){const r=Object.keys(this.toolsTags),i=t,{tool:o}=this.toolsTags[i.tagName]||{},s=this.tagsByTool[o==null?void 0:o.name]||[],a=r.includes(i.tagName),l=N.blockElements.includes(i.tagName.toLowerCase()),c=Array.from(i.children).some(({tagName:d})=>r.includes(d)&&!s.includes(d)),u=Array.from(i.children).some(({tagName:d})=>N.blockElements.includes(d.toLowerCase()));if(!l&&!a&&!c)return n.appendChild(i),[...e,n];if(a&&!c||l&&!u&&!c)return[...e,n,i]}getNodes(t){const e=Array.from(t.childNodes);let n;const r=(i,o)=>{if(N.isEmpty(o)&&!N.isSingleTag(o))return i;const s=i[i.length-1];let a=new DocumentFragment;switch(s&&N.isFragment(s)&&(a=i.pop()),o.nodeType){case Node.ELEMENT_NODE:if(n=this.processElementNode(o,i,a),n)return n;break;case Node.TEXT_NODE:return a.appendChild(o),[...i,a];default:return[...i,a]}return[...i,...Array.from(o.childNodes).reduce(r,[])]};return e.reduce(r,[])}composePasteEvent(t,e){return new CustomEvent(t,{detail:e})}};let TT=ST;TT.PATTERN_PROCESSING_MAX_LENGTH=450;class YV extends xe{constructor(){super(...arguments),this.toolsDontSupportReadOnly=[],this.readOnlyEnabled=!1}get isEnabled(){return this.readOnlyEnabled}async prepare(){const{Tools:e}=this.Editor,{blockTools:n}=e,r=[];Array.from(n.entries()).forEach(([i,o])=>{o.isReadOnlySupported||r.push(i)}),this.toolsDontSupportReadOnly=r,this.config.readOnly&&r.length>0&&this.throwCriticalError(),this.toggle(this.config.readOnly)}async toggle(e=!this.readOnlyEnabled){e&&this.toolsDontSupportReadOnly.length>0&&this.throwCriticalError();const n=this.readOnlyEnabled;this.readOnlyEnabled=e;for(const i in this.Editor)this.Editor[i].toggleReadOnly&&this.Editor[i].toggleReadOnly(e);if(n===e)return this.readOnlyEnabled;const r=await this.Editor.Saver.save();return await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(r.blocks),this.readOnlyEnabled}throwCriticalError(){throw new dT(`To enable read-only mode all connected tools should support it. Tools ${this.toolsDontSupportReadOnly.join(", ")} don't support read-only mode.`)}}class dl extends xe{constructor(){super(...arguments),this.isRectSelectionActivated=!1,this.SCROLL_SPEED=3,this.HEIGHT_OF_SCROLL_ZONE=40,this.BOTTOM_SCROLL_ZONE=1,this.TOP_SCROLL_ZONE=2,this.MAIN_MOUSE_BUTTON=0,this.mousedown=!1,this.isScrolling=!1,this.inScrollZone=null,this.startX=0,this.startY=0,this.mouseX=0,this.mouseY=0,this.stackOfSelected=[],this.listenerIds=[]}static get CSS(){return{overlay:"codex-editor-overlay",overlayContainer:"codex-editor-overlay__container",rect:"codex-editor-overlay__rectangle",topScrollZone:"codex-editor-overlay__scroll-zone--top",bottomScrollZone:"codex-editor-overlay__scroll-zone--bottom"}}prepare(){this.enableModuleBindings()}startSelection(e,n){const r=document.elementFromPoint(e-window.pageXOffset,n-window.pageYOffset);r.closest(`.${this.Editor.Toolbar.CSS.toolbar}`)||(this.Editor.BlockSelection.allBlocksSelected=!1,this.clearSelection(),this.stackOfSelected=[]);const i=[`.${gt.CSS.content}`,`.${this.Editor.Toolbar.CSS.toolbar}`,`.${this.Editor.InlineToolbar.CSS.inlineToolbar}`],o=r.closest("."+this.Editor.UI.CSS.editorWrapper),s=i.some(a=>!!r.closest(a));!o||s||(this.mousedown=!0,this.startX=e,this.startY=n)}endSelection(){this.mousedown=!1,this.startX=0,this.startY=0,this.overlayRectangle.style.display="none"}isRectActivated(){return this.isRectSelectionActivated}clearSelection(){this.isRectSelectionActivated=!1}enableModuleBindings(){const{container:e}=this.genHTML();this.listeners.on(e,"mousedown",n=>{this.processMouseDown(n)},!1),this.listeners.on(document.body,"mousemove",Nm(n=>{this.processMouseMove(n)},10),{passive:!0}),this.listeners.on(document.body,"mouseleave",()=>{this.processMouseLeave()}),this.listeners.on(window,"scroll",Nm(n=>{this.processScroll(n)},10),{passive:!0}),this.listeners.on(document.body,"mouseup",()=>{this.processMouseUp()},!1)}processMouseDown(e){e.button===this.MAIN_MOUSE_BUTTON&&(e.target.closest(N.allInputsSelector)!==null||this.startSelection(e.pageX,e.pageY))}processMouseMove(e){this.changingRectangle(e),this.scrollByZones(e.clientY)}processMouseLeave(){this.clearSelection(),this.endSelection()}processScroll(e){this.changingRectangle(e)}processMouseUp(){this.clearSelection(),this.endSelection()}scrollByZones(e){if(this.inScrollZone=null,e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.TOP_SCROLL_ZONE),document.documentElement.clientHeight-e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.BOTTOM_SCROLL_ZONE),!this.inScrollZone){this.isScrolling=!1;return}this.isScrolling||(this.scrollVertical(this.inScrollZone===this.TOP_SCROLL_ZONE?-this.SCROLL_SPEED:this.SCROLL_SPEED),this.isScrolling=!0)}genHTML(){const{UI:e}=this.Editor,n=e.nodes.holder.querySelector("."+e.CSS.editorWrapper),r=N.make("div",dl.CSS.overlay,{}),i=N.make("div",dl.CSS.overlayContainer,{}),o=N.make("div",dl.CSS.rect,{});return i.appendChild(o),r.appendChild(i),n.appendChild(r),this.overlayRectangle=o,{container:n,overlay:r}}scrollVertical(e){if(!(this.inScrollZone&&this.mousedown))return;const n=window.pageYOffset;window.scrollBy(0,e),this.mouseY+=window.pageYOffset-n,setTimeout(()=>{this.scrollVertical(e)},0)}changingRectangle(e){if(!this.mousedown)return;e.pageY!==void 0&&(this.mouseX=e.pageX,this.mouseY=e.pageY);const{rightPos:n,leftPos:r,index:i}=this.genInfoForMouseSelection(),o=this.startX>n&&this.mouseX>n,s=this.startX<r&&this.mouseX<r;this.rectCrossesBlocks=!(o||s),this.isRectSelectionActivated||(this.rectCrossesBlocks=!1,this.isRectSelectionActivated=!0,this.shrinkRectangleToPoint(),this.overlayRectangle.style.display="block"),this.updateRectangleSize(),this.Editor.Toolbar.close(),i!==void 0&&(this.trySelectNextBlock(i),this.inverseSelection(),se.get().removeAllRanges())}shrinkRectangleToPoint(){this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`}inverseSelection(){const e=this.Editor.BlockManager.getBlockByIndex(this.stackOfSelected[0]).selected;if(this.rectCrossesBlocks&&!e)for(const n of this.stackOfSelected)this.Editor.BlockSelection.selectBlockByIndex(n);if(!this.rectCrossesBlocks&&e)for(const n of this.stackOfSelected)this.Editor.BlockSelection.unSelectBlockByIndex(n)}updateRectangleSize(){this.mouseY>=this.startY?(this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.mouseY-window.pageYOffset}px`):(this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.top=`${this.mouseY-window.pageYOffset}px`),this.mouseX>=this.startX?(this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.mouseX-window.pageXOffset}px`):(this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.left=`${this.mouseX-window.pageXOffset}px`)}genInfoForMouseSelection(){const e=document.body.offsetWidth/2,n=this.mouseY-window.pageYOffset,r=document.elementFromPoint(e,n),i=this.Editor.BlockManager.getBlockByChildNode(r);let o;i!==void 0&&(o=this.Editor.BlockManager.blocks.findIndex(u=>u.holder===i.holder));const s=this.Editor.BlockManager.lastBlock.holder.querySelector("."+gt.CSS.content),a=Number.parseInt(window.getComputedStyle(s).width,10)/2,l=e-a,c=e+a;return{index:o,leftPos:l,rightPos:c}}addBlockInSelection(e){this.rectCrossesBlocks&&this.Editor.BlockSelection.selectBlockByIndex(e),this.stackOfSelected.push(e)}trySelectNextBlock(e){const n=this.stackOfSelected[this.stackOfSelected.length-1]===e,r=this.stackOfSelected.length,i=1,o=-1,s=0;if(n)return;const a=this.stackOfSelected[r-1]-this.stackOfSelected[r-2]>0;let l=s;r>1&&(l=a?i:o);const c=e>this.stackOfSelected[r-1]&&l===i,u=e<this.stackOfSelected[r-1]&&l===o,d=!(c||u||l===s);if(!d&&(e>this.stackOfSelected[r-1]||this.stackOfSelected[r-1]===void 0)){let m=this.stackOfSelected[r-1]+1||e;for(m;m<=e;m++)this.addBlockInSelection(m);return}if(!d&&e<this.stackOfSelected[r-1]){for(let m=this.stackOfSelected[r-1]-1;m>=e;m--)this.addBlockInSelection(m);return}if(!d)return;let h=r-1,f;for(e>this.stackOfSelected[r-1]?f=()=>e>this.stackOfSelected[h]:f=()=>e<this.stackOfSelected[h];f();)this.rectCrossesBlocks&&this.Editor.BlockSelection.unSelectBlockByIndex(this.stackOfSelected[h]),this.stackOfSelected.pop(),h--}}class GV extends xe{async render(e){return new Promise(n=>{const{Tools:r,BlockManager:i}=this.Editor,o=e.map(({type:s,data:a,tunes:l,id:c})=>{r.available.has(s)===!1&&(Gn(`Tool «${s}» is not found. Check 'tools' property at the Editor.js config.`,"warn"),a=this.composeStubDataForTool(s,a,c),s=r.stubTool);let u;try{u=i.composeBlock({id:c,tool:s,data:a,tunes:l})}catch(d){Re(`Block «${s}» skipped because of plugins error`,"error",{data:a,error:d}),a=this.composeStubDataForTool(s,a,c),s=r.stubTool,u=i.composeBlock({id:c,tool:s,data:a,tunes:l})}return u});i.insertMany(o),window.requestIdleCallback(()=>{n()},{timeout:2e3})})}composeStubDataForTool(e,n,r){const{Tools:i}=this.Editor;let o=e;if(i.unavailable.has(e)){const s=i.unavailable.get(e).toolbox;s!==void 0&&s[0].title!==void 0&&(o=s[0].title)}return{savedData:{id:r,type:e,data:n},title:o}}}class qV extends xe{async save(){const{BlockManager:e,Tools:n}=this.Editor,r=e.blocks,i=[];try{r.forEach(a=>{i.push(this.getSavedData(a))});const o=await Promise.all(i),s=await gT(o,a=>n.blockTools.get(a).sanitizeConfig);return this.makeOutput(s)}catch(o){Gn("Saving failed due to the Error %o","error",o)}}async getSavedData(e){const n=await e.save(),r=n&&await e.validate(n.data);return{...n,isValid:r}}makeOutput(e){const n=[];return e.forEach(({id:r,tool:i,data:o,tunes:s,isValid:a})=>{if(!a){Re(`Block «${i}» skipped because saved data is invalid`);return}if(i===this.Editor.Tools.stubTool){n.push(o);return}const l={id:r,type:i,data:o,...!nr(s)&&{tunes:s}};n.push(l)}),{time:+new Date,blocks:n,version:"2.28.2"}}}var Hm={},KV={get exports(){return Hm},set exports(t){Hm=t}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:a})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,s){if(1&s&&(o=i(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var l in o)i.d(a,l,(function(c){return o[c]}).bind(null,l));return a},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="/",i(i.s=4)}([function(n,r,i){var o=i(1),s=i(2);typeof(s=s.__esModule?s.default:s)=="string"&&(s=[[n.i,s,""]]);var a={insert:"head",singleton:!1};o(s,a),n.exports=s.locals||{}},function(n,r,i){var o,s=function(){return o===void 0&&(o=!!(window&&document&&document.all&&!window.atob)),o},a=function(){var g={};return function(v){if(g[v]===void 0){var E=document.querySelector(v);if(window.HTMLIFrameElement&&E instanceof window.HTMLIFrameElement)try{E=E.contentDocument.head}catch{E=null}g[v]=E}return g[v]}}(),l=[];function c(g){for(var v=-1,E=0;E<l.length;E++)if(l[E].identifier===g){v=E;break}return v}function u(g,v){for(var E={},A=[],R=0;R<g.length;R++){var _=g[R],y=v.base?_[0]+v.base:_[0],k=E[y]||0,x="".concat(y," ").concat(k);E[y]=k+1;var I=c(x),C={css:_[1],media:_[2],sourceMap:_[3]};I!==-1?(l[I].references++,l[I].updater(C)):l.push({identifier:x,updater:p(C,v),references:1}),A.push(x)}return A}function d(g){var v=document.createElement("style"),E=g.attributes||{};if(E.nonce===void 0){var A=i.nc;A&&(E.nonce=A)}if(Object.keys(E).forEach(function(_){v.setAttribute(_,E[_])}),typeof g.insert=="function")g.insert(v);else{var R=a(g.insert||"head");if(!R)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");R.appendChild(v)}return v}var h,f=(h=[],function(g,v){return h[g]=v,h.filter(Boolean).join(`
`)});function m(g,v,E,A){var R=E?"":A.media?"@media ".concat(A.media," {").concat(A.css,"}"):A.css;if(g.styleSheet)g.styleSheet.cssText=f(v,R);else{var _=document.createTextNode(R),y=g.childNodes;y[v]&&g.removeChild(y[v]),y.length?g.insertBefore(_,y[v]):g.appendChild(_)}}function b(g,v,E){var A=E.css,R=E.media,_=E.sourceMap;if(R?g.setAttribute("media",R):g.removeAttribute("media"),_&&btoa&&(A+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(_))))," */")),g.styleSheet)g.styleSheet.cssText=A;else{for(;g.firstChild;)g.removeChild(g.firstChild);g.appendChild(document.createTextNode(A))}}var S=null,w=0;function p(g,v){var E,A,R;if(v.singleton){var _=w++;E=S||(S=d(v)),A=m.bind(null,E,_,!1),R=m.bind(null,E,_,!0)}else E=d(v),A=b.bind(null,E,v),R=function(){(function(y){if(y.parentNode===null)return!1;y.parentNode.removeChild(y)})(E)};return A(g),function(y){if(y){if(y.css===g.css&&y.media===g.media&&y.sourceMap===g.sourceMap)return;A(g=y)}else R()}}n.exports=function(g,v){(v=v||{}).singleton||typeof v.singleton=="boolean"||(v.singleton=s());var E=u(g=g||[],v);return function(A){if(A=A||[],Object.prototype.toString.call(A)==="[object Array]"){for(var R=0;R<E.length;R++){var _=c(E[R]);l[_].references--}for(var y=u(A,v),k=0;k<E.length;k++){var x=c(E[k]);l[x].references===0&&(l[x].updater(),l.splice(x,1))}E=y}}}},function(n,r,i){(r=i(3)(!1)).push([n.i,`.ce-paragraph {
    line-height: 1.6em;
    outline: none;
}

.ce-paragraph[data-placeholder]:empty::before{
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  opacity: 0;
}

/** Show placeholder at the first paragraph if Editor is empty */
.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before {
  opacity: 1;
}

.codex-editor--toolbox-opened .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before,
.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty:focus::before {
  opacity: 0;
}

.ce-paragraph p:first-of-type{
    margin-top: 0;
}

.ce-paragraph p:last-of-type{
    margin-bottom: 0;
}
`,""]),n.exports=r},function(n,r,i){n.exports=function(o){var s=[];return s.toString=function(){return this.map(function(a){var l=function(c,u){var d=c[1]||"",h=c[3];if(!h)return d;if(u&&typeof btoa=="function"){var f=(b=h,S=btoa(unescape(encodeURIComponent(JSON.stringify(b)))),w="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(S),"/*# ".concat(w," */")),m=h.sources.map(function(p){return"/*# sourceURL=".concat(h.sourceRoot||"").concat(p," */")});return[d].concat(m).concat([f]).join(`
`)}var b,S,w;return[d].join(`
`)}(a,o);return a[2]?"@media ".concat(a[2]," {").concat(l,"}"):l}).join("")},s.i=function(a,l,c){typeof a=="string"&&(a=[[null,a,""]]);var u={};if(c)for(var d=0;d<this.length;d++){var h=this[d][0];h!=null&&(u[h]=!0)}for(var f=0;f<a.length;f++){var m=[].concat(a[f]);c&&u[m[0]]||(l&&(m[2]?m[2]="".concat(l," and ").concat(m[2]):m[2]=l),s.push(m))}},s}},function(n,r,i){i.r(r),i.d(r,"default",function(){return a}),i(0);function o(l,c){for(var u=0;u<c.length;u++){var d=c[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}function s(l,c,u){return c&&o(l.prototype,c),u&&o(l,u),l}/**
 * Base Paragraph Block for the Editor.js.
 * Represents a regular text block
 *
 * @author CodeX (team@codex.so)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 */var a=function(){function l(c){var u=c.data,d=c.config,h=c.api,f=c.readOnly;(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,l),this.api=h,this.readOnly=f,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=d.placeholder?d.placeholder:l.DEFAULT_PLACEHOLDER,this._data={},this._element=null,this._preserveBlank=d.preserveBlank!==void 0&&d.preserveBlank,this.data=u}return s(l,null,[{key:"DEFAULT_PLACEHOLDER",get:function(){return""}}]),s(l,[{key:"onKeyUp",value:function(c){c.code!=="Backspace"&&c.code!=="Delete"||this._element.textContent===""&&(this._element.innerHTML="")}},{key:"drawView",value:function(){var c=document.createElement("DIV");return c.classList.add(this._CSS.wrapper,this._CSS.block),c.contentEditable=!1,c.dataset.placeholder=this.api.i18n.t(this._placeholder),this.readOnly||(c.contentEditable=!0,c.addEventListener("keyup",this.onKeyUp)),c}},{key:"render",value:function(){return this._element===null&&(this._element=this.drawView()),this.hydrate(),this._element}},{key:"merge",value:function(c){var u={text:this.data.text+c.text};this.data=u}},{key:"validate",value:function(c){return!(c.text.trim()===""&&!this._preserveBlank)}},{key:"save",value:function(c){return{text:c.innerHTML}}},{key:"onPaste",value:function(c){var u={text:c.detail.data.innerHTML};this.data=u}},{key:"hydrate",value:function(){var c=this;window.requestAnimationFrame(function(){c._element.innerHTML=c._data.text||""})}},{key:"data",get:function(){if(this._element!==null){var c=this._element.innerHTML;this._data.text=c}return this._data},set:function(c){this._data=c||{},this._element!==null&&this.hydrate()}}],[{key:"conversionConfig",get:function(){return{export:"text",import:"text"}}},{key:"sanitize",get:function(){return{text:{br:!0}}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"pasteConfig",get:function(){return{tags:["P"]}}},{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>',title:"Text"}}}]),l}()}]).default})})(KV);const QV=Nh(Hm);class _y{constructor(){this.commandName="bold",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--bold"},this.nodes={button:void 0}}static get sanitize(){return{b:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=vV,this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){const e=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,e),e}get shortcut(){return"CMD+B"}}_y.isInline=!0;_y.title="Bold";class by{constructor(){this.commandName="italic",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--italic"},this.nodes={button:null}}static get sanitize(){return{i:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=bV,this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){const e=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,e),e}get shortcut(){return"CMD+I"}}by.isInline=!0;by.title="Italic";class ky{constructor({api:e}){this.commandLink="createLink",this.commandUnlink="unlink",this.ENTER_KEY=13,this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--link",buttonUnlink:"ce-inline-tool--unlink",input:"ce-inline-tool-input",inputShowed:"ce-inline-tool-input--showed"},this.nodes={button:null,input:null},this.inputOpened=!1,this.toolbar=e.toolbar,this.inlineToolbar=e.inlineToolbar,this.notifier=e.notifier,this.i18n=e.i18n,this.selection=new se}static get sanitize(){return{a:{href:!0,target:"_blank",rel:"nofollow"}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=C1,this.nodes.button}renderActions(){return this.nodes.input=document.createElement("input"),this.nodes.input.placeholder=this.i18n.t("Add a link"),this.nodes.input.classList.add(this.CSS.input),this.nodes.input.addEventListener("keydown",e=>{e.keyCode===this.ENTER_KEY&&this.enterPressed(e)}),this.nodes.input}surround(e){if(e){this.inputOpened?(this.selection.restore(),this.selection.removeFakeBackground()):(this.selection.setFakeBackground(),this.selection.save());const n=this.selection.findParentTag("A");if(n){this.selection.expandToTag(n),this.unlink(),this.closeActions(),this.checkState(),this.toolbar.close();return}}this.toggleActions()}checkState(){const e=this.selection.findParentTag("A");if(e){this.nodes.button.innerHTML=SV,this.nodes.button.classList.add(this.CSS.buttonUnlink),this.nodes.button.classList.add(this.CSS.buttonActive),this.openActions();const n=e.getAttribute("href");this.nodes.input.value=n!=="null"?n:"",this.selection.save()}else this.nodes.button.innerHTML=C1,this.nodes.button.classList.remove(this.CSS.buttonUnlink),this.nodes.button.classList.remove(this.CSS.buttonActive);return!!e}clear(){this.closeActions()}get shortcut(){return"CMD+K"}toggleActions(){this.inputOpened?this.closeActions(!1):this.openActions(!0)}openActions(e=!1){this.nodes.input.classList.add(this.CSS.inputShowed),e&&this.nodes.input.focus(),this.inputOpened=!0}closeActions(e=!0){if(this.selection.isFakeBackgroundEnabled){const n=new se;n.save(),this.selection.restore(),this.selection.removeFakeBackground(),n.restore()}this.nodes.input.classList.remove(this.CSS.inputShowed),this.nodes.input.value="",e&&this.selection.clearSaved(),this.inputOpened=!1}enterPressed(e){let n=this.nodes.input.value||"";if(!n.trim()){this.selection.restore(),this.unlink(),e.preventDefault(),this.closeActions();return}if(!this.validateURL(n)){this.notifier.show({message:"Pasted link is not valid.",style:"error"}),Re("Incorrect Link pasted","warn",n);return}n=this.prepareLink(n),this.selection.restore(),this.selection.removeFakeBackground(),this.insertLink(n),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),this.selection.collapseToEnd(),this.inlineToolbar.close()}validateURL(e){return!/\s/.test(e)}prepareLink(e){return e=e.trim(),e=this.addProtocol(e),e}addProtocol(e){if(/^(\w+):(\/\/)?/.test(e))return e;const n=/^\/[^/\s]/.test(e),r=e.substring(0,1)==="#",i=/^\/\/[^/\s]/.test(e);return!n&&!r&&!i&&(e="http://"+e),e}insertLink(e){const n=this.selection.findParentTag("A");n&&this.selection.expandToTag(n),document.execCommand(this.commandLink,!1,e)}unlink(){document.execCommand(this.commandUnlink)}}ky.isInline=!0;ky.title="Link";class CT{constructor({data:e,api:n}){this.CSS={wrapper:"ce-stub",info:"ce-stub__info",title:"ce-stub__title",subtitle:"ce-stub__subtitle"},this.api=n,this.title=e.title||this.api.i18n.t("Error"),this.subtitle=this.api.i18n.t("The block can not be displayed correctly."),this.savedData=e.savedData,this.wrapper=this.make()}render(){return this.wrapper}save(){return this.savedData}make(){const e=N.make("div",this.CSS.wrapper),n=TV,r=N.make("div",this.CSS.info),i=N.make("div",this.CSS.title,{textContent:this.title}),o=N.make("div",this.CSS.subtitle,{textContent:this.subtitle});return e.innerHTML=n,r.appendChild(i),r.appendChild(o),e.appendChild(r),e}}CT.isReadOnlySupported=!0;class XV extends wy{constructor(){super(...arguments),this.type=Fh.Inline}get title(){return this.constructable[yy.Title]}create(){return new this.constructable({api:this.api.getMethodsForTool(this),config:this.settings})}}class JV extends wy{constructor(){super(...arguments),this.type=Fh.Tune}create(e,n){return new this.constructable({api:this.api.getMethodsForTool(this),config:this.settings,block:n,data:e})}}class Ut extends Map{get blockTools(){const e=Array.from(this.entries()).filter(([,n])=>n.isBlock());return new Ut(e)}get inlineTools(){const e=Array.from(this.entries()).filter(([,n])=>n.isInline());return new Ut(e)}get blockTunes(){const e=Array.from(this.entries()).filter(([,n])=>n.isTune());return new Ut(e)}get internalTools(){const e=Array.from(this.entries()).filter(([,n])=>n.isInternal);return new Ut(e)}get externalTools(){const e=Array.from(this.entries()).filter(([,n])=>!n.isInternal);return new Ut(e)}}var ZV=Object.defineProperty,e9=Object.getOwnPropertyDescriptor,IT=(t,e,n,r)=>{for(var i=r>1?void 0:r?e9(e,n):e,o=t.length-1,s;o>=0;o--)(s=t[o])&&(i=(r?s(e,n,i):s(i))||i);return r&&i&&ZV(e,n,i),i};class Ey extends wy{constructor(){super(...arguments),this.type=Fh.Block,this.inlineTools=new Ut,this.tunes=new Ut}create(e,n,r){return new this.constructable({data:e,block:n,readOnly:r,api:this.api.getMethodsForTool(this),config:this.settings})}get isReadOnlySupported(){return this.constructable[Qo.IsReadOnlySupported]===!0}get isLineBreaksEnabled(){return this.constructable[Qo.IsEnabledLineBreaks]}get toolbox(){const e=this.constructable[Qo.Toolbox],n=this.config[Cu.Toolbox];if(!nr(e)&&n!==!1)return n?Array.isArray(e)?Array.isArray(n)?n.map((r,i)=>{const o=e[i];return o?{...o,...r}:r}):[n]:Array.isArray(n)?n:[{...e,...n}]:Array.isArray(e)?e:[e]}get conversionConfig(){return this.constructable[Qo.ConversionConfig]}get enabledInlineTools(){return this.config[Cu.EnabledInlineTools]||!1}get enabledBlockTunes(){return this.config[Cu.EnabledBlockTunes]}get pasteConfig(){return this.constructable[Qo.PasteConfig]??{}}get sanitizeConfig(){const e=super.sanitizeConfig,n=this.baseSanitizeConfig;if(nr(e))return n;const r={};for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];Dt(o)?r[i]=Object.assign({},n,o):r[i]=o}return r}get baseSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach(n=>Object.assign(e,n.sanitizeConfig)),Array.from(this.tunes.values()).forEach(n=>Object.assign(e,n.sanitizeConfig)),e}}IT([oa],Ey.prototype,"sanitizeConfig",1);IT([oa],Ey.prototype,"baseSanitizeConfig",1);class t9{constructor(e,n,r){this.api=r,this.config=e,this.editorConfig=n}get(e){const{class:n,isInternal:r=!1,...i}=this.config[e],o=this.getConstructor(n);return new o({name:e,constructable:n,config:i,api:this.api,isDefault:e===this.editorConfig.defaultBlock,defaultPlaceholder:this.editorConfig.placeholder,isInternal:r})}getConstructor(e){switch(!0){case e[yy.IsInline]:return XV;case e[xT.IsTune]:return JV;default:return Ey}}}class AT{constructor({api:e}){this.CSS={animation:"wobble"},this.api=e}render(){return{icon:yT,title:this.api.i18n.t("Move down"),onActivate:()=>this.handleClick(),name:"move-down"}}handleClick(){const e=this.api.blocks.getCurrentBlockIndex(),n=this.api.blocks.getBlockByIndex(e+1);if(!n)throw new Error("Unable to move Block down since it is already the last");const r=n.holder,i=r.getBoundingClientRect();let o=Math.abs(window.innerHeight-r.offsetHeight);i.top<window.innerHeight&&(o=window.scrollY+r.offsetHeight),window.scrollTo(0,o),this.api.blocks.move(e+1),this.api.toolbar.toggleBlockSettings(!0)}}AT.isTune=!0;class RT{constructor({api:e}){this.api=e}render(){return{icon:wV,title:this.api.i18n.t("Delete"),name:"delete",confirmation:{title:this.api.i18n.t("Click to delete"),onActivate:()=>this.handleClick()}}}handleClick(){this.api.blocks.delete()}}RT.isTune=!0;class PT{constructor({api:e}){this.CSS={animation:"wobble"},this.api=e}render(){return{icon:yV,title:this.api.i18n.t("Move up"),onActivate:()=>this.handleClick(),name:"move-up"}}handleClick(){const e=this.api.blocks.getCurrentBlockIndex(),n=this.api.blocks.getBlockByIndex(e),r=this.api.blocks.getBlockByIndex(e-1);if(e===0||!n||!r)throw new Error("Unable to move Block up since it is already the first");const i=n.holder,o=r.holder,s=i.getBoundingClientRect(),a=o.getBoundingClientRect();let l;a.top>0?l=Math.abs(s.top)-Math.abs(a.top):l=Math.abs(s.top)+a.height,window.scrollBy(0,-1*l),this.api.blocks.move(e-1),this.api.toolbar.toggleBlockSettings(!0)}}PT.isTune=!0;var n9=Object.defineProperty,r9=Object.getOwnPropertyDescriptor,i9=(t,e,n,r)=>{for(var i=r>1?void 0:r?r9(e,n):e,o=t.length-1,s;o>=0;o--)(s=t[o])&&(i=(r?s(e,n,i):s(i))||i);return r&&i&&n9(e,n,i),i};class MT extends xe{constructor(){super(...arguments),this.stubTool="stub",this.toolsAvailable=new Ut,this.toolsUnavailable=new Ut}get available(){return this.toolsAvailable}get unavailable(){return this.toolsUnavailable}get inlineTools(){return this.available.inlineTools}get blockTools(){return this.available.blockTools}get blockTunes(){return this.available.blockTunes}get defaultTool(){return this.blockTools.get(this.config.defaultBlock)}get internal(){return this.available.internalTools}async prepare(){if(this.validateTools(),this.config.tools=Bm({},this.internalTools,this.config.tools),!Object.prototype.hasOwnProperty.call(this.config,"tools")||Object.keys(this.config.tools).length===0)throw Error("Can't start without tools");const e=this.prepareConfig();this.factory=new t9(e,this.config,this.Editor.API);const n=this.getListOfPrepareFunctions(e);if(n.length===0)return Promise.resolve();await CF(n,r=>{this.toolPrepareMethodSuccess(r)},r=>{this.toolPrepareMethodFallback(r)}),this.prepareBlockTools()}getAllInlineToolsSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach(n=>{Object.assign(e,n.sanitizeConfig)}),e}destroy(){Object.values(this.available).forEach(async e=>{$e(e.reset)&&await e.reset()})}get internalTools(){return{bold:{class:_y,isInternal:!0},italic:{class:by,isInternal:!0},link:{class:ky,isInternal:!0},paragraph:{class:QV,inlineToolbar:!0,isInternal:!0},stub:{class:CT,isInternal:!0},moveUp:{class:PT,isInternal:!0},delete:{class:RT,isInternal:!0},moveDown:{class:AT,isInternal:!0}}}toolPrepareMethodSuccess(e){const n=this.factory.get(e.toolName);if(n.isInline()){const r=["render","surround","checkState"].filter(i=>!n.create()[i]);if(r.length){Re(`Incorrect Inline Tool: ${n.name}. Some of required methods is not implemented %o`,"warn",r),this.toolsUnavailable.set(n.name,n);return}}this.toolsAvailable.set(n.name,n)}toolPrepareMethodFallback(e){this.toolsUnavailable.set(e.toolName,this.factory.get(e.toolName))}getListOfPrepareFunctions(e){const n=[];return Object.entries(e).forEach(([r,i])=>{n.push({function:$e(i.class.prepare)?i.class.prepare:()=>{},data:{toolName:r,config:i.config}})}),n}prepareBlockTools(){Array.from(this.blockTools.values()).forEach(e=>{this.assignInlineToolsToBlockTool(e),this.assignBlockTunesToBlockTool(e)})}assignInlineToolsToBlockTool(e){if(this.config.inlineToolbar!==!1){if(e.enabledInlineTools===!0){e.inlineTools=new Ut(Array.isArray(this.config.inlineToolbar)?this.config.inlineToolbar.map(n=>[n,this.inlineTools.get(n)]):Array.from(this.inlineTools.entries()));return}Array.isArray(e.enabledInlineTools)&&(e.inlineTools=new Ut(e.enabledInlineTools.map(n=>[n,this.inlineTools.get(n)])))}}assignBlockTunesToBlockTool(e){if(e.enabledBlockTunes!==!1){if(Array.isArray(e.enabledBlockTunes)){const n=new Ut(e.enabledBlockTunes.map(r=>[r,this.blockTunes.get(r)]));e.tunes=new Ut([...n,...this.blockTunes.internalTools]);return}if(Array.isArray(this.config.tunes)){const n=new Ut(this.config.tunes.map(r=>[r,this.blockTunes.get(r)]));e.tunes=new Ut([...n,...this.blockTunes.internalTools]);return}e.tunes=this.blockTunes.internalTools}}validateTools(){for(const e in this.config.tools)if(Object.prototype.hasOwnProperty.call(this.config.tools,e)){if(e in this.internalTools)return;const n=this.config.tools[e];if(!$e(n)&&!$e(n.class))throw Error(`Tool «${e}» must be a constructor function or an object with function in the «class» property`)}}prepareConfig(){const e={};for(const n in this.config.tools)Dt(this.config.tools[n])?e[n]=this.config.tools[n]:e[n]={class:this.config.tools[n]};return e}}i9([oa],MT.prototype,"getAllInlineToolsSanitizeConfig",1);const o9=`:root{--selectionColor: #e1f2ff;--inlineSelectionColor: #d4ecff;--bg-light: #eff2f5;--grayText: #707684;--color-dark: #1D202B;--color-active-icon: #388AE5;--color-gray-border: rgba(201, 201, 204, .48);--content-width: 650px;--narrow-mode-right-padding: 50px;--toolbox-buttons-size: 26px;--toolbox-buttons-size--mobile: 36px;--icon-size: 20px;--icon-size--mobile: 28px;--block-padding-vertical: .4em;--color-line-gray: #EFF0F1 }.codex-editor{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.codex-editor .hide{display:none}.codex-editor__redactor [contenteditable]:empty:after{content:"\\feff"}@media (min-width: 651px){.codex-editor--narrow .codex-editor__redactor{margin-right:50px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .codex-editor__redactor{margin-left:50px;margin-right:0}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__actions{right:-5px}}.codex-editor-copyable{position:absolute;height:1px;width:1px;top:-400%;opacity:.001}.codex-editor-overlay{position:fixed;top:0px;left:0px;right:0px;bottom:0px;z-index:999;pointer-events:none;overflow:hidden}.codex-editor-overlay__container{position:relative;pointer-events:auto;z-index:0}.codex-editor-overlay__rectangle{position:absolute;pointer-events:none;background-color:#2eaadc33;border:1px solid transparent}.codex-editor svg{max-height:100%}.codex-editor path{stroke:currentColor}.codex-editor ::-moz-selection{background-color:#d4ecff}.codex-editor ::selection{background-color:#d4ecff}.codex-editor--toolbox-opened [contentEditable=true][data-placeholder]:focus:before{opacity:0!important}.ce-scroll-locked{overflow:hidden}.ce-scroll-locked--hard{overflow:hidden;top:calc(-1 * var(--window-scroll-offset));position:fixed;width:100%}.ce-toolbar{position:absolute;left:0;right:0;top:0;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity,top;display:none}.ce-toolbar--opened{display:block}.ce-toolbar__content{max-width:650px;margin:0 auto;position:relative}.ce-toolbar__plus{color:#1d202b;cursor:pointer;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-ms-flex-negative:0;flex-shrink:0}@media (max-width: 650px){.ce-toolbar__plus{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__plus:hover{background-color:#eff2f5}}.ce-toolbar__plus--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbar__plus-shortcut{opacity:.6;word-spacing:-2px;margin-top:5px}@media (max-width: 650px){.ce-toolbar__plus{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__plus--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__plus--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__actions{position:absolute;right:100%;opacity:0;display:-webkit-box;display:-ms-flexbox;display:flex;padding-right:5px}.ce-toolbar__actions--opened{opacity:1}@media (max-width: 650px){.ce-toolbar__actions{right:auto}}.ce-toolbar__settings-btn{color:#1d202b;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;margin-left:3px;cursor:pointer;user-select:none}@media (max-width: 650px){.ce-toolbar__settings-btn{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__settings-btn:hover{background-color:#eff2f5}}.ce-toolbar__settings-btn--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@media (min-width: 651px){.ce-toolbar__settings-btn{width:24px}}.ce-toolbar__settings-btn--hidden{display:none}@media (max-width: 650px){.ce-toolbar__settings-btn{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__settings-btn--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__settings-btn--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__plus svg,.ce-toolbar__settings-btn svg{width:24px;height:24px}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__plus{left:5px}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbox .ce-popover{right:0;left:auto;left:initial}}.ce-inline-toolbar{--y-offset: 8px;position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;-webkit-transform:translateX(-50%) translateY(8px) scale(.94);transform:translate(-50%) translateY(8px) scale(.94);opacity:0;visibility:hidden;-webkit-transition:opacity .25s ease,-webkit-transform .15s ease;transition:opacity .25s ease,-webkit-transform .15s ease;transition:transform .15s ease,opacity .25s ease;transition:transform .15s ease,opacity .25s ease,-webkit-transform .15s ease;will-change:transform,opacity;top:0;left:0;z-index:3}.ce-inline-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-inline-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-inline-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:translateX(-50%);transform:translate(-50%)}.ce-inline-toolbar--left-oriented{-webkit-transform:translateX(-23px) translateY(8px) scale(.94);transform:translate(-23px) translateY(8px) scale(.94)}.ce-inline-toolbar--left-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-23px);transform:translate(-23px)}.ce-inline-toolbar--right-oriented{-webkit-transform:translateX(-100%) translateY(8px) scale(.94);transform:translate(-100%) translateY(8px) scale(.94);margin-left:23px}.ce-inline-toolbar--right-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-100%);transform:translate(-100%)}.ce-inline-toolbar [hidden]{display:none!important}.ce-inline-toolbar__toggler-and-button-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;padding:0 6px}.ce-inline-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown{display:-webkit-box;display:-ms-flexbox;display:flex;padding:6px;margin:0 6px 0 -6px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border-right:1px solid rgba(201,201,204,.48);-webkit-box-sizing:border-box;box-sizing:border-box}@media (hover: hover){.ce-inline-toolbar__dropdown:hover{background:#eff2f5}}.ce-inline-toolbar__dropdown--hidden{display:none}.ce-inline-toolbar__dropdown-content,.ce-inline-toolbar__dropdown-arrow{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown-content svg,.ce-inline-toolbar__dropdown-arrow svg{width:20px;height:20px}.ce-inline-toolbar__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}.ce-inline-tool{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;border-radius:0;line-height:normal}.ce-inline-tool svg{width:20px;height:20px}@media (max-width: 650px){.ce-inline-tool svg{width:28px;height:28px}}@media (hover: hover){.ce-inline-tool:hover{background-color:#eff2f5}}.ce-inline-tool--active{color:#388ae5}.ce-inline-tool--focused{background:rgba(34,186,255,.08)!important}.ce-inline-tool--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-inline-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-inline-tool--link .icon--unlink,.ce-inline-tool--unlink .icon--link{display:none}.ce-inline-tool--unlink .icon--unlink{display:inline-block;margin-bottom:-1px}.ce-inline-tool-input{outline:none;border:0;border-radius:0 0 4px 4px;margin:0;font-size:13px;padding:10px;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;font-weight:500;border-top:1px solid rgba(201,201,204,.48);-webkit-appearance:none;font-family:inherit}@media (max-width: 650px){.ce-inline-tool-input{font-size:15px;font-weight:500}}.ce-inline-tool-input::-webkit-input-placeholder{color:#707684}.ce-inline-tool-input::-moz-placeholder{color:#707684}.ce-inline-tool-input:-ms-input-placeholder{color:#707684}.ce-inline-tool-input::-ms-input-placeholder{color:#707684}.ce-inline-tool-input::placeholder{color:#707684}.ce-inline-tool-input--showed{display:block}.ce-conversion-toolbar{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;opacity:0;visibility:hidden;will-change:transform,opacity;-webkit-transition:opacity .1s ease,-webkit-transform .1s ease;transition:opacity .1s ease,-webkit-transform .1s ease;transition:transform .1s ease,opacity .1s ease;transition:transform .1s ease,opacity .1s ease,-webkit-transform .1s ease;-webkit-transform:translateY(-8px);transform:translateY(-8px);left:-1px;width:190px;margin-top:5px;-webkit-box-sizing:content-box;box-sizing:content-box}.ce-conversion-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-conversion-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-conversion-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:none;transform:none}.ce-conversion-toolbar [hidden]{display:none!important}.ce-conversion-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-conversion-toolbar__label{color:#707684;font-size:11px;font-weight:500;letter-spacing:.33px;padding:10px 10px 5px;text-transform:uppercase}.ce-conversion-tool{display:-webkit-box;display:-ms-flexbox;display:flex;padding:5px 10px;font-size:14px;line-height:20px;font-weight:500;cursor:pointer;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-conversion-tool--hidden{display:none}.ce-conversion-tool--focused{background:rgba(34,186,255,.08)!important}.ce-conversion-tool--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-conversion-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-conversion-tool:hover{background:#eff2f5}.ce-conversion-tool__icon{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;width:26px;height:26px;-webkit-box-shadow:0 0 0 1px rgba(201,201,204,.48);box-shadow:0 0 0 1px #c9c9cc7a;border-radius:5px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;background:#fff;-webkit-box-sizing:content-box;box-sizing:content-box;-ms-flex-negative:0;flex-shrink:0;margin-right:10px}.ce-conversion-tool__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-conversion-tool__icon{width:36px;height:36px;border-radius:8px}.ce-conversion-tool__icon svg{width:28px;height:28px}}.ce-conversion-tool--last{margin-right:0!important}.ce-conversion-tool--active{color:#388ae5!important}.ce-conversion-tool--active{-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-conversion-tool__secondary-label{color:#707684;font-size:12px;margin-left:auto;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;margin-bottom:-2px;opacity:.6}@media (max-width: 650px){.ce-conversion-tool__secondary-label{display:none}}.ce-settings__button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;line-height:32px}.ce-settings__button svg{width:20px;height:20px}@media (max-width: 650px){.ce-settings__button svg{width:28px;height:28px}}@media (hover: hover){.ce-settings__button:hover{background-color:#eff2f5}}.ce-settings__button--active{color:#388ae5}.ce-settings__button--focused{background:rgba(34,186,255,.08)!important}.ce-settings__button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-settings__button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-settings__button:not(:nth-child(3n+3)){margin-right:3px}.ce-settings__button:nth-child(n+4){margin-top:3px}.ce-settings__button--disabled{cursor:not-allowed!important}.ce-settings__button--disabled{opacity:.3}.ce-settings__button--selected{color:#388ae5}@media (min-width: 651px){.codex-editor--narrow .ce-settings .ce-popover{right:0;left:auto;left:initial}}@-webkit-keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.ce-block{-webkit-animation:fade-in .3s ease;animation:fade-in .3s ease;-webkit-animation-fill-mode:none;animation-fill-mode:none;-webkit-animation-fill-mode:initial;animation-fill-mode:initial}.ce-block:first-of-type{margin-top:0}.ce-block--selected .ce-block__content{background:#e1f2ff}.ce-block--selected .ce-block__content [contenteditable]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-block--selected .ce-block__content img,.ce-block--selected .ce-block__content .ce-stub{opacity:.55}.ce-block--stretched .ce-block__content{max-width:none}.ce-block__content{position:relative;max-width:650px;margin:0 auto;-webkit-transition:background-color .15s ease;transition:background-color .15s ease}.ce-block--drop-target .ce-block__content:before{content:"";position:absolute;top:100%;left:-20px;margin-top:-1px;height:8px;width:8px;border:solid #388AE5;border-width:1px 1px 0 0;-webkit-transform-origin:right;transform-origin:right;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ce-block--drop-target .ce-block__content:after{content:"";position:absolute;top:100%;height:1px;width:100%;color:#388ae5;background:repeating-linear-gradient(90deg,#388AE5,#388AE5 1px,#fff 1px,#fff 6px)}.ce-block a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.ce-block b{font-weight:700}.ce-block i{font-style:italic}@media (min-width: 651px){.codex-editor--narrow .ce-block--focused{margin-right:-50px;padding-right:50px}}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}.cdx-block{padding:.4em 0}.cdx-block::-webkit-input-placeholder{line-height:normal!important}.cdx-input{border:1px solid rgba(201,201,204,.48);-webkit-box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);box-shadow:inset 0 1px 2px #232c480f;border-radius:3px;padding:10px 12px;outline:none;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.cdx-input[data-placeholder]:before{position:static!important}.cdx-input[data-placeholder]:before{display:inline-block;width:0;white-space:nowrap;pointer-events:none}.cdx-settings-button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;min-width:26px;min-height:26px}.cdx-settings-button svg{width:20px;height:20px}@media (max-width: 650px){.cdx-settings-button svg{width:28px;height:28px}}@media (hover: hover){.cdx-settings-button:hover{background-color:#eff2f5}}.cdx-settings-button--focused{background:rgba(34,186,255,.08)!important}.cdx-settings-button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.cdx-settings-button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.cdx-settings-button--active{color:#388ae5}.cdx-settings-button svg{width:auto;height:auto}@media (max-width: 650px){.cdx-settings-button{width:36px;height:36px;border-radius:8px}}.cdx-loader{position:relative;border:1px solid rgba(201,201,204,.48)}.cdx-loader:before{content:"";position:absolute;left:50%;top:50%;width:18px;height:18px;margin:-11px 0 0 -11px;border:2px solid rgba(201,201,204,.48);border-left-color:#388ae5;border-radius:50%;-webkit-animation:cdxRotation 1.2s infinite linear;animation:cdxRotation 1.2s infinite linear}@-webkit-keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.cdx-button{padding:13px;border-radius:3px;border:1px solid rgba(201,201,204,.48);font-size:14.9px;background:#fff;-webkit-box-shadow:0 2px 2px 0 rgba(18,30,57,.04);box-shadow:0 2px 2px #121e390a;color:#707684;text-align:center;cursor:pointer}@media (hover: hover){.cdx-button:hover{background:#FBFCFE;-webkit-box-shadow:0 1px 3px 0 rgba(18,30,57,.08);box-shadow:0 1px 3px #121e3914}}.cdx-button svg{height:20px;margin-right:.2em;margin-top:-2px}.ce-stub{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:12px 18px;margin:10px 0;border-radius:10px;background:#eff2f5;border:1px solid #EFF0F1;color:#707684;font-size:14px}.ce-stub svg{width:20px;height:20px}.ce-stub__info{margin-left:14px}.ce-stub__title{font-weight:500;text-transform:capitalize}.codex-editor.codex-editor--rtl{direction:rtl}.codex-editor.codex-editor--rtl .cdx-list{padding-left:0;padding-right:40px}.codex-editor.codex-editor--rtl .ce-toolbar__plus{right:-26px;left:auto}.codex-editor.codex-editor--rtl .ce-toolbar__actions{right:auto;left:-26px}@media (max-width: 650px){.codex-editor.codex-editor--rtl .ce-toolbar__actions{margin-left:0;margin-right:auto;padding-right:0;padding-left:10px}}.codex-editor.codex-editor--rtl .ce-settings{left:5px;right:auto}.codex-editor.codex-editor--rtl .ce-settings:before{right:auto;left:25px}.codex-editor.codex-editor--rtl .ce-settings__button:not(:nth-child(3n+3)){margin-left:3px;margin-right:0}.codex-editor.codex-editor--rtl .ce-conversion-tool__icon{margin-right:0;margin-left:10px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown{border-right:0px solid transparent;border-left:1px solid rgba(201,201,204,.48);margin:0 -6px 0 6px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:0;margin-right:4px}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__plus{left:0px;right:5px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__actions{left:-5px}}.cdx-search-field{--icon-margin-right: 10px;background:rgba(232,232,235,.49);border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:2px;display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto}.cdx-search-field__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:var(--icon-margin-right)}.cdx-search-field__icon svg{width:20px;height:20px;color:#707684}.cdx-search-field__input{font-size:14px;outline:none;font-weight:500;font-family:inherit;border:0;background:transparent;margin:0;padding:0;line-height:22px;min-width:calc(100% - 26px - var(--icon-margin-right))}.cdx-search-field__input::-webkit-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-moz-placeholder{color:#707684;font-weight:500}.cdx-search-field__input:-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::placeholder{color:#707684;font-weight:500}.ce-popover{--border-radius: 6px;--width: 200px;--max-height: 270px;--padding: 6px;--offset-from-target: 8px;--color-border: #e8e8eb;--color-shadow: rgba(13,20,33,.13);--color-background: white;--color-text-primary: black;--color-text-secondary: #707684;--color-border-icon: rgba(201, 201, 204, .48);--color-border-icon-disabled: #EFF0F1;--color-text-icon-active: #388AE5;--color-background-icon-active: rgba(56, 138, 229, .1);--color-background-item-focus: rgba(34, 186, 255, .08);--color-shadow-item-focus: rgba(7, 161, 227, .08);--color-background-item-hover: #eff2f5;--color-background-item-confirm: #E24A4A;--color-background-item-confirm-hover: #CE4343;min-width:var(--width);width:var(--width);max-height:var(--max-height);border-radius:var(--border-radius);overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0 3px 15px -3px var(--color-shadow);box-shadow:0 3px 15px -3px var(--color-shadow);position:absolute;left:0;top:calc(100% + var(--offset-from-target));background:var(--color-background);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;z-index:4;opacity:0;max-height:0;pointer-events:none;padding:0;border:none}.ce-popover--opened{opacity:1;padding:var(--padding);max-height:var(--max-height);pointer-events:auto;-webkit-animation:panelShowing .1s ease;animation:panelShowing .1s ease;border:1px solid var(--color-border)}@media (max-width: 650px){.ce-popover--opened{-webkit-animation:panelShowingMobile .25s ease;animation:panelShowingMobile .25s ease}}.ce-popover__items{overflow-y:auto;-ms-scroll-chaining:none;overscroll-behavior:contain}@media (max-width: 650px){.ce-popover__overlay{position:fixed;top:0;bottom:0;left:0;right:0;background:#1D202B;z-index:3;opacity:.5;-webkit-transition:opacity .12s ease-in;transition:opacity .12s ease-in;will-change:opacity;visibility:visible}}.ce-popover__overlay--hidden{display:none}.ce-popover--open-top{top:calc(-1 * (var(--offset-from-target) + var(--popover-height)))}@media (max-width: 650px){.ce-popover{--offset: 5px;position:fixed;max-width:none;min-width:calc(100% - var(--offset) * 2);left:var(--offset);right:var(--offset);bottom:calc(var(--offset) + env(safe-area-inset-bottom));top:auto;border-radius:10px}.ce-popover .ce-popover__search{display:none}}.ce-popover__search,.ce-popover__custom-content:not(:empty){margin-bottom:5px}.ce-popover__nothing-found-message{color:#707684;display:none;cursor:default;padding:3px;font-size:14px;line-height:20px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ce-popover__nothing-found-message--displayed{display:block}.ce-popover__custom-content:not(:empty){padding:4px}@media (min-width: 651px){.ce-popover__custom-content:not(:empty){padding:0}}.ce-popover__custom-content--hidden{display:none}.ce-popover-item{--border-radius: 6px;--icon-size: 20px;--icon-size-mobile: 28px;border-radius:var(--border-radius);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:3px;color:var(--color-text-primary);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}@media (max-width: 650px){.ce-popover-item{padding:4px}}.ce-popover-item:not(:last-of-type){margin-bottom:1px}.ce-popover-item__icon{border-radius:5px;width:26px;height:26px;-webkit-box-shadow:0 0 0 1px var(--color-border-icon);box-shadow:0 0 0 1px var(--color-border-icon);background:#fff;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:10px}.ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover-item__icon{width:36px;height:36px;border-radius:8px}.ce-popover-item__icon svg{width:var(--icon-size-mobile);height:var(--icon-size-mobile)}}.ce-popover-item__title{font-size:14px;line-height:20px;font-weight:500;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}@media (max-width: 650px){.ce-popover-item__title{font-size:16px}}.ce-popover-item__secondary-title{color:var(--color-text-secondary);font-size:12px;margin-left:auto;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;margin-bottom:-2px;opacity:.6}@media (max-width: 650px){.ce-popover-item__secondary-title{display:none}}.ce-popover-item--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}.ce-popover-item--active .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}.ce-popover-item--disabled{color:var(--color-text-secondary);cursor:default;pointer-events:none}.ce-popover-item--disabled .ce-popover-item__icon{-webkit-box-shadow:0 0 0 1px var(--color-border-icon-disabled);box-shadow:0 0 0 1px var(--color-border-icon-disabled)}.ce-popover-item--focused:not(.ce-popover-item--no-focus){background:var(--color-background-item-focus)!important}.ce-popover-item--focused:not(.ce-popover-item--no-focus){-webkit-box-shadow:inset 0 0 0px 1px var(--color-shadow-item-focus);box-shadow:inset 0 0 0 1px var(--color-shadow-item-focus)}.ce-popover-item--hidden{display:none}@media (hover: hover){.ce-popover-item:hover{cursor:pointer}.ce-popover-item:hover:not(.ce-popover-item--no-hover){background-color:var(--color-background-item-hover)}.ce-popover-item:hover .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}}.ce-popover-item--confirmation{background:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__icon{color:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__title{color:#fff}@media (hover: hover){.ce-popover-item--confirmation:not(.ce-popover-item--no-hover):hover{background:var(--color-background-item-confirm-hover)}}.ce-popover-item--confirmation:not(.ce-popover-item--no-focus).ce-popover-item--focused{background:var(--color-background-item-confirm-hover)!important}.ce-popover-item--confirmation .ce-popover-item__icon,.ce-popover-item--active .ce-popover-item__icon,.ce-popover-item--focused .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}@-webkit-keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.wobble{-webkit-animation-name:wobble;animation-name:wobble;-webkit-animation-duration:.4s;animation-duration:.4s}@-webkit-keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}@keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}
`;class s9 extends xe{constructor(){super(...arguments),this.isMobile=!1,this.contentRectCache=void 0,this.resizeDebouncer=RF(()=>{this.windowResize()},200)}get CSS(){return{editorWrapper:"codex-editor",editorWrapperNarrow:"codex-editor--narrow",editorZone:"codex-editor__redactor",editorZoneHidden:"codex-editor__redactor--hidden",editorEmpty:"codex-editor--empty",editorRtlFix:"codex-editor--rtl"}}get contentRect(){if(this.contentRectCache)return this.contentRectCache;const e=this.nodes.wrapper.querySelector(`.${gt.CSS.content}`);return e?(this.contentRectCache=e.getBoundingClientRect(),this.contentRectCache):{width:650,left:0,right:0}}async prepare(){this.checkIsMobile(),this.make(),this.loadStyles()}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}checkEmptiness(){const{BlockManager:e}=this.Editor;this.nodes.wrapper.classList.toggle(this.CSS.editorEmpty,e.isEditorEmpty)}get someToolbarOpened(){const{Toolbar:e,BlockSettings:n,InlineToolbar:r,ConversionToolbar:i}=this.Editor;return n.opened||r.opened||i.opened||e.toolbox.opened}get someFlipperButtonFocused(){return this.Editor.Toolbar.toolbox.hasFocus()?!0:Object.entries(this.Editor).filter(([e,n])=>n.flipper instanceof Jr).some(([e,n])=>n.flipper.hasFocus())}destroy(){this.nodes.holder.innerHTML=""}closeAllToolbars(){const{Toolbar:e,BlockSettings:n,InlineToolbar:r,ConversionToolbar:i}=this.Editor;n.close(),r.close(),i.close(),e.toolbox.close()}checkIsMobile(){this.isMobile=window.innerWidth<cT}make(){this.nodes.holder=N.getHolder(this.config.holder),this.nodes.wrapper=N.make("div",[this.CSS.editorWrapper,...this.isRtl?[this.CSS.editorRtlFix]:[]]),this.nodes.redactor=N.make("div",this.CSS.editorZone),this.nodes.holder.offsetWidth<this.contentRect.width&&this.nodes.wrapper.classList.add(this.CSS.editorWrapperNarrow),this.nodes.redactor.style.paddingBottom=this.config.minHeight+"px",this.nodes.wrapper.appendChild(this.nodes.redactor),this.nodes.holder.appendChild(this.nodes.wrapper)}loadStyles(){const e="editor-js-styles";if(N.get(e))return;const n=N.make("style",null,{id:e,textContent:o9.toString()});N.prepend(document.head,n)}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.redactor,"click",e=>{this.redactorClicked(e)},!1),this.readOnlyMutableListeners.on(this.nodes.redactor,"mousedown",e=>{this.documentTouched(e)},!0),this.readOnlyMutableListeners.on(this.nodes.redactor,"touchstart",e=>{this.documentTouched(e)},!0),this.readOnlyMutableListeners.on(document,"keydown",e=>{this.documentKeydown(e)},!0),this.readOnlyMutableListeners.on(document,"mousedown",e=>{this.documentClicked(e)},!0),this.readOnlyMutableListeners.on(document,"selectionchange",()=>{this.selectionChanged()},!0),this.readOnlyMutableListeners.on(window,"resize",()=>{this.resizeDebouncer()},{passive:!0}),this.watchBlockHoveredEvents()}watchBlockHoveredEvents(){let e;this.readOnlyMutableListeners.on(this.nodes.redactor,"mousemove",Nm(n=>{const r=n.target.closest(".ce-block");this.Editor.BlockSelection.anyBlockSelected||r&&e!==r&&(e=r,this.eventsDispatcher.emit(kT,{block:this.Editor.BlockManager.getBlockByChildNode(r)}))},20),{passive:!0})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}windowResize(){this.contentRectCache=null,this.checkIsMobile()}documentKeydown(e){switch(e.keyCode){case ce.ENTER:this.enterPressed(e);break;case ce.BACKSPACE:case ce.DELETE:this.backspacePressed(e);break;case ce.ESC:this.escapePressed(e);break;default:this.defaultBehaviour(e);break}}defaultBehaviour(e){const{currentBlock:n}=this.Editor.BlockManager,r=e.target.closest(`.${this.CSS.editorWrapper}`),i=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;if(n!==void 0&&r===null){this.Editor.BlockEvents.keydown(e);return}r||n&&i||(this.Editor.BlockManager.dropPointer(),this.Editor.Toolbar.close())}backspacePressed(e){const{BlockManager:n,BlockSelection:r,Caret:i}=this.Editor;if(r.anyBlockSelected&&!se.isSelectionExists){const o=n.removeSelectedBlocks();i.setToBlock(n.insertDefaultBlockAtIndex(o,!0),i.positions.START),r.clearSelection(e),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()}}escapePressed(e){this.Editor.BlockSelection.clearSelection(e),this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.toolbox.close(),this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock)):this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.ConversionToolbar.opened?this.Editor.ConversionToolbar.close():this.Editor.InlineToolbar.opened?this.Editor.InlineToolbar.close():this.Editor.Toolbar.close()}enterPressed(e){const{BlockManager:n,BlockSelection:r}=this.Editor,i=n.currentBlockIndex>=0;if(r.anyBlockSelected&&!se.isSelectionExists){r.clearSelection(e),e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation();return}if(!this.someToolbarOpened&&i&&e.target.tagName==="BODY"){const o=this.Editor.BlockManager.insert();this.Editor.Caret.setToBlock(o),this.Editor.BlockManager.highlightCurrentNode(),this.Editor.Toolbar.moveAndOpen(o)}this.Editor.BlockSelection.clearSelection(e)}documentClicked(e){if(!e.isTrusted)return;const n=e.target;this.nodes.holder.contains(n)||se.isAtEditor||(this.Editor.BlockManager.dropPointer(),this.Editor.Toolbar.close());const r=this.Editor.BlockSettings.nodes.wrapper.contains(n),i=this.Editor.Toolbar.nodes.settingsToggler.contains(n),o=r||i;if(this.Editor.BlockSettings.opened&&!o){this.Editor.BlockSettings.close();const s=this.Editor.BlockManager.getBlockByChildNode(n);this.Editor.Toolbar.moveAndOpen(s)}this.Editor.BlockSelection.clearSelection(e)}documentTouched(e){let n=e.target;if(n===this.nodes.redactor){const r=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,i=e instanceof MouseEvent?e.clientY:e.touches[0].clientY;n=document.elementFromPoint(r,i)}try{this.Editor.BlockManager.setCurrentBlockByChildNode(n),this.Editor.BlockManager.highlightCurrentNode()}catch{this.Editor.RectangleSelection.isRectActivated()||this.Editor.Caret.setToTheLastBlock()}this.Editor.Toolbar.moveAndOpen()}redactorClicked(e){const{BlockSelection:n}=this.Editor;if(!se.isCollapsed)return;const r=()=>{e.stopImmediatePropagation(),e.stopPropagation()},i=e.target,o=e.metaKey||e.ctrlKey;if(N.isAnchor(i)&&o){r();const c=i.getAttribute("href"),u=MF(c);LF(u);return}const s=this.Editor.BlockManager.getBlockByIndex(-1),a=N.offset(s.holder).bottom,l=e.pageY;if(e.target instanceof Element&&e.target.isEqualNode(this.nodes.redactor)&&!n.anyBlockSelected&&a<l){r();const{BlockManager:c,Caret:u,Toolbar:d}=this.Editor;(!c.lastBlock.tool.isDefault||!c.lastBlock.isEmpty)&&c.insertAtEnd(),u.setToTheLastBlock(),d.moveAndOpen(c.lastBlock)}}selectionChanged(){const{CrossBlockSelection:e,BlockSelection:n}=this.Editor,r=se.anchorElement;if(e.isCrossBlockSelectionStarted&&n.anyBlockSelected&&se.get().removeAllRanges(),!r){se.range||this.Editor.InlineToolbar.close();return}const i=r.closest(`.${gt.CSS.content}`)===null;if(i&&(this.Editor.InlineToolbar.containsNode(r)||this.Editor.InlineToolbar.close(),r.dataset.inlineToolbar!=="true"))return;this.Editor.BlockManager.currentBlock||this.Editor.BlockManager.setCurrentBlockByChildNode(r);const o=i!==!0;this.Editor.InlineToolbar.tryToShow(!0,o)}}const a9={BlocksAPI:HF,CaretAPI:WF,EventsAPI:YF,I18nAPI:fy,API:GF,InlineToolbarAPI:qF,ListenersAPI:KF,NotifierAPI:ZF,ReadOnlyAPI:eV,SanitizerAPI:aV,SaverAPI:lV,SelectionAPI:cV,StylesAPI:uV,ToolbarAPI:dV,TooltipAPI:pV,UiAPI:mV,BlockSettings:RV,ConversionToolbar:fn,Toolbar:NV,InlineToolbar:BV,BlockEvents:FV,BlockManager:UV,BlockSelection:jV,Caret:Ad,CrossBlockSelection:zV,DragNDrop:HV,ModificationsObserver:WV,Paste:TT,ReadOnly:YV,RectangleSelection:dl,Renderer:GV,Saver:qV,Tools:MT,UI:s9};class l9{constructor(e){this.moduleInstances={},this.eventsDispatcher=new Bh;let n,r;this.isReady=new Promise((i,o)=>{n=i,r=o}),Promise.resolve().then(async()=>{this.configuration=e,this.validate(),this.init(),await this.start(),await this.render();const{BlockManager:i,Caret:o,UI:s,ModificationsObserver:a}=this.moduleInstances;s.checkEmptiness(),a.enable(),this.configuration.autofocus&&(o.setToBlock(i.blocks[0],o.positions.START),i.highlightCurrentNode()),n()}).catch(i=>{Re(`Editor.js is not ready because of ${i}`,"error"),r(i)})}set configuration(e){var n,r;Dt(e)?this.config={...e}:this.config={holder:e},Fm(!!this.config.holderId,"config.holderId","config.holder"),this.config.holderId&&!this.config.holder&&(this.config.holder=this.config.holderId,this.config.holderId=null),this.config.holder==null&&(this.config.holder="editorjs"),this.config.logLevel||(this.config.logLevel=sT.VERBOSE),SF(this.config.logLevel),Fm(!!this.config.initialBlock,"config.initialBlock","config.defaultBlock"),this.config.defaultBlock=this.config.defaultBlock||this.config.initialBlock||"paragraph",this.config.minHeight=this.config.minHeight!==void 0?this.config.minHeight:300;const i={type:this.config.defaultBlock,data:{}};this.config.placeholder=this.config.placeholder||!1,this.config.sanitizer=this.config.sanitizer||{p:!0,b:!0,a:!0},this.config.hideToolbar=this.config.hideToolbar?this.config.hideToolbar:!1,this.config.tools=this.config.tools||{},this.config.i18n=this.config.i18n||{},this.config.data=this.config.data||{blocks:[]},this.config.onReady=this.config.onReady||(()=>{}),this.config.onChange=this.config.onChange||(()=>{}),this.config.inlineToolbar=this.config.inlineToolbar!==void 0?this.config.inlineToolbar:!0,(nr(this.config.data)||!this.config.data.blocks||this.config.data.blocks.length===0)&&(this.config.data={blocks:[i]}),this.config.readOnly=this.config.readOnly||!1,(n=this.config.i18n)!=null&&n.messages&&cn.setDictionary(this.config.i18n.messages),this.config.i18n.direction=((r=this.config.i18n)==null?void 0:r.direction)||"ltr"}get configuration(){return this.config}validate(){const{holderId:e,holder:n}=this.config;if(e&&n)throw Error("«holderId» and «holder» param can't assign at the same time.");if($i(n)&&!N.get(n))throw Error(`element with ID «${n}» is missing. Pass correct holder's ID.`);if(n&&Dt(n)&&!N.isElement(n))throw Error("«holder» value must be an Element node")}init(){this.constructModules(),this.configureModules()}async start(){await["Tools","UI","BlockManager","Paste","BlockSelection","RectangleSelection","CrossBlockSelection","ReadOnly"].reduce((e,n)=>e.then(async()=>{try{await this.moduleInstances[n].prepare()}catch(r){if(r instanceof dT)throw new Error(r.message);Re(`Module ${n} was skipped because of %o`,"warn",r)}}),Promise.resolve())}render(){return this.moduleInstances.Renderer.render(this.config.data.blocks)}constructModules(){Object.entries(a9).forEach(([e,n])=>{try{this.moduleInstances[e]=new n({config:this.configuration,eventsDispatcher:this.eventsDispatcher})}catch(r){Re("[constructModules]",`Module ${e} skipped because`,"error",r)}})}configureModules(){for(const e in this.moduleInstances)Object.prototype.hasOwnProperty.call(this.moduleInstances,e)&&(this.moduleInstances[e].state=this.getModulesDiff(e))}getModulesDiff(e){const n={};for(const r in this.moduleInstances)r!==e&&(n[r]=this.moduleInstances[r]);return n}}/**
 * Editor.js
 *
 * @license Apache-2.0
 * @see Editor.js <https://editorjs.io>
 * @author CodeX Team <https://codex.so>
 */class c9{static get version(){return"2.28.2"}constructor(e){let n=()=>{};Dt(e)&&$e(e.onReady)&&(n=e.onReady);const r=new l9(e);this.isReady=r.isReady.then(()=>{this.exportAPI(r),n()})}exportAPI(e){const n=["configuration"],r=()=>{Object.values(e.moduleInstances).forEach(i=>{$e(i.destroy)&&i.destroy(),i.listeners.removeAll()}),e=null;for(const i in this)Object.prototype.hasOwnProperty.call(this,i)&&delete this[i];Object.setPrototypeOf(this,null)};n.forEach(i=>{this[i]=e[i]}),this.destroy=r,Object.setPrototypeOf(this,e.moduleInstances.API.methods),delete this.exportAPI,Object.entries({blocks:{clear:"clear",render:"render"},caret:{focus:"focus"},events:{on:"on",off:"off",emit:"emit"},saver:{save:"save"}}).forEach(([i,o])=>{Object.entries(o).forEach(([s,a])=>{this[a]=e.moduleInstances.API.methods[i][s]})})}}(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".ce-paragraph{line-height:1.6em;outline:none}.ce-paragraph[data-placeholder]:empty:before{content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty:before{opacity:1}.codex-editor--toolbox-opened .ce-block:first-child .ce-paragraph[data-placeholder]:empty:before,.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty:focus:before{opacity:0}.ce-paragraph p:first-of-type{margin-top:0}.ce-paragraph p:last-of-type{margin-bottom:0}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const u9='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>';/**
 * Base Paragraph Block for the Editor.js.
 * Represents a regular text block
 *
 * @author CodeX (team@codex.so)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 */let d9=class OT{static get DEFAULT_PLACEHOLDER(){return""}constructor({data:e,config:n,api:r,readOnly:i}){this.api=r,this.readOnly=i,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=n.placeholder?n.placeholder:OT.DEFAULT_PLACEHOLDER,this._data={},this._element=null,this._preserveBlank=n.preserveBlank!==void 0?n.preserveBlank:!1,this.data=e}onKeyUp(e){if(e.code!=="Backspace"&&e.code!=="Delete")return;const{textContent:n}=this._element;n===""&&(this._element.innerHTML="")}drawView(){const e=document.createElement("DIV");return e.classList.add(this._CSS.wrapper,this._CSS.block),e.contentEditable=!1,e.dataset.placeholder=this.api.i18n.t(this._placeholder),this._data.text&&(e.innerHTML=this._data.text),this.readOnly||(e.contentEditable=!0,e.addEventListener("keyup",this.onKeyUp)),e}render(){return this._element=this.drawView(),this._element}merge(e){const n={text:this.data.text+e.text};this.data=n}validate(e){return!(e.text.trim()===""&&!this._preserveBlank)}save(e){return{text:e.innerHTML}}onPaste(e){const n={text:e.detail.data.innerHTML};this.data=n}static get conversionConfig(){return{export:"text",import:"text"}}static get sanitize(){return{text:{br:!0}}}static get isReadOnlySupported(){return!0}get data(){if(this._element!==null){const e=this._element.innerHTML;this._data.text=e}return this._data}set data(e){this._data=e||{},this._element!==null&&this.hydrate()}hydrate(){window.requestAnimationFrame(()=>{this._element.innerHTML=this._data.text||""})}static get pasteConfig(){return{tags:["P"]}}static get toolbox(){return{icon:u9,title:"Text"}}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function LT(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function nu(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function h9(t){var{factory:e,holder:n,defaultValue:r,children:i,value:o,onInitialize:s}=t,a=LT(t,["factory","holder","defaultValue","children","value","onInitialize"]);const l=ke.useRef(n??`react-editor-js-${Date.now().toString(16)}`),c=ke.useRef(null);return ke.useEffect(()=>(c.current=e(Object.assign(Object.assign({holder:l.current},r&&{data:r}),a)),s==null||s(c.current),()=>{var u;(u=c.current)===null||u===void 0||u.destroy()}),[]),ke.useEffect(()=>{var u;o&&((u=c.current)===null||u===void 0||u.render(o))},[o]),i||ke.createElement("div",{id:l.current})}class f9{constructor(e){var{tools:n}=e,r=LT(e,["tools"]);const i=Object.assign({paragraph:{class:d9,inlineToolbar:!0}},n);this._editorJS=new c9(Object.assign({tools:i},r))}get dangerouslyLowLevelInstance(){return this._editorJS}clear(){return nu(this,void 0,void 0,function*(){yield this._editorJS.clear()})}save(){return nu(this,void 0,void 0,function*(){return this._editorJS.save()})}destroy(){return nu(this,void 0,void 0,function*(){yield this._editorJS.isReady,yield this._editorJS.destroy()})}render(e){return nu(this,void 0,void 0,function*(){yield this._editorJS.render(e)})}}function p9(t){const e=ke.useCallback(n=>new f9(n),[]);return ke.createElement(h9,Object.assign({factory:e},t))}const m9=Object.freeze(Object.defineProperty({__proto__:null,default:p9},Symbol.toStringTag,{value:"Module"})),g9=$1(m9);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function v9(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ru(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function y9(t){var{factory:e,holder:n,defaultValue:r,children:i,value:o,onInitialize:s}=t,a=v9(t,["factory","holder","defaultValue","children","value","onInitialize"]);const l=ke.useRef(n??`react-editor-js-${Date.now().toString(16)}`),c=ke.useRef(null);return ke.useEffect(()=>(c.current=e(Object.assign(Object.assign({holder:l.current},r&&{data:r}),a)),s==null||s(c.current),()=>{var u;(u=c.current)===null||u===void 0||u.destroy()}),[]),ke.useEffect(()=>{var u;o&&((u=c.current)===null||u===void 0||u.render(o))},[o]),i||ke.createElement("div",{id:l.current})}class w9{constructor({data:e}){e&&(this._memoizedData=e)}get dangerouslyLowLevelInstance(){return null}clear(){return ru(this,void 0,void 0,function*(){})}save(){return ru(this,void 0,void 0,function*(){return this._memoizedData})}destroy(){return ru(this,void 0,void 0,function*(){})}render(){return ru(this,void 0,void 0,function*(){})}}function _9(t){const e=ke.useCallback(n=>new w9(n),[]);return ke.createElement(y9,Object.assign({factory:e},t))}const b9=Object.freeze(Object.defineProperty({__proto__:null,default:_9},Symbol.toStringTag,{value:"Module"})),k9=$1(b9);function E9(){if(typeof window<"u"){const t=g9;return t.default||t}else{const t=k9;return t.default||t}}(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode('.embed-tool--loading .embed-tool__caption{display:none}.embed-tool--loading .embed-tool__preloader{display:block}.embed-tool--loading .embed-tool__content{display:none}.embed-tool__preloader{display:none;position:relative;height:200px;box-sizing:border-box;border-radius:5px;border:1px solid #e6e9eb}.embed-tool__preloader:before{content:"";position:absolute;z-index:3;left:50%;top:50%;width:30px;height:30px;margin-top:-25px;margin-left:-15px;border-radius:50%;border:2px solid #cdd1e0;border-top-color:#388ae5;box-sizing:border-box;animation:embed-preloader-spin 2s infinite linear}.embed-tool__url{position:absolute;bottom:20px;left:50%;transform:translate(-50%);max-width:250px;color:#7b7e89;font-size:11px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.embed-tool__content{width:100%}.embed-tool__caption{margin-top:7px}.embed-tool__caption[contentEditable=true][data-placeholder]:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.embed-tool__caption[contentEditable=true][data-placeholder]:empty:before{opacity:1}.embed-tool__caption[contentEditable=true][data-placeholder]:empty:focus:before{opacity:0}@keyframes embed-preloader-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}')),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const x9={vimeo:{regex:/(?:http[s]?:\/\/)?(?:www.)?(?:player.)?vimeo\.co(?:.+\/([^\/]\d+)(?:#t=[\d]+)?s?$)/,embedUrl:"https://player.vimeo.com/video/<%= remote_id %>?title=0&byline=0",html:'<iframe style="width:100%;" height="320" frameborder="0"></iframe>',height:320,width:580},youtube:{regex:/(?:https?:\/\/)?(?:www\.)?(?:(?:youtu\.be\/)|(?:youtube\.com)\/(?:v\/|u\/\w\/|embed\/|watch))(?:(?:\?v=)?([^#&?=]*))?((?:[?&]\w*=\w*)*)/,embedUrl:"https://www.youtube.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580,id:([t,e])=>{if(!e&&t)return t;const n={start:"start",end:"end",t:"start",time_continue:"start",list:"list"};return e=e.slice(1).split("&").map(r=>{const[i,o]=r.split("=");return!t&&i==="v"?(t=o,null):!n[i]||o==="LL"||o.startsWith("RDMM")||o.startsWith("FL")?null:`${n[i]}=${o}`}).filter(r=>!!r),t+"?"+e.join("&")}},coub:{regex:/https?:\/\/coub\.com\/view\/([^\/\?\&]+)/,embedUrl:"https://coub.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},vine:{regex:/https?:\/\/vine\.co\/v\/([^\/\?\&]+)/,embedUrl:"https://vine.co/v/<%= remote_id %>/embed/simple/",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},imgur:{regex:/https?:\/\/(?:i\.)?imgur\.com.*\/([a-zA-Z0-9]+)(?:\.gifv)?/,embedUrl:"http://imgur.com/<%= remote_id %>/embed",html:'<iframe allowfullscreen="true" scrolling="no" id="imgur-embed-iframe-pub-<%= remote_id %>" class="imgur-embed-iframe-pub" style="height: 500px; width: 100%; border: 1px solid #000"></iframe>',height:500,width:540},gfycat:{regex:/https?:\/\/gfycat\.com(?:\/detail)?\/([a-zA-Z]+)/,embedUrl:"https://gfycat.com/ifr/<%= remote_id %>",html:`<iframe frameborder='0' scrolling='no' style="width:100%;" height='436' allowfullscreen ></iframe>`,height:436,width:580},"twitch-channel":{regex:/https?:\/\/www\.twitch\.tv\/([^\/\?\&]*)\/?$/,embedUrl:"https://player.twitch.tv/?channel=<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"twitch-video":{regex:/https?:\/\/www\.twitch\.tv\/(?:[^\/\?\&]*\/v|videos)\/([0-9]*)/,embedUrl:"https://player.twitch.tv/?video=v<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"yandex-music-album":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/?$/,embedUrl:"https://music.yandex.ru/iframe/#album/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" style="width:100%;" height="400"></iframe>',height:400,width:540},"yandex-music-track":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/track\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#track/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:100px;" style="width:100%;" height="100"></iframe>',height:100,width:540,id:t=>t.join("/")},"yandex-music-playlist":{regex:/https?:\/\/music\.yandex\.ru\/users\/([^\/\?\&]*)\/playlists\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#playlist/<%= remote_id %>/show/cover/description/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" width="540" height="400"></iframe>',height:400,width:540,id:t=>t.join("/")},codepen:{regex:/https?:\/\/codepen\.io\/([^\/\?\&]*)\/pen\/([^\/\?\&]*)/,embedUrl:"https://codepen.io/<%= remote_id %>?height=300&theme-id=0&default-tab=css,result&embed-version=2",html:"<iframe height='300' scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%;'></iframe>",height:300,width:600,id:t=>t.join("/embed/")},instagram:{regex:/https?:\/\/www\.instagram\.com\/p\/([^\/\?\&]+)\/?.*/,embedUrl:"https://www.instagram.com/p/<%= remote_id %>/embed",html:'<iframe width="400" height="505" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:505,width:400},twitter:{regex:/^https?:\/\/twitter\.com\/(?:#!\/)?(\w+)\/status(?:es)?\/(\d+?.*)?$/,embedUrl:"https://twitframe.com/show?url=https://twitter.com/<%= remote_id %>",html:'<iframe width="600" height="600" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600,id:t=>t.join("/status/")},pinterest:{regex:/https?:\/\/([^\/\?\&]*).pinterest.com\/pin\/([^\/\?\&]*)\/?$/,embedUrl:"https://assets.pinterest.com/ext/embed.html?id=<%= remote_id %>",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 400px; max-height: 1000px;'></iframe>",id:t=>t[1]},facebook:{regex:/https?:\/\/www.facebook.com\/([^\/\?\&]*)\/(.*)/,embedUrl:"https://www.facebook.com/plugins/post.php?href=https://www.facebook.com/<%= remote_id %>&width=500",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 500px; max-height: 1000px;'></iframe>",id:t=>t.join("/")},aparat:{regex:/(?:http[s]?:\/\/)?(?:www.)?aparat\.com\/v\/([^\/\?\&]+)\/?/,embedUrl:"https://www.aparat.com/video/video/embed/videohash/<%= remote_id %>/vt/frame",html:'<iframe width="600" height="300" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600},miro:{regex:/https:\/\/miro.com\/\S+(\S{12})\/(\S+)?/,embedUrl:"https://miro.com/app/live-embed/<%= remote_id %>",html:'<iframe width="700" height="500" style="margin: 0 auto;" allowFullScreen frameBorder="0" scrolling="no"></iframe>'},github:{regex:/https?:\/\/gist.github.com\/([^\/\?\&]*)\/([^\/\?\&]*)/,embedUrl:'data:text/html;charset=utf-8,<head><base target="_blank" /></head><body><script src="https://gist.github.com/<%= remote_id %>" ><\/script></body>',html:'<iframe width="100%" height="350" frameborder="0" style="margin: 0 auto;"></iframe>',height:300,width:600,id:t=>`${t.join("/")}.js`}};function Wm(t,e,n){var r,i,o,s,a;e==null&&(e=100);function l(){var u=Date.now()-s;u<e&&u>=0?r=setTimeout(l,e-u):(r=null,n||(a=t.apply(o,i),o=i=null))}var c=function(){o=this,i=arguments,s=Date.now();var u=n&&!r;return r||(r=setTimeout(l,e)),u&&(a=t.apply(o,i),o=i=null),a};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(a=t.apply(o,i),o=i=null,clearTimeout(r),r=null)},c}Wm.debounce=Wm;var S9=Wm;let T9=class no{constructor({data:e,api:n,readOnly:r}){this.api=n,this._data={},this.element=null,this.readOnly=r,this.data=e}set data(e){if(!(e instanceof Object))throw Error("Embed Tool data should be object");const{service:n,source:r,embed:i,width:o,height:s,caption:a=""}=e;this._data={service:n||this.data.service,source:r||this.data.source,embed:i||this.data.embed,width:o||this.data.width,height:s||this.data.height,caption:a||this.data.caption||""};const l=this.element;l&&l.parentNode.replaceChild(this.render(),l)}get data(){if(this.element){const e=this.element.querySelector(`.${this.api.styles.input}`);this._data.caption=e?e.innerHTML:""}return this._data}get CSS(){return{baseClass:this.api.styles.block,input:this.api.styles.input,container:"embed-tool",containerLoading:"embed-tool--loading",preloader:"embed-tool__preloader",caption:"embed-tool__caption",url:"embed-tool__url",content:"embed-tool__content"}}render(){if(!this.data.service){const a=document.createElement("div");return this.element=a,a}const{html:e}=no.services[this.data.service],n=document.createElement("div"),r=document.createElement("div"),i=document.createElement("template"),o=this.createPreloader();n.classList.add(this.CSS.baseClass,this.CSS.container,this.CSS.containerLoading),r.classList.add(this.CSS.input,this.CSS.caption),n.appendChild(o),r.contentEditable=!this.readOnly,r.dataset.placeholder=this.api.i18n.t("Enter a caption"),r.innerHTML=this.data.caption||"",i.innerHTML=e,i.content.firstChild.setAttribute("src",this.data.embed),i.content.firstChild.classList.add(this.CSS.content);const s=this.embedIsReady(n);return n.appendChild(i.content.firstChild),n.appendChild(r),s.then(()=>{n.classList.remove(this.CSS.containerLoading)}),this.element=n,n}createPreloader(){const e=document.createElement("preloader"),n=document.createElement("div");return n.textContent=this.data.source,e.classList.add(this.CSS.preloader),n.classList.add(this.CSS.url),e.appendChild(n),e}save(){return this.data}onPaste(e){const{key:n,data:r}=e.detail,{regex:i,embedUrl:o,width:s,height:a,id:l=d=>d.shift()}=no.services[n],c=i.exec(r).slice(1),u=o.replace(/<%= remote_id %>/g,l(c));this.data={service:n,source:r,embed:u,width:s,height:a}}static prepare({config:e={}}){const{services:n={}}=e;let r=Object.entries(x9);const i=Object.entries(n).filter(([s,a])=>typeof a=="boolean"&&a===!0).map(([s])=>s),o=Object.entries(n).filter(([s,a])=>typeof a=="object").filter(([s,a])=>no.checkServiceConfig(a)).map(([s,a])=>{const{regex:l,embedUrl:c,html:u,height:d,width:h,id:f}=a;return[s,{regex:l,embedUrl:c,html:u,height:d,width:h,id:f}]});i.length&&(r=r.filter(([s])=>i.includes(s))),r=r.concat(o),no.services=r.reduce((s,[a,l])=>a in s?(s[a]=Object.assign({},s[a],l),s):(s[a]=l,s),{}),no.patterns=r.reduce((s,[a,l])=>(s[a]=l.regex,s),{})}static checkServiceConfig(e){const{regex:n,embedUrl:r,html:i,height:o,width:s,id:a}=e;let l=n&&n instanceof RegExp&&r&&typeof r=="string"&&i&&typeof i=="string";return l=l&&(a!==void 0?a instanceof Function:!0),l=l&&(o!==void 0?Number.isFinite(o):!0),l=l&&(s!==void 0?Number.isFinite(s):!0),l}static get pasteConfig(){return{patterns:no.patterns}}static get isReadOnlySupported(){return!0}embedIsReady(e){let n=null;return new Promise((r,i)=>{n=new MutationObserver(S9.debounce(r,450)),n.observe(e,{childList:!0,subtree:!0})}).then(()=>{n.disconnect()})}};(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".cdx-list{margin:0;padding-left:40px;outline:none}.cdx-list__item{padding:5.5px 0 5.5px 3px;line-height:1.6em}.cdx-list--unordered{list-style:disc}.cdx-list--ordered{list-style:decimal}.cdx-list-settings{display:flex}.cdx-list-settings .cdx-settings-button{width:50%}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const P1='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="9" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 17H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 12H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 7H4.99002"/></svg>',C9='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="12" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.79999 14L7.79999 7.2135C7.79999 7.12872 7.7011 7.0824 7.63597 7.13668L4.79999 9.5"/></svg>';let I9=class{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}static get toolbox(){return{icon:P1,title:"List"}}constructor({data:e,config:n,api:r,readOnly:i}){this._elements={wrapper:null},this.api=r,this.readOnly=i,this.settings=[{name:"unordered",label:this.api.i18n.t("Unordered"),icon:P1,default:n.defaultStyle==="unordered"||!1},{name:"ordered",label:this.api.i18n.t("Ordered"),icon:C9,default:n.defaultStyle==="ordered"||!0}],this._data={style:this.settings.find(o=>o.default===!0).name,items:[]},this.data=e}render(){return this._elements.wrapper=this.makeMainTag(this._data.style),this._data.items.length?this._data.items.forEach(e=>{this._elements.wrapper.appendChild(this._make("li",this.CSS.item,{innerHTML:e}))}):this._elements.wrapper.appendChild(this._make("li",this.CSS.item)),this.readOnly||this._elements.wrapper.addEventListener("keydown",e=>{const[n,r]=[13,8];switch(e.keyCode){case n:this.getOutofList(e);break;case r:this.backspace(e);break}},!1),this._elements.wrapper}save(){return this.data}static get conversionConfig(){return{export:e=>e.items.join(". "),import:e=>({items:[e],style:"unordered"})}}static get sanitize(){return{style:{},items:{br:!0}}}renderSettings(){return this.settings.map(e=>({...e,isActive:this._data.style===e.name,closeOnActivate:!0,onActivate:()=>this.toggleTune(e.name)}))}onPaste(e){const n=e.detail.data;this.data=this.pasteHandler(n)}static get pasteConfig(){return{tags:["OL","UL","LI"]}}makeMainTag(e){const n=e==="ordered"?this.CSS.wrapperOrdered:this.CSS.wrapperUnordered,r=e==="ordered"?"ol":"ul";return this._make(r,[this.CSS.baseBlock,this.CSS.wrapper,n],{contentEditable:!this.readOnly})}toggleTune(e){const n=this.makeMainTag(e);for(;this._elements.wrapper.hasChildNodes();)n.appendChild(this._elements.wrapper.firstChild);this._elements.wrapper.replaceWith(n),this._elements.wrapper=n,this._data.style=e}get CSS(){return{baseBlock:this.api.styles.block,wrapper:"cdx-list",wrapperOrdered:"cdx-list--ordered",wrapperUnordered:"cdx-list--unordered",item:"cdx-list__item"}}set data(e){e||(e={}),this._data.style=e.style||this.settings.find(r=>r.default===!0).name,this._data.items=e.items||[];const n=this._elements.wrapper;n&&n.parentNode.replaceChild(this.render(),n)}get data(){this._data.items=[];const e=this._elements.wrapper.querySelectorAll(`.${this.CSS.item}`);for(let n=0;n<e.length;n++)e[n].innerHTML.replace("<br>"," ").trim()&&this._data.items.push(e[n].innerHTML);return this._data}_make(e,n=null,r={}){const i=document.createElement(e);Array.isArray(n)?i.classList.add(...n):n&&i.classList.add(n);for(const o in r)i[o]=r[o];return i}get currentItem(){let e=window.getSelection().anchorNode;return e.nodeType!==Node.ELEMENT_NODE&&(e=e.parentNode),e.closest(`.${this.CSS.item}`)}getOutofList(e){const n=this._elements.wrapper.querySelectorAll("."+this.CSS.item);if(n.length<2)return;const r=n[n.length-1],i=this.currentItem;i===r&&!r.textContent.trim().length&&(i.parentElement.removeChild(i),this.api.blocks.insert(),this.api.caret.setToBlock(this.api.blocks.getCurrentBlockIndex()),e.preventDefault(),e.stopPropagation())}backspace(e){const n=this._elements.wrapper.querySelectorAll("."+this.CSS.item),r=n[0];r&&n.length<2&&!r.innerHTML.replace("<br>"," ").trim()&&e.preventDefault()}selectItem(e){e.preventDefault();const n=window.getSelection(),r=n.anchorNode.parentNode,i=r.closest("."+this.CSS.item),o=new Range;o.selectNodeContents(i),n.removeAllRanges(),n.addRange(o)}pasteHandler(e){const{tagName:n}=e;let r;switch(n){case"OL":r="ordered";break;case"UL":case"LI":r="unordered"}const i={style:r,items:[]};if(n==="LI")i.items=[e.innerHTML];else{const o=Array.from(e.querySelectorAll("LI"));i.items=o.map(s=>s.innerHTML).filter(s=>!!s.trim())}return i}};var DT={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:a})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,s){if(1&s&&(o=i(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var l in o)i.d(a,l,(function(c){return o[c]}).bind(null,l));return a},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="/",i(i.s=4)}([function(n,r,i){var o=i(1),s=i(2);typeof(s=s.__esModule?s.default:s)=="string"&&(s=[[n.i,s,""]]);var a={insert:"head",singleton:!1};o(s,a),n.exports=s.locals||{}},function(n,r,i){var o,s=function(){return o===void 0&&(o=!!(window&&document&&document.all&&!window.atob)),o},a=function(){var g={};return function(v){if(g[v]===void 0){var E=document.querySelector(v);if(window.HTMLIFrameElement&&E instanceof window.HTMLIFrameElement)try{E=E.contentDocument.head}catch{E=null}g[v]=E}return g[v]}}(),l=[];function c(g){for(var v=-1,E=0;E<l.length;E++)if(l[E].identifier===g){v=E;break}return v}function u(g,v){for(var E={},A=[],R=0;R<g.length;R++){var _=g[R],y=v.base?_[0]+v.base:_[0],k=E[y]||0,x="".concat(y," ").concat(k);E[y]=k+1;var I=c(x),C={css:_[1],media:_[2],sourceMap:_[3]};I!==-1?(l[I].references++,l[I].updater(C)):l.push({identifier:x,updater:p(C,v),references:1}),A.push(x)}return A}function d(g){var v=document.createElement("style"),E=g.attributes||{};if(E.nonce===void 0){var A=i.nc;A&&(E.nonce=A)}if(Object.keys(E).forEach(function(_){v.setAttribute(_,E[_])}),typeof g.insert=="function")g.insert(v);else{var R=a(g.insert||"head");if(!R)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");R.appendChild(v)}return v}var h,f=(h=[],function(g,v){return h[g]=v,h.filter(Boolean).join(`
`)});function m(g,v,E,A){var R=E?"":A.media?"@media ".concat(A.media," {").concat(A.css,"}"):A.css;if(g.styleSheet)g.styleSheet.cssText=f(v,R);else{var _=document.createTextNode(R),y=g.childNodes;y[v]&&g.removeChild(y[v]),y.length?g.insertBefore(_,y[v]):g.appendChild(_)}}function b(g,v,E){var A=E.css,R=E.media,_=E.sourceMap;if(R?g.setAttribute("media",R):g.removeAttribute("media"),_&&btoa&&(A+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(_))))," */")),g.styleSheet)g.styleSheet.cssText=A;else{for(;g.firstChild;)g.removeChild(g.firstChild);g.appendChild(document.createTextNode(A))}}var S=null,w=0;function p(g,v){var E,A,R;if(v.singleton){var _=w++;E=S||(S=d(v)),A=m.bind(null,E,_,!1),R=m.bind(null,E,_,!0)}else E=d(v),A=b.bind(null,E,v),R=function(){(function(y){if(y.parentNode===null)return!1;y.parentNode.removeChild(y)})(E)};return A(g),function(y){if(y){if(y.css===g.css&&y.media===g.media&&y.sourceMap===g.sourceMap)return;A(g=y)}else R()}}n.exports=function(g,v){(v=v||{}).singleton||typeof v.singleton=="boolean"||(v.singleton=s());var E=u(g=g||[],v);return function(A){if(A=A||[],Object.prototype.toString.call(A)==="[object Array]"){for(var R=0;R<E.length;R++){var _=c(E[R]);l[_].references--}for(var y=u(A,v),k=0;k<E.length;k++){var x=c(E[k]);l[x].references===0&&(l[x].updater(),l.splice(x,1))}E=y}}}},function(n,r,i){(r=i(3)(!1)).push([n.i,`.ce-code__textarea {
    min-height: 200px;
    font-family: Menlo, Monaco, Consolas, Courier New, monospace;
    color: #41314e;
    line-height: 1.6em;
    font-size: 12px;
    background: #f8f7fa;
    border: 1px solid #f1f1f4;
    box-shadow: none;
    white-space: pre;
    word-wrap: normal;
    overflow-x: auto;
    resize: vertical;
}
`,""]),n.exports=r},function(n,r,i){n.exports=function(o){var s=[];return s.toString=function(){return this.map(function(a){var l=function(c,u){var d=c[1]||"",h=c[3];if(!h)return d;if(u&&typeof btoa=="function"){var f=(b=h,S=btoa(unescape(encodeURIComponent(JSON.stringify(b)))),w="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(S),"/*# ".concat(w," */")),m=h.sources.map(function(p){return"/*# sourceURL=".concat(h.sourceRoot||"").concat(p," */")});return[d].concat(m).concat([f]).join(`
`)}var b,S,w;return[d].join(`
`)}(a,o);return a[2]?"@media ".concat(a[2]," {").concat(l,"}"):l}).join("")},s.i=function(a,l,c){typeof a=="string"&&(a=[[null,a,""]]);var u={};if(c)for(var d=0;d<this.length;d++){var h=this[d][0];h!=null&&(u[h]=!0)}for(var f=0;f<a.length;f++){var m=[].concat(a[f]);c&&u[m[0]]||(l&&(m[2]?m[2]="".concat(l," and ").concat(m[2]):m[2]=l),s.push(m))}},s}},function(n,r,i){i.r(r),i.d(r,"default",function(){return a}),i(0);function o(l,c){for(var u=0;u<c.length;u++){var d=c[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}function s(l,c,u){return c&&o(l.prototype,c),u&&o(l,u),l}/**
 * CodeTool for Editor.js
 *
 * @author CodeX (team@ifmo.su)
 * @copyright CodeX 2018
 * @license MIT
 * @version 2.0.0
 */var a=function(){function l(c){var u=c.data,d=c.config,h=c.api,f=c.readOnly;(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,l),this.api=h,this.readOnly=f,this.placeholder=this.api.i18n.t(d.placeholder||l.DEFAULT_PLACEHOLDER),this.CSS={baseClass:this.api.styles.block,input:this.api.styles.input,wrapper:"ce-code",textarea:"ce-code__textarea"},this.nodes={holder:null,textarea:null},this.data={code:u.code||""},this.nodes.holder=this.drawView()}return s(l,null,[{key:"isReadOnlySupported",get:function(){return!0}},{key:"enableLineBreaks",get:function(){return!0}}]),s(l,[{key:"drawView",value:function(){var c=this,u=document.createElement("div"),d=document.createElement("textarea");return u.classList.add(this.CSS.baseClass,this.CSS.wrapper),d.classList.add(this.CSS.textarea,this.CSS.input),d.textContent=this.data.code,d.placeholder=this.placeholder,this.readOnly&&(d.disabled=!0),u.appendChild(d),d.addEventListener("keydown",function(h){switch(h.code){case"Tab":c.tabHandler(h)}}),this.nodes.textarea=d,u}},{key:"render",value:function(){return this.nodes.holder}},{key:"save",value:function(c){return{code:c.querySelector("textarea").value}}},{key:"onPaste",value:function(c){var u=c.detail.data;this.data={code:u.textContent}}},{key:"tabHandler",value:function(c){c.stopPropagation(),c.preventDefault();var u,d=c.target,h=c.shiftKey,f=d.selectionStart,m=d.value;if(h){var b=function(S,w){for(var p="";p!==`
`&&w>0;)w-=1,p=S.substr(w,1);return p===`
`&&(w+=1),w}(m,f);if(m.substr(b,2)!=="  ")return;d.value=m.substring(0,b)+m.substring(b+2),u=f-2}else u=f+2,d.value=m.substring(0,f)+"  "+m.substring(f);d.setSelectionRange(u,u)}},{key:"data",get:function(){return this._data},set:function(c){this._data=c,this.nodes.textarea&&(this.nodes.textarea.textContent=c.code)}}],[{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 8L5 12L9 16"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 8L19 12L15 16"/></svg>',title:"Code"}}},{key:"DEFAULT_PLACEHOLDER",get:function(){return"Enter a code"}},{key:"pasteConfig",get:function(){return{tags:["pre"]}}},{key:"sanitize",get:function(){return{code:!0}}}]),l}()}]).default})})(DT);var A9=DT.exports;const R9=Zr(A9);(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".ce-header{padding:.6em 0 3px;margin:0;line-height:1.25em;outline:none}.ce-header p,.ce-header div{padding:0!important;margin:0!important}.ce-header[contentEditable=true][data-placeholder]:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;display:none;cursor:text}.ce-header[contentEditable=true][data-placeholder]:empty:before{display:block}.ce-header[contentEditable=true][data-placeholder]:empty:focus:before{display:none}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const P9='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19 17V10.2135C19 10.1287 18.9011 10.0824 18.836 10.1367L16 12.5"/></svg>',M9='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10 19 9.5 19 12C19 13.9771 16.0684 13.9997 16.0012 16.8981C15.9999 16.9533 16.0448 17 16.1 17L19.3 17"/></svg>',O9='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10.5 16.8323 10 17.6 10C18.3677 10 19.5 10.311 19.5 11.5C19.5 12.5315 18.7474 12.9022 18.548 12.9823C18.5378 12.9864 18.5395 13.0047 18.5503 13.0063C18.8115 13.0456 20 13.3065 20 14.8C20 16 19.5 17 17.8 17C17.8 17 16 17 16 16.3"/></svg>',L9='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 10L15.2834 14.8511C15.246 14.9178 15.294 15 15.3704 15C16.8489 15 18.7561 15 20.2 15M19 17C19 15.7187 19 14.8813 19 13.6"/></svg>',D9='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 15.9C16 15.9 16.3768 17 17.8 17C19.5 17 20 15.6199 20 14.7C20 12.7323 17.6745 12.0486 16.1635 12.9894C16.094 13.0327 16 12.9846 16 12.9027V10.1C16 10.0448 16.0448 10 16.1 10H19.8"/></svg>',N9='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19.5 10C16.5 10.5 16 13.3285 16 15M16 15V15C16 16.1046 16.8954 17 18 17H18.3246C19.3251 17 20.3191 16.3492 20.2522 15.3509C20.0612 12.4958 16 12.6611 16 15Z"/></svg>',B9='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 7L9 12M9 17V12M9 12L15 12M15 7V12M15 17L15 12"/></svg>';/**
 * Header block for the Editor.js.
 *
 * @author CodeX (team@ifmo.su)
 * @copyright CodeX 2018
 * @license MIT
 * @version 2.0.0
 */let F9=class{constructor({data:e,config:n,api:r,readOnly:i}){this.api=r,this.readOnly=i,this._CSS={block:this.api.styles.block,wrapper:"ce-header"},this._settings=n,this._data=this.normalizeData(e),this._element=this.getTag()}normalizeData(e){const n={};return typeof e!="object"&&(e={}),n.text=e.text||"",n.level=parseInt(e.level)||this.defaultLevel.number,n}render(){return this._element}renderSettings(){return this.levels.map(e=>({icon:e.svg,label:this.api.i18n.t(`Heading ${e.number}`),onActivate:()=>this.setLevel(e.number),closeOnActivate:!0,isActive:this.currentLevel.number===e.number}))}setLevel(e){this.data={level:e,text:this.data.text}}merge(e){const n={text:this.data.text+e.text,level:this.data.level};this.data=n}validate(e){return e.text.trim()!==""}save(e){return{text:e.innerHTML,level:this.currentLevel.number}}static get conversionConfig(){return{export:"text",import:"text"}}static get sanitize(){return{level:!1,text:{}}}static get isReadOnlySupported(){return!0}get data(){return this._data.text=this._element.innerHTML,this._data.level=this.currentLevel.number,this._data}set data(e){if(this._data=this.normalizeData(e),e.level!==void 0&&this._element.parentNode){const n=this.getTag();n.innerHTML=this._element.innerHTML,this._element.parentNode.replaceChild(n,this._element),this._element=n}e.text!==void 0&&(this._element.innerHTML=this._data.text||"")}getTag(){const e=document.createElement(this.currentLevel.tag);return e.innerHTML=this._data.text||"",e.classList.add(this._CSS.wrapper),e.contentEditable=this.readOnly?"false":"true",e.dataset.placeholder=this.api.i18n.t(this._settings.placeholder||""),e}get currentLevel(){let e=this.levels.find(n=>n.number===this._data.level);return e||(e=this.defaultLevel),e}get defaultLevel(){if(this._settings.defaultLevel){const e=this.levels.find(n=>n.number===this._settings.defaultLevel);if(e)return e;console.warn("(ง'̀-'́)ง Heading Tool: the default level specified was not found in available levels")}return this.levels[1]}get levels(){const e=[{number:1,tag:"H1",svg:P9},{number:2,tag:"H2",svg:M9},{number:3,tag:"H3",svg:O9},{number:4,tag:"H4",svg:L9},{number:5,tag:"H5",svg:D9},{number:6,tag:"H6",svg:N9}];return this._settings.levels?e.filter(n=>this._settings.levels.includes(n.number)):e}onPaste(e){const n=e.detail.data;let r=this.defaultLevel.number;switch(n.tagName){case"H1":r=1;break;case"H2":r=2;break;case"H3":r=3;break;case"H4":r=4;break;case"H5":r=5;break;case"H6":r=6;break}this._settings.levels&&(r=this._settings.levels.reduce((i,o)=>Math.abs(o-r)<Math.abs(i-r)?o:i)),this.data={level:r,text:n.innerHTML}}static get pasteConfig(){return{tags:["H1","H2","H3","H4","H5","H6"]}}static get toolbox(){return{icon:B9,title:"Heading"}}};var NT={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:a})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,s){if(1&s&&(o=i(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var l in o)i.d(a,l,(function(c){return o[c]}).bind(null,l));return a},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="/",i(i.s=5)}([function(n,r,i){var o=i(1);typeof o=="string"&&(o=[[n.i,o,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i(3)(o,s),o.locals&&(n.exports=o.locals)},function(n,r,i){(n.exports=i(2)(!1)).push([n.i,`.cdx-quote-icon svg {
  transform: rotate(180deg);
}

.cdx-quote {
  margin: 0;
}

.cdx-quote__text {
  min-height: 158px;
  margin-bottom: 10px;
}

.cdx-quote__caption {}

.cdx-quote [contentEditable=true][data-placeholder]::before{
  position: absolute;
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  opacity: 0;
}

.cdx-quote [contentEditable=true][data-placeholder]:empty::before {
  opacity: 1;
}

.cdx-quote [contentEditable=true][data-placeholder]:empty:focus::before {
  opacity: 0;
}


.cdx-quote-settings {
  display: flex;
}

.cdx-quote-settings .cdx-settings-button {
  width: 50%;
}
`,""])},function(n,r){n.exports=function(i){var o=[];return o.toString=function(){return this.map(function(s){var a=function(l,c){var u=l[1]||"",d=l[3];if(!d)return u;if(c&&typeof btoa=="function"){var h=(m=d,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(m))))+" */"),f=d.sources.map(function(b){return"/*# sourceURL="+d.sourceRoot+b+" */"});return[u].concat(f).concat([h]).join(`
`)}var m;return[u].join(`
`)}(s,i);return s[2]?"@media "+s[2]+"{"+a+"}":a}).join("")},o.i=function(s,a){typeof s=="string"&&(s=[[null,s,""]]);for(var l={},c=0;c<this.length;c++){var u=this[c][0];typeof u=="number"&&(l[u]=!0)}for(c=0;c<s.length;c++){var d=s[c];typeof d[0]=="number"&&l[d[0]]||(a&&!d[2]?d[2]=a:a&&(d[2]="("+d[2]+") and ("+a+")"),o.push(d))}},o}},function(n,r,i){var o,s,a={},l=(o=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=o.apply(this,arguments)),s}),c=function(_){var y={};return function(k){if(typeof k=="function")return k();if(y[k]===void 0){var x=(function(I){return document.querySelector(I)}).call(this,k);if(window.HTMLIFrameElement&&x instanceof window.HTMLIFrameElement)try{x=x.contentDocument.head}catch{x=null}y[k]=x}return y[k]}}(),u=null,d=0,h=[],f=i(4);function m(_,y){for(var k=0;k<_.length;k++){var x=_[k],I=a[x.id];if(I){I.refs++;for(var C=0;C<I.parts.length;C++)I.parts[C](x.parts[C]);for(;C<x.parts.length;C++)I.parts.push(v(x.parts[C],y))}else{var M=[];for(C=0;C<x.parts.length;C++)M.push(v(x.parts[C],y));a[x.id]={id:x.id,refs:1,parts:M}}}}function b(_,y){for(var k=[],x={},I=0;I<_.length;I++){var C=_[I],M=y.base?C[0]+y.base:C[0],T={css:C[1],media:C[2],sourceMap:C[3]};x[M]?x[M].parts.push(T):k.push(x[M]={id:M,parts:[T]})}return k}function S(_,y){var k=c(_.insertInto);if(!k)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var x=h[h.length-1];if(_.insertAt==="top")x?x.nextSibling?k.insertBefore(y,x.nextSibling):k.appendChild(y):k.insertBefore(y,k.firstChild),h.push(y);else if(_.insertAt==="bottom")k.appendChild(y);else{if(typeof _.insertAt!="object"||!_.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var I=c(_.insertInto+" "+_.insertAt.before);k.insertBefore(y,I)}}function w(_){if(_.parentNode===null)return!1;_.parentNode.removeChild(_);var y=h.indexOf(_);y>=0&&h.splice(y,1)}function p(_){var y=document.createElement("style");return _.attrs.type===void 0&&(_.attrs.type="text/css"),g(y,_.attrs),S(_,y),y}function g(_,y){Object.keys(y).forEach(function(k){_.setAttribute(k,y[k])})}function v(_,y){var k,x,I,C;if(y.transform&&_.css){if(!(C=y.transform(_.css)))return function(){};_.css=C}if(y.singleton){var M=d++;k=u||(u=p(y)),x=R.bind(null,k,M,!1),I=R.bind(null,k,M,!0)}else _.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(k=function(T){var L=document.createElement("link");return T.attrs.type===void 0&&(T.attrs.type="text/css"),T.attrs.rel="stylesheet",g(L,T.attrs),S(T,L),L}(y),x=(function(T,L,H){var P=H.css,B=H.sourceMap,V=L.convertToAbsoluteUrls===void 0&&B;(L.convertToAbsoluteUrls||V)&&(P=f(P)),B&&(P+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(B))))+" */");var Z=new Blob([P],{type:"text/css"}),K=T.href;T.href=URL.createObjectURL(Z),K&&URL.revokeObjectURL(K)}).bind(null,k,y),I=function(){w(k),k.href&&URL.revokeObjectURL(k.href)}):(k=p(y),x=(function(T,L){var H=L.css,P=L.media;if(P&&T.setAttribute("media",P),T.styleSheet)T.styleSheet.cssText=H;else{for(;T.firstChild;)T.removeChild(T.firstChild);T.appendChild(document.createTextNode(H))}}).bind(null,k),I=function(){w(k)});return x(_),function(T){if(T){if(T.css===_.css&&T.media===_.media&&T.sourceMap===_.sourceMap)return;x(_=T)}else I()}}n.exports=function(_,y){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(y=y||{}).attrs=typeof y.attrs=="object"?y.attrs:{},y.singleton||typeof y.singleton=="boolean"||(y.singleton=l()),y.insertInto||(y.insertInto="head"),y.insertAt||(y.insertAt="bottom");var k=b(_,y);return m(k,y),function(x){for(var I=[],C=0;C<k.length;C++){var M=k[C];(T=a[M.id]).refs--,I.push(T)}for(x&&m(b(x,y),y),C=0;C<I.length;C++){var T;if((T=I[C]).refs===0){for(var L=0;L<T.parts.length;L++)T.parts[L]();delete a[T.id]}}}};var E,A=(E=[],function(_,y){return E[_]=y,E.filter(Boolean).join(`
`)});function R(_,y,k,x){var I=k?"":x.css;if(_.styleSheet)_.styleSheet.cssText=A(y,I);else{var C=document.createTextNode(I),M=_.childNodes;M[y]&&_.removeChild(M[y]),M.length?_.insertBefore(C,M[y]):_.appendChild(C)}}},function(n,r){n.exports=function(i){var o=typeof window<"u"&&window.location;if(!o)throw new Error("fixUrls requires window.location");if(!i||typeof i!="string")return i;var s=o.protocol+"//"+o.host,a=s+o.pathname.replace(/\/[^\/]*$/,"/");return i.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(l,c){var u,d=c.trim().replace(/^"(.*)"$/,function(h,f){return f}).replace(/^'(.*)'$/,function(h,f){return f});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(d)?l:(u=d.indexOf("//")===0?d:d.indexOf("/")===0?s+d:a+d.replace(/^\.\//,""),"url("+JSON.stringify(u)+")")})}},function(n,r,i){i.r(r),i(0);function o(c){return function(u){if(Array.isArray(u)){for(var d=0,h=new Array(u.length);d<u.length;d++)h[d]=u[d];return h}}(c)||function(u){if(Symbol.iterator in Object(u)||Object.prototype.toString.call(u)==="[object Arguments]")return Array.from(u)}(c)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(c,u){for(var d=0;d<u.length;d++){var h=u[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(c,h.key,h)}}function a(c,u,d){return u&&s(c.prototype,u),d&&s(c,d),c}i.d(r,"default",function(){return l});var l=function(){function c(u){var d=u.data,h=u.config,f=u.api,m=u.readOnly;(function(w,p){if(!(w instanceof p))throw new TypeError("Cannot call a class as a function")})(this,c);var b=c.ALIGNMENTS,S=c.DEFAULT_ALIGNMENT;this.api=f,this.readOnly=m,this.quotePlaceholder=h.quotePlaceholder||c.DEFAULT_QUOTE_PLACEHOLDER,this.captionPlaceholder=h.captionPlaceholder||c.DEFAULT_CAPTION_PLACEHOLDER,this.data={text:d.text||"",caption:d.caption||"",alignment:Object.values(b).includes(d.alignment)&&d.alignment||h.defaultAlignment||S}}return a(c,[{key:"CSS",get:function(){return{baseClass:this.api.styles.block,wrapper:"cdx-quote",text:"cdx-quote__text",input:this.api.styles.input,caption:"cdx-quote__caption"}}},{key:"settings",get:function(){return[{name:"left",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 7L5 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 17H5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13 12L5 12"/></svg>'},{name:"center",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 7L6 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 17H6"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 12L8 12"/></svg>'}]}}],[{key:"isReadOnlySupported",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 10.8182L9 10.8182C8.80222 10.8182 8.60888 10.7649 8.44443 10.665C8.27998 10.5651 8.15181 10.4231 8.07612 10.257C8.00043 10.0909 7.98063 9.90808 8.01922 9.73174C8.0578 9.55539 8.15304 9.39341 8.29289 9.26627C8.43275 9.13913 8.61093 9.05255 8.80491 9.01747C8.99889 8.98239 9.19996 9.00039 9.38268 9.0692C9.56541 9.13801 9.72159 9.25453 9.83147 9.40403C9.94135 9.55353 10 9.72929 10 9.90909L10 12.1818C10 12.664 9.78929 13.1265 9.41421 13.4675C9.03914 13.8084 8.53043 14 8 14"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 10.8182L15 10.8182C14.8022 10.8182 14.6089 10.7649 14.4444 10.665C14.28 10.5651 14.1518 10.4231 14.0761 10.257C14.0004 10.0909 13.9806 9.90808 14.0192 9.73174C14.0578 9.55539 14.153 9.39341 14.2929 9.26627C14.4327 9.13913 14.6109 9.05255 14.8049 9.01747C14.9989 8.98239 15.2 9.00039 15.3827 9.0692C15.5654 9.13801 15.7216 9.25453 15.8315 9.40403C15.9414 9.55353 16 9.72929 16 9.90909L16 12.1818C16 12.664 15.7893 13.1265 15.4142 13.4675C15.0391 13.8084 14.5304 14 14 14"/></svg>',title:"Quote"}}},{key:"contentless",get:function(){return!0}},{key:"enableLineBreaks",get:function(){return!0}},{key:"DEFAULT_QUOTE_PLACEHOLDER",get:function(){return"Enter a quote"}},{key:"DEFAULT_CAPTION_PLACEHOLDER",get:function(){return"Enter a caption"}},{key:"ALIGNMENTS",get:function(){return{left:"left",center:"center"}}},{key:"DEFAULT_ALIGNMENT",get:function(){return c.ALIGNMENTS.left}},{key:"conversionConfig",get:function(){return{import:"text",export:function(u){return u.caption?"".concat(u.text," — ").concat(u.caption):u.text}}}}]),a(c,[{key:"render",value:function(){var u=this._make("blockquote",[this.CSS.baseClass,this.CSS.wrapper]),d=this._make("div",[this.CSS.input,this.CSS.text],{contentEditable:!this.readOnly,innerHTML:this.data.text}),h=this._make("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly,innerHTML:this.data.caption});return d.dataset.placeholder=this.quotePlaceholder,h.dataset.placeholder=this.captionPlaceholder,u.appendChild(d),u.appendChild(h),u}},{key:"save",value:function(u){var d=u.querySelector(".".concat(this.CSS.text)),h=u.querySelector(".".concat(this.CSS.caption));return Object.assign(this.data,{text:d.innerHTML,caption:h.innerHTML})}},{key:"renderSettings",value:function(){var u=this;return this.settings.map(function(d){return{icon:d.icon,label:u.api.i18n.t("Align ".concat((h=d.name,h[0].toUpperCase()+h.substr(1)))),onActivate:function(){return u._toggleTune(d.name)},isActive:u.data.alignment===d.name,closeOnActivate:!0};var h})}},{key:"_toggleTune",value:function(u){this.data.alignment=u}},{key:"_make",value:function(u){var d,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},m=document.createElement(u);Array.isArray(h)?(d=m.classList).add.apply(d,o(h)):h&&m.classList.add(h);for(var b in f)m[b]=f[b];return m}}],[{key:"sanitize",get:function(){return{text:{br:!0},caption:{br:!0},alignment:{}}}}]),c}()}]).default})})(NT);var V9=NT.exports;const $9=Zr(V9);var BT={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:a})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,s){if(1&s&&(o=i(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var l in o)i.d(a,l,(function(c){return o[c]}).bind(null,l));return a},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="/",i(i.s=5)}([function(n,r,i){var o=i(1);typeof o=="string"&&(o=[[n.i,o,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i(3)(o,s),o.locals&&(n.exports=o.locals)},function(n,r,i){(n.exports=i(2)(!1)).push([n.i,`.cdx-marker {
  background: rgba(245,235,111,0.29);
  padding: 3px 0;
}`,""])},function(n,r){n.exports=function(i){var o=[];return o.toString=function(){return this.map(function(s){var a=function(l,c){var u=l[1]||"",d=l[3];if(!d)return u;if(c&&typeof btoa=="function"){var h=(m=d,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(m))))+" */"),f=d.sources.map(function(b){return"/*# sourceURL="+d.sourceRoot+b+" */"});return[u].concat(f).concat([h]).join(`
`)}var m;return[u].join(`
`)}(s,i);return s[2]?"@media "+s[2]+"{"+a+"}":a}).join("")},o.i=function(s,a){typeof s=="string"&&(s=[[null,s,""]]);for(var l={},c=0;c<this.length;c++){var u=this[c][0];typeof u=="number"&&(l[u]=!0)}for(c=0;c<s.length;c++){var d=s[c];typeof d[0]=="number"&&l[d[0]]||(a&&!d[2]?d[2]=a:a&&(d[2]="("+d[2]+") and ("+a+")"),o.push(d))}},o}},function(n,r,i){var o,s,a={},l=(o=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=o.apply(this,arguments)),s}),c=function(_){var y={};return function(k){if(typeof k=="function")return k();if(y[k]===void 0){var x=(function(I){return document.querySelector(I)}).call(this,k);if(window.HTMLIFrameElement&&x instanceof window.HTMLIFrameElement)try{x=x.contentDocument.head}catch{x=null}y[k]=x}return y[k]}}(),u=null,d=0,h=[],f=i(4);function m(_,y){for(var k=0;k<_.length;k++){var x=_[k],I=a[x.id];if(I){I.refs++;for(var C=0;C<I.parts.length;C++)I.parts[C](x.parts[C]);for(;C<x.parts.length;C++)I.parts.push(v(x.parts[C],y))}else{var M=[];for(C=0;C<x.parts.length;C++)M.push(v(x.parts[C],y));a[x.id]={id:x.id,refs:1,parts:M}}}}function b(_,y){for(var k=[],x={},I=0;I<_.length;I++){var C=_[I],M=y.base?C[0]+y.base:C[0],T={css:C[1],media:C[2],sourceMap:C[3]};x[M]?x[M].parts.push(T):k.push(x[M]={id:M,parts:[T]})}return k}function S(_,y){var k=c(_.insertInto);if(!k)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var x=h[h.length-1];if(_.insertAt==="top")x?x.nextSibling?k.insertBefore(y,x.nextSibling):k.appendChild(y):k.insertBefore(y,k.firstChild),h.push(y);else if(_.insertAt==="bottom")k.appendChild(y);else{if(typeof _.insertAt!="object"||!_.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var I=c(_.insertInto+" "+_.insertAt.before);k.insertBefore(y,I)}}function w(_){if(_.parentNode===null)return!1;_.parentNode.removeChild(_);var y=h.indexOf(_);y>=0&&h.splice(y,1)}function p(_){var y=document.createElement("style");return _.attrs.type===void 0&&(_.attrs.type="text/css"),g(y,_.attrs),S(_,y),y}function g(_,y){Object.keys(y).forEach(function(k){_.setAttribute(k,y[k])})}function v(_,y){var k,x,I,C;if(y.transform&&_.css){if(!(C=y.transform(_.css)))return function(){};_.css=C}if(y.singleton){var M=d++;k=u||(u=p(y)),x=R.bind(null,k,M,!1),I=R.bind(null,k,M,!0)}else _.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(k=function(T){var L=document.createElement("link");return T.attrs.type===void 0&&(T.attrs.type="text/css"),T.attrs.rel="stylesheet",g(L,T.attrs),S(T,L),L}(y),x=(function(T,L,H){var P=H.css,B=H.sourceMap,V=L.convertToAbsoluteUrls===void 0&&B;(L.convertToAbsoluteUrls||V)&&(P=f(P)),B&&(P+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(B))))+" */");var Z=new Blob([P],{type:"text/css"}),K=T.href;T.href=URL.createObjectURL(Z),K&&URL.revokeObjectURL(K)}).bind(null,k,y),I=function(){w(k),k.href&&URL.revokeObjectURL(k.href)}):(k=p(y),x=(function(T,L){var H=L.css,P=L.media;if(P&&T.setAttribute("media",P),T.styleSheet)T.styleSheet.cssText=H;else{for(;T.firstChild;)T.removeChild(T.firstChild);T.appendChild(document.createTextNode(H))}}).bind(null,k),I=function(){w(k)});return x(_),function(T){if(T){if(T.css===_.css&&T.media===_.media&&T.sourceMap===_.sourceMap)return;x(_=T)}else I()}}n.exports=function(_,y){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(y=y||{}).attrs=typeof y.attrs=="object"?y.attrs:{},y.singleton||typeof y.singleton=="boolean"||(y.singleton=l()),y.insertInto||(y.insertInto="head"),y.insertAt||(y.insertAt="bottom");var k=b(_,y);return m(k,y),function(x){for(var I=[],C=0;C<k.length;C++){var M=k[C];(T=a[M.id]).refs--,I.push(T)}for(x&&m(b(x,y),y),C=0;C<I.length;C++){var T;if((T=I[C]).refs===0){for(var L=0;L<T.parts.length;L++)T.parts[L]();delete a[T.id]}}}};var E,A=(E=[],function(_,y){return E[_]=y,E.filter(Boolean).join(`
`)});function R(_,y,k,x){var I=k?"":x.css;if(_.styleSheet)_.styleSheet.cssText=A(y,I);else{var C=document.createTextNode(I),M=_.childNodes;M[y]&&_.removeChild(M[y]),M.length?_.insertBefore(C,M[y]):_.appendChild(C)}}},function(n,r){n.exports=function(i){var o=typeof window<"u"&&window.location;if(!o)throw new Error("fixUrls requires window.location");if(!i||typeof i!="string")return i;var s=o.protocol+"//"+o.host,a=s+o.pathname.replace(/\/[^\/]*$/,"/");return i.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(l,c){var u,d=c.trim().replace(/^"(.*)"$/,function(h,f){return f}).replace(/^'(.*)'$/,function(h,f){return f});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(d)?l:(u=d.indexOf("//")===0?d:d.indexOf("/")===0?s+d:a+d.replace(/^\.\//,""),"url("+JSON.stringify(u)+")")})}},function(n,r,i){i.r(r),i(0);function o(l,c){for(var u=0;u<c.length;u++){var d=c[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}function s(l,c,u){return c&&o(l.prototype,c),u&&o(l,u),l}i.d(r,"default",function(){return a});var a=function(){function l(c){var u=c.api;(function(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")})(this,l),this.api=u,this.button=null,this.tag="MARK",this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}return s(l,null,[{key:"CSS",get:function(){return"cdx-marker"}}]),s(l,[{key:"render",value:function(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}},{key:"surround",value:function(c){if(c){var u=this.api.selection.findParentTag(this.tag,l.CSS);u?this.unwrap(u):this.wrap(c)}}},{key:"wrap",value:function(c){var u=document.createElement(this.tag);u.classList.add(l.CSS),u.appendChild(c.extractContents()),c.insertNode(u),this.api.selection.expandToTag(u)}},{key:"unwrap",value:function(c){this.api.selection.expandToTag(c);var u=window.getSelection(),d=u.getRangeAt(0),h=d.extractContents();c.parentNode.removeChild(c),d.insertNode(h),u.removeAllRanges(),u.addRange(d)}},{key:"checkState",value:function(){var c=this.api.selection.findParentTag(this.tag,l.CSS);this.button.classList.toggle(this.iconClasses.active,!!c)}},{key:"toolboxIcon",get:function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M11.3536 9.31802L12.7678 7.90381C13.5488 7.12276 14.8151 7.12276 15.5962 7.90381C16.3772 8.68486 16.3772 9.95119 15.5962 10.7322L14.182 12.1464M11.3536 9.31802L7.96729 12.7043C7.40889 13.2627 7.02827 13.9739 6.8734 14.7482L6.69798 15.6253C6.55804 16.325 7.17496 16.942 7.87468 16.802L8.75176 16.6266C9.52612 16.4717 10.2373 16.0911 10.7957 15.5327L14.182 12.1464M11.3536 9.31802L14.182 12.1464"/><line x1="15" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>'}}],[{key:"isInline",get:function(){return!0}},{key:"sanitize",get:function(){return{mark:{class:l.CSS}}}}]),l}()}]).default})})(BT);var U9=BT.exports;const j9=Zr(U9);(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode('.cdx-checklist{gap:6px;display:flex;flex-direction:column}.cdx-checklist__item{display:flex;box-sizing:content-box;align-items:flex-start}.cdx-checklist__item-text{outline:none;flex-grow:1;line-height:1.57em}.cdx-checklist__item-checkbox{width:22px;height:22px;display:flex;align-items:center;margin-right:8px;margin-top:calc(.785em - 11px);cursor:pointer}.cdx-checklist__item-checkbox svg{opacity:0;height:20px;width:20px;position:absolute;left:-1px;top:-1px;max-height:20px}@media (hover: hover){.cdx-checklist__item-checkbox:not(.cdx-checklist__item-checkbox--no-hover):hover .cdx-checklist__item-checkbox-check svg{opacity:1}}.cdx-checklist__item-checkbox-check{cursor:pointer;display:inline-block;flex-shrink:0;position:relative;width:20px;height:20px;box-sizing:border-box;margin-left:0;border-radius:5px;border:1px solid #C9C9C9;background:#fff}.cdx-checklist__item-checkbox-check:before{content:"";position:absolute;top:0;right:0;bottom:0;left:0;border-radius:100%;background-color:#369fff;visibility:hidden;pointer-events:none;transform:scale(1);transition:transform .4s ease-out,opacity .4s}@media (hover: hover){.cdx-checklist__item--checked .cdx-checklist__item-checkbox:not(.cdx-checklist__item--checked .cdx-checklist__item-checkbox--no-hover):hover .cdx-checklist__item-checkbox-check{background:#0059AB;border-color:#0059ab}}.cdx-checklist__item--checked .cdx-checklist__item-checkbox-check{background:#369FFF;border-color:#369fff}.cdx-checklist__item--checked .cdx-checklist__item-checkbox-check svg{opacity:1}.cdx-checklist__item--checked .cdx-checklist__item-checkbox-check svg path{stroke:#fff}.cdx-checklist__item--checked .cdx-checklist__item-checkbox-check:before{opacity:0;visibility:visible;transform:scale(2.5)}')),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const z9='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 12L10.4884 15.8372C10.5677 15.9245 10.705 15.9245 10.7844 15.8372L17 9"/></svg>',H9='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.2 12L11.0586 13.8586C11.1367 13.9367 11.2633 13.9367 11.3414 13.8586L14.7 10.5"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>';function M1(){const t=document.activeElement,e=window.getSelection().getRangeAt(0),n=e.cloneRange();return n.selectNodeContents(t),n.setStart(e.endContainer,e.endOffset),n.extractContents()}function W9(t){const e=document.createElement("div");return e.appendChild(t),e.innerHTML}function Pa(t,e=null,n={}){const r=document.createElement(t);Array.isArray(e)?r.classList.add(...e):e&&r.classList.add(e);for(const i in n)r[i]=n[i];return r}function O1(t){return t.innerHTML.replace("<br>"," ").trim()}function L1(t,e=!1,n=void 0){const r=document.createRange(),i=window.getSelection();r.selectNodeContents(t),n!==void 0&&(r.setStart(t,n),r.setEnd(t,n)),r.collapse(e),i.removeAllRanges(),i.addRange(r)}Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);Element.prototype.closest||(Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(e!==null&&e.nodeType===1);return null});class Y9{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}static get toolbox(){return{icon:H9,title:"Checklist"}}static get conversionConfig(){return{export:e=>e.items.map(({text:n})=>n).join(". "),import:e=>({items:[{text:e,checked:!1}]})}}constructor({data:e,config:n,api:r,readOnly:i}){this._elements={wrapper:null,items:[]},this.readOnly=i,this.api=r,this.data=e||{}}render(){return this._elements.wrapper=Pa("div",[this.CSS.baseBlock,this.CSS.wrapper]),this.data.items||(this.data.items=[{text:"",checked:!1}]),this.data.items.forEach(e=>{const n=this.createChecklistItem(e);this._elements.wrapper.appendChild(n)}),this.readOnly?this._elements.wrapper:(this._elements.wrapper.addEventListener("keydown",e=>{const[n,r]=[13,8];switch(e.keyCode){case n:this.enterPressed(e);break;case r:this.backspace(e);break}},!1),this._elements.wrapper.addEventListener("click",e=>{this.toggleCheckbox(e)}),this._elements.wrapper)}save(){let e=this.items.map(n=>{const r=this.getItemInput(n);return{text:O1(r),checked:n.classList.contains(this.CSS.itemChecked)}});return e=e.filter(n=>n.text.trim().length!==0),{items:e}}validate(e){return!!e.items.length}toggleCheckbox(e){const n=e.target.closest(`.${this.CSS.item}`),r=n.querySelector(`.${this.CSS.checkboxContainer}`);r.contains(e.target)&&(n.classList.toggle(this.CSS.itemChecked),r.classList.add(this.CSS.noHover),r.addEventListener("mouseleave",()=>this.removeSpecialHoverBehavior(r),{once:!0}))}createChecklistItem(e={}){const n=Pa("div",this.CSS.item),r=Pa("span",this.CSS.checkbox),i=Pa("div",this.CSS.checkboxContainer),o=Pa("div",this.CSS.textField,{innerHTML:e.text?e.text:"",contentEditable:!this.readOnly});return e.checked&&n.classList.add(this.CSS.itemChecked),r.innerHTML=z9,i.appendChild(r),n.appendChild(i),n.appendChild(o),n}enterPressed(e){e.preventDefault();const n=this.items,r=document.activeElement.closest(`.${this.CSS.item}`);if(n.indexOf(r)===n.length-1&&O1(this.getItemInput(r)).length===0){const a=this.api.blocks.getCurrentBlockIndex();r.remove(),this.api.blocks.insert(),this.api.caret.setToBlock(a+1);return}const i=M1(),o=W9(i),s=this.createChecklistItem({text:o,checked:!1});this._elements.wrapper.insertBefore(s,r.nextSibling),L1(this.getItemInput(s),!0)}backspace(e){const n=e.target.closest(`.${this.CSS.item}`),r=this.items.indexOf(n),i=this.items[r-1];if(!i||window.getSelection().focusOffset!==0)return;e.preventDefault();const o=M1(),s=this.getItemInput(i),a=s.childNodes.length;s.appendChild(o),L1(s,void 0,a),n.remove()}get CSS(){return{baseBlock:this.api.styles.block,wrapper:"cdx-checklist",item:"cdx-checklist__item",itemChecked:"cdx-checklist__item--checked",noHover:"cdx-checklist__item-checkbox--no-hover",checkbox:"cdx-checklist__item-checkbox-check",textField:"cdx-checklist__item-text",checkboxContainer:"cdx-checklist__item-checkbox"}}get items(){return Array.from(this._elements.wrapper.querySelectorAll(`.${this.CSS.item}`))}removeSpecialHoverBehavior(e){e.classList.remove(this.CSS.noHover)}getItemInput(e){return e.querySelector(`.${this.CSS.textField}`)}}var FT={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:a})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,s){if(1&s&&(o=i(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var l in o)i.d(a,l,(function(c){return o[c]}).bind(null,l));return a},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="/",i(i.s=5)}([function(n,r,i){var o=i(1);typeof o=="string"&&(o=[[n.i,o,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i(3)(o,s),o.locals&&(n.exports=o.locals)},function(n,r,i){(n.exports=i(2)(!1)).push([n.i,`.ce-delimiter {
    line-height: 1.6em;
    width: 100%;
    text-align: center;
}

.ce-delimiter:before {
    display: inline-block;
    content: "***";
    font-size: 30px;
    line-height: 65px;
    height: 30px;
    letter-spacing: 0.2em;
}`,""])},function(n,r){n.exports=function(i){var o=[];return o.toString=function(){return this.map(function(s){var a=function(l,c){var u=l[1]||"",d=l[3];if(!d)return u;if(c&&typeof btoa=="function"){var h=(m=d,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(m))))+" */"),f=d.sources.map(function(b){return"/*# sourceURL="+d.sourceRoot+b+" */"});return[u].concat(f).concat([h]).join(`
`)}var m;return[u].join(`
`)}(s,i);return s[2]?"@media "+s[2]+"{"+a+"}":a}).join("")},o.i=function(s,a){typeof s=="string"&&(s=[[null,s,""]]);for(var l={},c=0;c<this.length;c++){var u=this[c][0];typeof u=="number"&&(l[u]=!0)}for(c=0;c<s.length;c++){var d=s[c];typeof d[0]=="number"&&l[d[0]]||(a&&!d[2]?d[2]=a:a&&(d[2]="("+d[2]+") and ("+a+")"),o.push(d))}},o}},function(n,r,i){var o,s,a={},l=(o=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=o.apply(this,arguments)),s}),c=function(_){var y={};return function(k){if(typeof k=="function")return k();if(y[k]===void 0){var x=(function(I){return document.querySelector(I)}).call(this,k);if(window.HTMLIFrameElement&&x instanceof window.HTMLIFrameElement)try{x=x.contentDocument.head}catch{x=null}y[k]=x}return y[k]}}(),u=null,d=0,h=[],f=i(4);function m(_,y){for(var k=0;k<_.length;k++){var x=_[k],I=a[x.id];if(I){I.refs++;for(var C=0;C<I.parts.length;C++)I.parts[C](x.parts[C]);for(;C<x.parts.length;C++)I.parts.push(v(x.parts[C],y))}else{var M=[];for(C=0;C<x.parts.length;C++)M.push(v(x.parts[C],y));a[x.id]={id:x.id,refs:1,parts:M}}}}function b(_,y){for(var k=[],x={},I=0;I<_.length;I++){var C=_[I],M=y.base?C[0]+y.base:C[0],T={css:C[1],media:C[2],sourceMap:C[3]};x[M]?x[M].parts.push(T):k.push(x[M]={id:M,parts:[T]})}return k}function S(_,y){var k=c(_.insertInto);if(!k)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var x=h[h.length-1];if(_.insertAt==="top")x?x.nextSibling?k.insertBefore(y,x.nextSibling):k.appendChild(y):k.insertBefore(y,k.firstChild),h.push(y);else if(_.insertAt==="bottom")k.appendChild(y);else{if(typeof _.insertAt!="object"||!_.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var I=c(_.insertInto+" "+_.insertAt.before);k.insertBefore(y,I)}}function w(_){if(_.parentNode===null)return!1;_.parentNode.removeChild(_);var y=h.indexOf(_);y>=0&&h.splice(y,1)}function p(_){var y=document.createElement("style");return _.attrs.type===void 0&&(_.attrs.type="text/css"),g(y,_.attrs),S(_,y),y}function g(_,y){Object.keys(y).forEach(function(k){_.setAttribute(k,y[k])})}function v(_,y){var k,x,I,C;if(y.transform&&_.css){if(!(C=y.transform(_.css)))return function(){};_.css=C}if(y.singleton){var M=d++;k=u||(u=p(y)),x=R.bind(null,k,M,!1),I=R.bind(null,k,M,!0)}else _.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(k=function(T){var L=document.createElement("link");return T.attrs.type===void 0&&(T.attrs.type="text/css"),T.attrs.rel="stylesheet",g(L,T.attrs),S(T,L),L}(y),x=(function(T,L,H){var P=H.css,B=H.sourceMap,V=L.convertToAbsoluteUrls===void 0&&B;(L.convertToAbsoluteUrls||V)&&(P=f(P)),B&&(P+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(B))))+" */");var Z=new Blob([P],{type:"text/css"}),K=T.href;T.href=URL.createObjectURL(Z),K&&URL.revokeObjectURL(K)}).bind(null,k,y),I=function(){w(k),k.href&&URL.revokeObjectURL(k.href)}):(k=p(y),x=(function(T,L){var H=L.css,P=L.media;if(P&&T.setAttribute("media",P),T.styleSheet)T.styleSheet.cssText=H;else{for(;T.firstChild;)T.removeChild(T.firstChild);T.appendChild(document.createTextNode(H))}}).bind(null,k),I=function(){w(k)});return x(_),function(T){if(T){if(T.css===_.css&&T.media===_.media&&T.sourceMap===_.sourceMap)return;x(_=T)}else I()}}n.exports=function(_,y){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(y=y||{}).attrs=typeof y.attrs=="object"?y.attrs:{},y.singleton||typeof y.singleton=="boolean"||(y.singleton=l()),y.insertInto||(y.insertInto="head"),y.insertAt||(y.insertAt="bottom");var k=b(_,y);return m(k,y),function(x){for(var I=[],C=0;C<k.length;C++){var M=k[C];(T=a[M.id]).refs--,I.push(T)}for(x&&m(b(x,y),y),C=0;C<I.length;C++){var T;if((T=I[C]).refs===0){for(var L=0;L<T.parts.length;L++)T.parts[L]();delete a[T.id]}}}};var E,A=(E=[],function(_,y){return E[_]=y,E.filter(Boolean).join(`
`)});function R(_,y,k,x){var I=k?"":x.css;if(_.styleSheet)_.styleSheet.cssText=A(y,I);else{var C=document.createTextNode(I),M=_.childNodes;M[y]&&_.removeChild(M[y]),M.length?_.insertBefore(C,M[y]):_.appendChild(C)}}},function(n,r){n.exports=function(i){var o=typeof window<"u"&&window.location;if(!o)throw new Error("fixUrls requires window.location");if(!i||typeof i!="string")return i;var s=o.protocol+"//"+o.host,a=s+o.pathname.replace(/\/[^\/]*$/,"/");return i.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(l,c){var u,d=c.trim().replace(/^"(.*)"$/,function(h,f){return f}).replace(/^'(.*)'$/,function(h,f){return f});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(d)?l:(u=d.indexOf("//")===0?d:d.indexOf("/")===0?s+d:a+d.replace(/^\.\//,""),"url("+JSON.stringify(u)+")")})}},function(n,r,i){i.r(r),i(0);function o(l,c){for(var u=0;u<c.length;u++){var d=c[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}function s(l,c,u){return c&&o(l.prototype,c),u&&o(l,u),l}/**
 * Delimiter Block for the Editor.js.
 *
 * @author CodeX (team@ifmo.su)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 * @version 2.0.0
 */i.d(r,"default",function(){return a});var a=function(){function l(c){var u=c.data,d=(c.config,c.api);(function(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")})(this,l),this.api=d,this._CSS={block:this.api.styles.block,wrapper:"ce-delimiter"},this._data={},this._element=this.drawView(),this.data=u}return s(l,null,[{key:"isReadOnlySupported",get:function(){return!0}},{key:"contentless",get:function(){return!0}}]),s(l,[{key:"drawView",value:function(){var c=document.createElement("DIV");return c.classList.add(this._CSS.wrapper,this._CSS.block),c}},{key:"render",value:function(){return this._element}},{key:"save",value:function(c){return{}}}],[{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="6" x2="10" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="14" x2="18" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',title:"Delimiter"}}}]),l}()}]).default})})(FT);var G9=FT.exports;const q9=Zr(G9);var VT={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:a})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,s){if(1&s&&(o=i(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var l in o)i.d(a,l,(function(c){return o[c]}).bind(null,l));return a},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="/",i(i.s=5)}([function(n,r,i){var o=i(1);typeof o=="string"&&(o=[[n.i,o,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i(3)(o,s),o.locals&&(n.exports=o.locals)},function(n,r,i){(n.exports=i(2)(!1)).push([n.i,`.inline-code {
  background: rgba(250, 239, 240, 0.78);
  color: #b44437;
  padding: 3px 4px;
  border-radius: 5px;
  margin: 0 1px;
  font-family: inherit;
  font-size: 0.86em;
  font-weight: 500;
  letter-spacing: 0.3px;
}
`,""])},function(n,r){n.exports=function(i){var o=[];return o.toString=function(){return this.map(function(s){var a=function(l,c){var u=l[1]||"",d=l[3];if(!d)return u;if(c&&typeof btoa=="function"){var h=(m=d,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(m))))+" */"),f=d.sources.map(function(b){return"/*# sourceURL="+d.sourceRoot+b+" */"});return[u].concat(f).concat([h]).join(`
`)}var m;return[u].join(`
`)}(s,i);return s[2]?"@media "+s[2]+"{"+a+"}":a}).join("")},o.i=function(s,a){typeof s=="string"&&(s=[[null,s,""]]);for(var l={},c=0;c<this.length;c++){var u=this[c][0];typeof u=="number"&&(l[u]=!0)}for(c=0;c<s.length;c++){var d=s[c];typeof d[0]=="number"&&l[d[0]]||(a&&!d[2]?d[2]=a:a&&(d[2]="("+d[2]+") and ("+a+")"),o.push(d))}},o}},function(n,r,i){var o,s,a={},l=(o=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=o.apply(this,arguments)),s}),c=function(_){var y={};return function(k){if(typeof k=="function")return k();if(y[k]===void 0){var x=(function(I){return document.querySelector(I)}).call(this,k);if(window.HTMLIFrameElement&&x instanceof window.HTMLIFrameElement)try{x=x.contentDocument.head}catch{x=null}y[k]=x}return y[k]}}(),u=null,d=0,h=[],f=i(4);function m(_,y){for(var k=0;k<_.length;k++){var x=_[k],I=a[x.id];if(I){I.refs++;for(var C=0;C<I.parts.length;C++)I.parts[C](x.parts[C]);for(;C<x.parts.length;C++)I.parts.push(v(x.parts[C],y))}else{var M=[];for(C=0;C<x.parts.length;C++)M.push(v(x.parts[C],y));a[x.id]={id:x.id,refs:1,parts:M}}}}function b(_,y){for(var k=[],x={},I=0;I<_.length;I++){var C=_[I],M=y.base?C[0]+y.base:C[0],T={css:C[1],media:C[2],sourceMap:C[3]};x[M]?x[M].parts.push(T):k.push(x[M]={id:M,parts:[T]})}return k}function S(_,y){var k=c(_.insertInto);if(!k)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var x=h[h.length-1];if(_.insertAt==="top")x?x.nextSibling?k.insertBefore(y,x.nextSibling):k.appendChild(y):k.insertBefore(y,k.firstChild),h.push(y);else if(_.insertAt==="bottom")k.appendChild(y);else{if(typeof _.insertAt!="object"||!_.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var I=c(_.insertInto+" "+_.insertAt.before);k.insertBefore(y,I)}}function w(_){if(_.parentNode===null)return!1;_.parentNode.removeChild(_);var y=h.indexOf(_);y>=0&&h.splice(y,1)}function p(_){var y=document.createElement("style");return _.attrs.type===void 0&&(_.attrs.type="text/css"),g(y,_.attrs),S(_,y),y}function g(_,y){Object.keys(y).forEach(function(k){_.setAttribute(k,y[k])})}function v(_,y){var k,x,I,C;if(y.transform&&_.css){if(!(C=y.transform(_.css)))return function(){};_.css=C}if(y.singleton){var M=d++;k=u||(u=p(y)),x=R.bind(null,k,M,!1),I=R.bind(null,k,M,!0)}else _.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(k=function(T){var L=document.createElement("link");return T.attrs.type===void 0&&(T.attrs.type="text/css"),T.attrs.rel="stylesheet",g(L,T.attrs),S(T,L),L}(y),x=(function(T,L,H){var P=H.css,B=H.sourceMap,V=L.convertToAbsoluteUrls===void 0&&B;(L.convertToAbsoluteUrls||V)&&(P=f(P)),B&&(P+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(B))))+" */");var Z=new Blob([P],{type:"text/css"}),K=T.href;T.href=URL.createObjectURL(Z),K&&URL.revokeObjectURL(K)}).bind(null,k,y),I=function(){w(k),k.href&&URL.revokeObjectURL(k.href)}):(k=p(y),x=(function(T,L){var H=L.css,P=L.media;if(P&&T.setAttribute("media",P),T.styleSheet)T.styleSheet.cssText=H;else{for(;T.firstChild;)T.removeChild(T.firstChild);T.appendChild(document.createTextNode(H))}}).bind(null,k),I=function(){w(k)});return x(_),function(T){if(T){if(T.css===_.css&&T.media===_.media&&T.sourceMap===_.sourceMap)return;x(_=T)}else I()}}n.exports=function(_,y){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(y=y||{}).attrs=typeof y.attrs=="object"?y.attrs:{},y.singleton||typeof y.singleton=="boolean"||(y.singleton=l()),y.insertInto||(y.insertInto="head"),y.insertAt||(y.insertAt="bottom");var k=b(_,y);return m(k,y),function(x){for(var I=[],C=0;C<k.length;C++){var M=k[C];(T=a[M.id]).refs--,I.push(T)}for(x&&m(b(x,y),y),C=0;C<I.length;C++){var T;if((T=I[C]).refs===0){for(var L=0;L<T.parts.length;L++)T.parts[L]();delete a[T.id]}}}};var E,A=(E=[],function(_,y){return E[_]=y,E.filter(Boolean).join(`
`)});function R(_,y,k,x){var I=k?"":x.css;if(_.styleSheet)_.styleSheet.cssText=A(y,I);else{var C=document.createTextNode(I),M=_.childNodes;M[y]&&_.removeChild(M[y]),M.length?_.insertBefore(C,M[y]):_.appendChild(C)}}},function(n,r){n.exports=function(i){var o=typeof window<"u"&&window.location;if(!o)throw new Error("fixUrls requires window.location");if(!i||typeof i!="string")return i;var s=o.protocol+"//"+o.host,a=s+o.pathname.replace(/\/[^\/]*$/,"/");return i.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(l,c){var u,d=c.trim().replace(/^"(.*)"$/,function(h,f){return f}).replace(/^'(.*)'$/,function(h,f){return f});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(d)?l:(u=d.indexOf("//")===0?d:d.indexOf("/")===0?s+d:a+d.replace(/^\.\//,""),"url("+JSON.stringify(u)+")")})}},function(n,r,i){i.r(r),i(0);function o(l,c){for(var u=0;u<c.length;u++){var d=c[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}function s(l,c,u){return c&&o(l.prototype,c),u&&o(l,u),l}i.d(r,"default",function(){return a});var a=function(){function l(c){var u=c.api;(function(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")})(this,l),this.api=u,this.button=null,this.tag="CODE",this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}return s(l,null,[{key:"CSS",get:function(){return"inline-code"}}]),s(l,[{key:"render",value:function(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}},{key:"surround",value:function(c){if(c){var u=this.api.selection.findParentTag(this.tag,l.CSS);u?this.unwrap(u):this.wrap(c)}}},{key:"wrap",value:function(c){var u=document.createElement(this.tag);u.classList.add(l.CSS),u.appendChild(c.extractContents()),c.insertNode(u),this.api.selection.expandToTag(u)}},{key:"unwrap",value:function(c){this.api.selection.expandToTag(c);var u=window.getSelection(),d=u.getRangeAt(0),h=d.extractContents();c.parentNode.removeChild(c),d.insertNode(h),u.removeAllRanges(),u.addRange(d)}},{key:"checkState",value:function(){var c=this.api.selection.findParentTag(this.tag,l.CSS);this.button.classList.toggle(this.iconClasses.active,!!c)}},{key:"toolboxIcon",get:function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.5 8L6.11524 11.8683C6.04926 11.9437 6.04926 12.0563 6.11524 12.1317L9.5 16"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15 8L18.3848 11.8683C18.4507 11.9437 18.4507 12.0563 18.3848 12.1317L15 16"/></svg>'}}],[{key:"isInline",get:function(){return!0}},{key:"sanitize",get:function(){return{code:{class:l.CSS}}}}]),l}()}]).default})})(VT);var K9=VT.exports;const Q9=Zr(K9);var $T={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(self,()=>(()=>{var n={638:(s,a,l)=>{l.d(a,{Z:()=>f});var c=l(81),u=l.n(c),d=l(645),h=l.n(d)()(u());h.push([s.id,`.telegram-post-wrapper > iframe {
    margin-top: 10px;
    margin-bottom: 10px;
}

.telegram-post-input-row {
    display: flex;
    align-items: center;
    justify-content: center;
}

.telegram-post-input {
    padding: 5px;
    margin-right: 5px;
    border-radius: 10px;
    border-style: solid;
    border-color: #d7e3ec;
    border-width: 1px;
    color: #2381cc;
}

.telegram-post-invalid-input {
    border: 2px solid red;
    background-color: rgba(255, 0, 0, 0.17);
}

.telegram-post-question-mark {
    cursor: pointer;
}`,""]);const f=h},645:s=>{s.exports=function(a){var l=[];return l.toString=function(){return this.map(function(c){var u="",d=c[5]!==void 0;return c[4]&&(u+="@supports (".concat(c[4],") {")),c[2]&&(u+="@media ".concat(c[2]," {")),d&&(u+="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {")),u+=a(c),d&&(u+="}"),c[2]&&(u+="}"),c[4]&&(u+="}"),u}).join("")},l.i=function(c,u,d,h,f){typeof c=="string"&&(c=[[null,c,void 0]]);var m={};if(d)for(var b=0;b<this.length;b++){var S=this[b][0];S!=null&&(m[S]=!0)}for(var w=0;w<c.length;w++){var p=[].concat(c[w]);d&&m[p[0]]||(f!==void 0&&(p[5]===void 0||(p[1]="@layer".concat(p[5].length>0?" ".concat(p[5]):""," {").concat(p[1],"}")),p[5]=f),u&&(p[2]&&(p[1]="@media ".concat(p[2]," {").concat(p[1],"}")),p[2]=u),h&&(p[4]?(p[1]="@supports (".concat(p[4],") {").concat(p[1],"}"),p[4]=h):p[4]="".concat(h)),l.push(p))}},l}},81:s=>{s.exports=function(a){return a[1]}},379:s=>{var a=[];function l(d){for(var h=-1,f=0;f<a.length;f++)if(a[f].identifier===d){h=f;break}return h}function c(d,h){for(var f={},m=[],b=0;b<d.length;b++){var S=d[b],w=h.base?S[0]+h.base:S[0],p=f[w]||0,g="".concat(w," ").concat(p);f[w]=p+1;var v=l(g),E={css:S[1],media:S[2],sourceMap:S[3],supports:S[4],layer:S[5]};if(v!==-1)a[v].references++,a[v].updater(E);else{var A=u(E,h);h.byIndex=b,a.splice(b,0,{identifier:g,updater:A,references:1})}m.push(g)}return m}function u(d,h){var f=h.domAPI(h);return f.update(d),function(m){if(m){if(m.css===d.css&&m.media===d.media&&m.sourceMap===d.sourceMap&&m.supports===d.supports&&m.layer===d.layer)return;f.update(d=m)}else f.remove()}}s.exports=function(d,h){var f=c(d=d||[],h=h||{});return function(m){m=m||[];for(var b=0;b<f.length;b++){var S=l(f[b]);a[S].references--}for(var w=c(m,h),p=0;p<f.length;p++){var g=l(f[p]);a[g].references===0&&(a[g].updater(),a.splice(g,1))}f=w}}},569:s=>{var a={};s.exports=function(l,c){var u=function(d){if(a[d]===void 0){var h=document.querySelector(d);if(window.HTMLIFrameElement&&h instanceof window.HTMLIFrameElement)try{h=h.contentDocument.head}catch{h=null}a[d]=h}return a[d]}(l);if(!u)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");u.appendChild(c)}},216:s=>{s.exports=function(a){var l=document.createElement("style");return a.setAttributes(l,a.attributes),a.insert(l,a.options),l}},565:(s,a,l)=>{s.exports=function(c){var u=l.nc;u&&c.setAttribute("nonce",u)}},795:s=>{s.exports=function(a){if(typeof document>"u")return{update:function(){},remove:function(){}};var l=a.insertStyleElement(a);return{update:function(c){(function(u,d,h){var f="";h.supports&&(f+="@supports (".concat(h.supports,") {")),h.media&&(f+="@media ".concat(h.media," {"));var m=h.layer!==void 0;m&&(f+="@layer".concat(h.layer.length>0?" ".concat(h.layer):""," {")),f+=h.css,m&&(f+="}"),h.media&&(f+="}"),h.supports&&(f+="}");var b=h.sourceMap;b&&typeof btoa<"u"&&(f+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(b))))," */")),d.styleTagTransform(f,u,d.options)})(l,a,c)},remove:function(){(function(c){if(c.parentNode===null)return!1;c.parentNode.removeChild(c)})(l)}}}},589:s=>{s.exports=function(a,l){if(l.styleSheet)l.styleSheet.cssText=a;else{for(;l.firstChild;)l.removeChild(l.firstChild);l.appendChild(document.createTextNode(a))}}}},r={};function i(s){var a=r[s];if(a!==void 0)return a.exports;var l=r[s]={id:s,exports:{}};return n[s](l,l.exports,i),l.exports}i.n=s=>{var a=s&&s.__esModule?()=>s.default:()=>s;return i.d(a,{a}),a},i.d=(s,a)=>{for(var l in a)i.o(a,l)&&!i.o(s,l)&&Object.defineProperty(s,l,{enumerable:!0,get:a[l]})},i.o=(s,a)=>Object.prototype.hasOwnProperty.call(s,a),i.nc=void 0;var o={};return(()=>{i.d(o,{default:()=>A});var s=i(379),a=i.n(s),l=i(795),c=i.n(l),u=i(569),d=i.n(u),h=i(565),f=i.n(h),m=i(216),b=i.n(m),S=i(589),w=i.n(S),p=i(638),g={};function v(R){return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},v(R)}function E(R,_){for(var y=0;y<_.length;y++){var k=_[y];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(R,(x=function(I,C){if(v(I)!=="object"||I===null)return I;var M=I[Symbol.toPrimitive];if(M!==void 0){var T=M.call(I,"string");if(v(T)!=="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(I)}(k.key),v(x)==="symbol"?x:String(x)),k)}var x}g.styleTagTransform=w(),g.setAttributes=f(),g.insert=d().bind(null,"head"),g.domAPI=c(),g.insertStyleElement=b(),a()(p.Z,g),p.Z&&p.Z.locals&&p.Z.locals;var A=function(){function R(x){var I=x.data,C=(x.config,x.api,x.readOnly);(function(M,T){if(!(M instanceof T))throw new TypeError("Cannot call a class as a function")})(this,R),this.data=I,this.readOnly=C}var _,y,k;return _=R,k=[{key:"toolbox",get:function(){return{title:"Telegram post",icon:'<svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 50 50" width="17px" height="17px"><path d="M25,2c12.703,0,23,10.297,23,23S37.703,48,25,48S2,37.703,2,25S12.297,2,25,2z M32.934,34.375	c0.423-1.298,2.405-14.234,2.65-16.783c0.074-0.772-0.17-1.285-0.648-1.514c-0.578-0.278-1.434-0.139-2.427,0.219	c-1.362,0.491-18.774,7.884-19.78,8.312c-0.954,0.405-1.856,0.847-1.856,1.487c0,0.45,0.267,0.703,1.003,0.966	c0.766,0.273,2.695,0.858,3.834,1.172c1.097,0.303,2.346,0.04,3.046-0.395c0.742-0.461,9.305-6.191,9.92-6.693	c0.614-0.502,1.104,0.141,0.602,0.644c-0.502,0.502-6.38,6.207-7.155,6.997c-0.941,0.959-0.273,1.953,0.358,2.351	c0.721,0.454,5.906,3.932,6.687,4.49c0.781,0.558,1.573,0.811,2.298,0.811C32.191,36.439,32.573,35.484,32.934,34.375z"/></svg>'}}},{key:"isReadOnlySupported",get:function(){return!0}}],(y=[{key:"render",value:function(){var x=this;this.wrapper=document.createElement("div"),this.wrapper.classList.add("telegram-post-wrapper");var I=document.createElement("div");I.classList.add("telegram-post-input-row"),this.wrapper.appendChild(I);var C=document.createElement("input");C.classList.add("telegram-post-input"),this.readOnly&&(C.hidden=!0),I.appendChild(C),this.validate(this.data)&&(C.value=this.data.channelName+"/"+this.data.messageId,this.injectWidget(this.data)),C.placeholder="channelName/messageId",C.size=32,C.oninput=function(){if(C.value=C.value.trim(),C.value.length<7)C.classList.add("telegram-post-invalid-input");else if(C.value.length<64){C.value.startsWith("https://t.me/")&&(C.value=C.value.replace("https://t.me/",""));var T=C.value.split("/");T.length===2?(C.classList.remove("telegram-post-invalid-input"),x.injectWidget({channelName:T[0],messageId:T[1]})):C.classList.add("telegram-post-invalid-input")}else C.classList.add("telegram-post-invalid-input")};var M=document.createElement("div");return M.style.borderStyle="solid",M.style.borderWidth="1px",M.style.borderRadius="100%",M.style.borderColor="#d7e3ec",M.style.color="#d7e3ec",M.style.width="24px",M.style.height="24px",M.style.display="flex",M.style.textAlign="center",M.style.justifyContent="center",M.style.alignItems="center",M.style.cursor="pointer",M.style.userSelect="none",M.innerText="?",M.title="Select post in telegram, press 'Copy link' and paste it here",this.readOnly&&(M.style.display="none"),I.appendChild(M),this.wrapper}},{key:"injectWidget",value:function(x){var I=this.wrapper.getElementsByTagName("iframe")[0];I&&I.parentNode.removeChild(I);var C=this.wrapper.getElementsByTagName("script")[0];C&&C.parentNode.removeChild(C);var M=document.createElement("script");M.setAttribute("async",""),M.setAttribute("src","https://telegram.org/js/telegram-widget.js?21"),M.setAttribute("data-telegram-post","".concat(x.channelName,"/").concat(x.messageId)),M.setAttribute("data-width","100%"),this.wrapper.appendChild(M)}},{key:"save",value:function(x){var I=x.querySelector("input").value.split("/");return{channelName:I[0],messageId:Number.parseInt(I[1])}}},{key:"validate",value:function(x){if(x.channelName===void 0)return console.warn("Validation error: channelName undefined"),!1;if(x.channelName===null)return console.warn("Validation error: channelName null"),!1;if(x.channelName.trim().length<5)return console.warn("Validation error: channelName length less than 5"),!1;if(x.channelName.trim().length>64)return console.warn("Validation error: channelName length more than 64"),!1;if(x.messageId===void 0)return console.warn("Validation error: messageId undefined"),!1;if(x.messageId===null)return console.warn("Validation error: messageId null"),!1;try{Number.parseInt(x.messageId)}catch{return console.log("Validation error: messageId is not a number"),!1}return x.messageId<0?(console.log("Validation error: messageId less than 0"),!1):!(x.messageId>1e7&&(console.log("Validation error: messageId more than 10000000"),1))}}])&&E(_.prototype,y),k&&E(_,k),Object.defineProperty(_,"prototype",{writable:!1}),R}()})(),o.default})())})($T);var X9=$T.exports;const J9=Zr(X9);var UT={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(self,function(){return(()=>{var n={424:(s,a,l)=>{l.r(a),l.d(a,{default:()=>f});var c=l(81),u=l.n(c),d=l(645),h=l.n(d)()(u());h.push([s.id,`.ce-block--drop-target .ce-block__content:before {
  content: "";
  position: absolute;
  top: 50%;
  left: -20px;
  margin-top: -1px;
  height: 8px;
  width: 8px;
  border: solid #a0a0a0;
  border-width: 1px 1px 0 0;
  -webkit-transform-origin: right;
  transform-origin: right;
  -webkit-transform: rotate(45deg);
  transform: rotate(45deg);
}

.ce-block--drop-target .ce-block__content:after {
  background: none;
}`,""]);const f=h},645:s=>{s.exports=function(a){var l=[];return l.toString=function(){return this.map(function(c){var u="",d=c[5]!==void 0;return c[4]&&(u+="@supports (".concat(c[4],") {")),c[2]&&(u+="@media ".concat(c[2]," {")),d&&(u+="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {")),u+=a(c),d&&(u+="}"),c[2]&&(u+="}"),c[4]&&(u+="}"),u}).join("")},l.i=function(c,u,d,h,f){typeof c=="string"&&(c=[[null,c,void 0]]);var m={};if(d)for(var b=0;b<this.length;b++){var S=this[b][0];S!=null&&(m[S]=!0)}for(var w=0;w<c.length;w++){var p=[].concat(c[w]);d&&m[p[0]]||(f!==void 0&&(p[5]===void 0||(p[1]="@layer".concat(p[5].length>0?" ".concat(p[5]):""," {").concat(p[1],"}")),p[5]=f),u&&(p[2]&&(p[1]="@media ".concat(p[2]," {").concat(p[1],"}")),p[2]=u),h&&(p[4]?(p[1]="@supports (".concat(p[4],") {").concat(p[1],"}"),p[4]=h):p[4]="".concat(h)),l.push(p))}},l}},81:s=>{s.exports=function(a){return a[1]}},406:(s,a,l)=>{var c=l(424);typeof c=="string"&&(c=[[s.id,c,""]]),l(723)(c,{hmr:!0,transform:void 0,insertInto:void 0}),c.locals&&(s.exports=c.locals)},723:(s,a,l)=>{var c,u,d={},h=(c=function(){return window&&document&&document.all&&!window.atob},function(){return u===void 0&&(u=c.apply(this,arguments)),u}),f=function(T){return document.querySelector(T)},m=function(T){var L={};return function(H){if(typeof H=="function")return H();if(L[H]===void 0){var P=f.call(this,H);if(window.HTMLIFrameElement&&P instanceof window.HTMLIFrameElement)try{P=P.contentDocument.head}catch{P=null}L[H]=P}return L[H]}}(),b=null,S=0,w=[],p=l(947);function g(T,L){for(var H=0;H<T.length;H++){var P=T[H],B=d[P.id];if(B){B.refs++;for(var V=0;V<B.parts.length;V++)B.parts[V](P.parts[V]);for(;V<P.parts.length;V++)B.parts.push(y(P.parts[V],L))}else{var Z=[];for(V=0;V<P.parts.length;V++)Z.push(y(P.parts[V],L));d[P.id]={id:P.id,refs:1,parts:Z}}}}function v(T,L){for(var H=[],P={},B=0;B<T.length;B++){var V=T[B],Z=L.base?V[0]+L.base:V[0],K={css:V[1],media:V[2],sourceMap:V[3]};P[Z]?P[Z].parts.push(K):H.push(P[Z]={id:Z,parts:[K]})}return H}function E(T,L){var H=m(T.insertInto);if(!H)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var P=w[w.length-1];if(T.insertAt==="top")P?P.nextSibling?H.insertBefore(L,P.nextSibling):H.appendChild(L):H.insertBefore(L,H.firstChild),w.push(L);else if(T.insertAt==="bottom")H.appendChild(L);else{if(typeof T.insertAt!="object"||!T.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var B=m(T.insertInto+" "+T.insertAt.before);H.insertBefore(L,B)}}function A(T){if(T.parentNode===null)return!1;T.parentNode.removeChild(T);var L=w.indexOf(T);L>=0&&w.splice(L,1)}function R(T){var L=document.createElement("style");return T.attrs.type===void 0&&(T.attrs.type="text/css"),_(L,T.attrs),E(T,L),L}function _(T,L){Object.keys(L).forEach(function(H){T.setAttribute(H,L[H])})}function y(T,L){var H,P,B,V;if(L.transform&&T.css){if(!(V=L.transform(T.css)))return function(){};T.css=V}if(L.singleton){var Z=S++;H=b||(b=R(L)),P=I.bind(null,H,Z,!1),B=I.bind(null,H,Z,!0)}else T.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(H=function(K){var ut=document.createElement("link");return K.attrs.type===void 0&&(K.attrs.type="text/css"),K.attrs.rel="stylesheet",_(ut,K.attrs),E(K,ut),ut}(L),P=M.bind(null,H,L),B=function(){A(H),H.href&&URL.revokeObjectURL(H.href)}):(H=R(L),P=C.bind(null,H),B=function(){A(H)});return P(T),function(K){if(K){if(K.css===T.css&&K.media===T.media&&K.sourceMap===T.sourceMap)return;P(T=K)}else B()}}s.exports=function(T,L){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(L=L||{}).attrs=typeof L.attrs=="object"?L.attrs:{},L.singleton||typeof L.singleton=="boolean"||(L.singleton=h()),L.insertInto||(L.insertInto="head"),L.insertAt||(L.insertAt="bottom");var H=v(T,L);return g(H,L),function(P){for(var B=[],V=0;V<H.length;V++){var Z=H[V];(K=d[Z.id]).refs--,B.push(K)}for(P&&g(v(P,L),L),V=0;V<B.length;V++){var K;if((K=B[V]).refs===0){for(var ut=0;ut<K.parts.length;ut++)K.parts[ut]();delete d[K.id]}}}};var k,x=(k=[],function(T,L){return k[T]=L,k.filter(Boolean).join(`
`)});function I(T,L,H,P){var B=H?"":P.css;if(T.styleSheet)T.styleSheet.cssText=x(L,B);else{var V=document.createTextNode(B),Z=T.childNodes;Z[L]&&T.removeChild(Z[L]),Z.length?T.insertBefore(V,Z[L]):T.appendChild(V)}}function C(T,L){var H=L.css,P=L.media;if(P&&T.setAttribute("media",P),T.styleSheet)T.styleSheet.cssText=H;else{for(;T.firstChild;)T.removeChild(T.firstChild);T.appendChild(document.createTextNode(H))}}function M(T,L,H){var P=H.css,B=H.sourceMap,V=L.convertToAbsoluteUrls===void 0&&B;(L.convertToAbsoluteUrls||V)&&(P=p(P)),B&&(P+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(B))))+" */");var Z=new Blob([P],{type:"text/css"}),K=T.href;T.href=URL.createObjectURL(Z),K&&URL.revokeObjectURL(K)}},947:s=>{s.exports=function(a){var l=typeof window<"u"&&window.location;if(!l)throw new Error("fixUrls requires window.location");if(!a||typeof a!="string")return a;var c=l.protocol+"//"+l.host,u=c+l.pathname.replace(/\/[^\/]*$/,"/");return a.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(d,h){var f,m=h.trim().replace(/^"(.*)"$/,function(b,S){return S}).replace(/^'(.*)'$/,function(b,S){return S});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(m)?d:(f=m.indexOf("//")===0?m:m.indexOf("/")===0?c+m:u+m.replace(/^\.\//,""),"url("+JSON.stringify(f)+")")})}}},r={};function i(s){var a=r[s];if(a!==void 0)return a.exports;var l=r[s]={id:s,exports:{}};return n[s](l,l.exports,i),l.exports}i.n=s=>{var a=s&&s.__esModule?()=>s.default:()=>s;return i.d(a,{a}),a},i.d=(s,a)=>{for(var l in a)i.o(a,l)&&!i.o(s,l)&&Object.defineProperty(s,l,{enumerable:!0,get:a[l]})},i.o=(s,a)=>Object.prototype.hasOwnProperty.call(s,a),i.r=s=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})};var o={};return(()=>{function s(l,c){for(var u=0;u<c.length;u++){var d=c[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}i.d(o,{default:()=>a}),i(406);var a=function(){function l(h,f){var m=h.configuration,b=h.blocks,S=h.toolbar,w=h.save;(function(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")})(this,l),this.toolbar=S,this.borderStyle=f||"1px dashed #aaa",this.api=b,this.holder=typeof m.holder=="string"?document.getElementById(m.holder):m.holder,this.readOnly=m.readOnly,this.startBlock=null,this.endBlock=null,this.save=w,this.setDragListener(),this.setDropListener()}var c,u,d;return c=l,d=[{key:"isReadOnlySupported",get:function(){return!0}}],(u=[{key:"setElementCursor",value:function(h){if(h){var f=document.createRange(),m=window.getSelection();f.setStart(h.childNodes[0],0),f.collapse(!0),m.removeAllRanges(),m.addRange(f),h.focus()}}},{key:"setDragListener",value:function(){var h=this;if(!this.readOnly){var f=this.holder.querySelector(".ce-toolbar__settings-btn");f.setAttribute("draggable","true"),f.addEventListener("dragstart",function(){h.startBlock=h.api.getCurrentBlockIndex()}),f.addEventListener("drag",function(){if(h.toolbar.close(),!h.isTheOnlyBlock()){var m=h.holder.querySelectorAll(".ce-block"),b=h.holder.querySelector(".ce-block--drop-target");h.setElementCursor(b),h.setBorderBlocks(m,b)}})}}},{key:"setBorderBlocks",value:function(h,f){var m=this;Object.values(h).forEach(function(b){var S=b.querySelector(".ce-block__content");b!==f?(S.style.removeProperty("border-top"),S.style.removeProperty("border-bottom")):Object.keys(h).find(function(w){return h[w]===f})>m.startBlock?S.style.borderBottom=m.borderStyle||borderStyle:S.style.borderTop=m.borderStyle})}},{key:"setDropListener",value:function(){var h=this;document.addEventListener("drop",function(f){var m=f.target;if(h.holder.contains(m)&&h.startBlock!==null){var b=h.getDropTarget(m);if(b){var S=b.querySelector(".ce-block__content");S.style.removeProperty("border-top"),S.style.removeProperty("border-bottom"),h.endBlock=h.getTargetPosition(b),h.moveBlocks()}}h.startBlock=null})}},{key:"getDropTarget",value:function(h){return h.classList.contains("ce-block")?h:h.closest(".ce-block")}},{key:"getTargetPosition",value:function(h){return Array.from(h.parentNode.children).indexOf(h)}},{key:"isTheOnlyBlock",value:function(){return this.api.getBlocksCount()===1}},{key:"moveBlocks",value:function(){this.isTheOnlyBlock()||this.api.move(this.endBlock,this.startBlock)}}])&&s(c.prototype,u),d&&s(c,d),Object.defineProperty(c,"prototype",{writable:!1}),l}()})(),o.default})()})})(UT);var Z9=UT.exports;const e$=Zr(Z9);var jT={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(self,function(){return(()=>{var n={d:(l,c)=>{for(var u in c)n.o(c,u)&&!n.o(l,u)&&Object.defineProperty(l,u,{enumerable:!0,get:c[u]})},o:(l,c)=>Object.prototype.hasOwnProperty.call(l,c)},r={};function i(l,c){for(var u=0;u<c.length;u++){var d=c[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}n.d(r,{default:()=>a});var o=function(){function l(d,h){(function(f,m){if(!(f instanceof m))throw new TypeError("Cannot call a class as a function")})(this,l),this.holder=h,this.observer=null,this.debounceTimer=200,this.mutationDebouncer=this.debounce(function(){d()},this.debounceTimer)}var c,u;return c=l,u=[{key:"setMutationObserver",value:function(){var d=this,h=this.holder;this.observer=new MutationObserver(function(f){d.mutationHandler(f)}),this.observer.observe(h,{childList:!0,attributes:!0,subtree:!0,characterData:!0,characterDataOldValue:!0})}},{key:"mutationHandler",value:function(d){var h=this,f=!1;d.forEach(function(m){switch(m.type){case"childList":m.target===h.holder?h.onDestroy():f=!0;break;case"characterData":f=!0;break;case"attributes":m.target.classList.contains("ce-block")||(f=!0)}}),f&&this.mutationDebouncer()}},{key:"debounce",value:function(d,h){var f,m=this;return function(){for(var b=arguments.length,S=new Array(b),w=0;w<b;w++)S[w]=arguments[w];var p=m;clearTimeout(f),f=setTimeout(function(){return d.apply(p,S)},h)}}},{key:"onDestroy",value:function(){var d=new CustomEvent("destroy");document.dispatchEvent(d),this.observer.disconnect()}}],u&&i(c.prototype,u),l}();function s(l,c){for(var u=0;u<c.length;u++){var d=c[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}var a=function(){function l(h){var f=this,m=h.editor,b=h.config,S=b===void 0?{}:b,w=h.onUpdate,p=h.maxLength;(function(y,k){if(!(y instanceof k))throw new TypeError("Cannot call a class as a function")})(this,l);var g={maxLength:30,onUpdate:function(){},config:{shortcuts:{undo:"CMD+Z",redo:"CMD+Y"}}},v=m.configuration,E=v.holder,A=g.config.shortcuts,R=S.shortcuts,_=R===void 0?A:R;this.holder=typeof E=="string"?document.getElementById(E):E,this.editor=m,this.shouldSaveHistory=!0,this.readOnly=v.readOnly,this.maxLength=p||g.maxLength,this.onUpdate=w||g.onUpdate,this.config={shortcuts:_},new o(function(){return f.registerChange()},this.holder).setMutationObserver(),this.setEventListeners(),this.initialItem=null,this.clear()}var c,u,d;return c=l,d=[{key:"isReadOnlySupported",get:function(){return!0}}],(u=[{key:"truncate",value:function(h,f){for(;h.length>f;)h.shift()}},{key:"initialize",value:function(h){var f="blocks"in h?h.blocks:h,m={index:f.length-1,state:f};this.stack[0]=m,this.initialItem=m}},{key:"clear",value:function(){this.stack=this.initialItem?[this.initialItem]:[{index:0,state:[{type:"paragraph",data:{text:""}}]}],this.position=0,this.onUpdate()}},{key:"registerChange",value:function(){var h=this;this.readOnly||(this.editor&&this.editor.save&&this.shouldSaveHistory&&this.editor.save().then(function(f){h.editorDidUpdate(f.blocks)&&h.save(f.blocks)}),this.shouldSaveHistory=!0)}},{key:"editorDidUpdate",value:function(h){var f=this.stack[this.position].state;return!!h.length&&(h.length!==f.length||JSON.stringify(f)!==JSON.stringify(h))}},{key:"save",value:function(h){this.position>=this.maxLength&&this.truncate(this.stack,this.maxLength),this.position=Math.min(this.position,this.stack.length-1),this.stack=this.stack.slice(0,this.position+1);var f=this.editor.blocks.getCurrentBlockIndex();this.stack.push({index:f,state:h}),this.position+=1,this.onUpdate()}},{key:"undo",value:function(){var h=this;if(this.canUndo()){this.shouldSaveHistory=!1;var f=this.stack[this.position-=1],m=f.index,b=f.state;this.onUpdate(),this.editor.blocks.render({blocks:b}).then(function(){return h.editor.caret.setToBlock(m,"end")})}}},{key:"redo",value:function(){var h=this;if(this.canRedo()){this.shouldSaveHistory=!1;var f=this.stack[this.position+=1],m=f.index,b=f.state;this.onUpdate(),this.editor.blocks.render({blocks:b}).then(function(){return h.editor.caret.setToBlock(m,"end")})}}},{key:"canUndo",value:function(){return!this.readOnly&&this.position>0}},{key:"canRedo",value:function(){return!this.readOnly&&this.position<this.count()}},{key:"count",value:function(){return this.stack.length-1}},{key:"parseKeys",value:function(h){var f={CMD:/(Mac)/i.test(navigator.platform)?"metaKey":"ctrlKey",ALT:"altKey",SHIFT:"shiftKey"},m=h.slice(0,-1).map(function(S){return f[S]}),b=m.includes("shiftKey")?h[h.length-1].toUpperCase():h[h.length-1].toLowerCase();return m.push(b),m}},{key:"setEventListeners",value:function(){var h=this,f=this.holder,m=this.config.shortcuts,b=m.undo,S=m.redo,w=b.replace(/ /g,"").split("+"),p=S.replace(/ /g,"").split("+"),g=this.parseKeys(w),v=this.parseKeys(p),E=function(_,y){return!(y.length!==2||!_[y[0]]||_.key!==y[1])||!(y.length!==3||!_[y[0]]||!_[y[1]]||_.key!==y[2])},A=function(_){E(_,g)&&(_.preventDefault(),h.undo())},R=function(_){E(_,v)&&(_.preventDefault(),h.redo())};f.addEventListener("keydown",A),f.addEventListener("keydown",R),f.addEventListener("destroy",function(){f.removeEventListener("keydown",A),f.removeEventListener("keydown",R)})}}])&&s(c.prototype,u),d&&s(c,d),l}();return r.default})()})})(jT);var t$=jT.exports;const n$=Zr(t$),r$={header:F9,list:I9,embed:T9,code:R9,checklist:Y9,quote:$9,marker:j9,delimiter:q9,inlineCode:Q9,telegramPost:J9},Kf="/assets/OLD-f6cf87af.ttf",Qf="/assets/georgia-a7cd4098.ttf",i$=`
@import url('https://fonts.googleapis.com/css2?family=Inter&family=JetBrains+Mono:wght@400;700&display=swap');

@font-face {
  font-family: 'old-english-text-mt-regular';
  src: url("${Kf}") format("woff"),
    url("${Kf}") format("opentype"),
    url("${Kf}") format("truetype");
}

@font-face {
  font-family: 'Georgia';
  src: url("${Qf}") format("woff"),
    url("${Qf}") format("opentype"),
    url("${Qf}") format("truetype");
}
`,zT=`
h1 {
  display: block;
  font-weight: bold;
  font-size: 46px;
  margin-top: 30px
}
h2 {
  display: block;
  font-weight: bold;
  font-size: 40px;
  margin-top: 30px
}
h3 {
  display: block;
  font-weight: bold;
  font-size: 34px;
  margin-top: 30px
}
h4 {
  display: block;
  font-weight: bold;
  font-size: 28px;
  margin-top: 30px
}
h5 {
  display: block;
  font-weight: bold;
  font-size: 22px;
  margin-top: 30px
}
h6 {
  display: block;
  font-weight: bold;
  font-size: 16px;
  margin-top: 30px
}
pre {
  display: block;
  margin-block-start: 1em;
  margin-block-end: 1em;
  font-family: monospace;
  white-space: pre;
}
code {
  display: inline-block;
  font-family: monospace;
}
 ul,  ol {
  display: block;
  margin-block-start: 1em;
  margin-block-end: 1em;
  padding-inline-start: 40px;
  list-style-type: disc;
}
ol {
  list-style-type: decimal;
}

blockquote {
  display: block;
  margin-block-start: 1em;
  margin-block-end: 1em;
  margin-inline-start: 40px;
  margin-inline-end: 40px;
  padding: 10px 20px;
  border-radius: 10px
}
table {
  display: inline-block;
  box-sizing: border-box;
  border-spacing: 2px;
  border-collapse: separate;
  text-indent: initial;
  border: 3px solid white;
  margin : 10px 0;
}
tbody {
  border: 1px solid white;
}
tr {
  //padding: 5px;
  display: block;
  border-bottom: 1px solid white ;

}
th, td {
  min-width: 100px;
  // display: block;
  padding: 5px;
  border-right: 1px solid white;
}
hr {
    display: block;
    color: gray;
    border-style: inset;
    border-width: 1px;
    margin-block-start: 0.5em;
    margin-block-end: 0.5em;
    margin-inline-start: auto;
    margin-inline-end: auto;
    margin: 20px 0;
    overflow: hidden;
}
`,HT=({ReadOnly:t,content:e,defaultValue:n,handleReady:r,handleInitialize:i,onChange:o})=>{const s=E9();return U.jsxs(U.Fragment,{children:[U.jsx(s,{holder:"editorjs",minHeight:200,readOnly:t,tools:r$,placeholder:"Yozing...",onChange:o,onReady:r,onInitialize:i,defaultValue:n||e}),U.jsx("style",{children:zT})]})},o$="_PostPage_bcaq7_1",s$="_Title_bcaq7_4",a$="_Description_bcaq7_7",l$="_Published_Date_bcaq7_10",c$="_Cover_Img_bcaq7_13",Ma={PostPage:o$,Title:s$,Description:a$,Published_Date:l$,Cover_Img:c$},u$=()=>{const{id:t}=HA(),[e,n]=F.useState();return F.useEffect(()=>{(async()=>{try{n(await rN(t))}catch(i){console.error(i)}})()},[]),e?U.jsxs(ay,{className:Ma.PostPage,children:[U.jsx("h1",{className:Ma.Title,children:e.title}),U.jsx("h6",{className:Ma.Description,children:e.description}),U.jsx("p",{className:Ma.Published_Date,children:G(e.published_date).format("MMMM Do YYYY, h:mm:ss a")}),U.jsx("img",{className:Ma.Cover_Img,src:e.cover_img.url,alt:e.title}),U.jsx(HT,{content:e.content,ReadOnly:!0}),U.jsx("style",{children:zT})]}):U.jsx(uy,{status:e})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT="firebasestorage.googleapis.com",YT="storageBucket",d$=2*60*1e3,h$=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt extends Do{constructor(e,n,r=0){super(Xf(e),`Firebase Storage: ${n} (${Xf(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,rt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Xf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var nt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(nt||(nt={}));function Xf(t){return"storage/"+t}function xy(){const t="An unknown error occurred, please check the error payload for server response.";return new rt(nt.UNKNOWN,t)}function f$(t){return new rt(nt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function p$(t){return new rt(nt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function m$(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new rt(nt.UNAUTHENTICATED,t)}function g$(){return new rt(nt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function v$(t){return new rt(nt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function y$(){return new rt(nt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function w$(){return new rt(nt.CANCELED,"User canceled the upload/download.")}function _$(t){return new rt(nt.INVALID_URL,"Invalid URL '"+t+"'.")}function b$(t){return new rt(nt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function k$(){return new rt(nt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+YT+"' property when initializing the app?")}function E$(){return new rt(nt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function x$(){return new rt(nt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function S$(t){return new rt(nt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Ym(t){return new rt(nt.INVALID_ARGUMENT,t)}function GT(){return new rt(nt.APP_DELETED,"The Firebase app was deleted.")}function T$(t){return new rt(nt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function hl(t,e){return new rt(nt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Oa(t){throw new rt(nt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=yn.makeFromUrl(e,n)}catch{return new yn(e,"")}if(r.path==="")return r;throw b$(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(v){v.path.charAt(v.path.length-1)==="/"&&(v.path_=v.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function c(v){v.path_=decodeURIComponent(v.path)}const u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",f=new RegExp(`^https?://${d}/${u}/b/${i}/o${h}`,"i"),m={bucket:1,path:3},b=n===WT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",w=new RegExp(`^https?://${b}/${i}/${S}`,"i"),g=[{regex:a,indices:l,postModify:o},{regex:f,indices:m,postModify:c},{regex:w,indices:{bucket:1,path:2},postModify:c}];for(let v=0;v<g.length;v++){const E=g[v],A=E.regex.exec(e);if(A){const R=A[E.indices.bucket];let _=A[E.indices.path];_||(_=""),r=new yn(R,_),E.postModify(r);break}}if(r==null)throw _$(e);return r}}class C${constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I$(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let c=!1;function u(...S){c||(c=!0,e.apply(null,S))}function d(S){i=setTimeout(()=>{i=null,t(f,l())},S)}function h(){o&&clearTimeout(o)}function f(S,...w){if(c){h();return}if(S){h(),u.call(null,S,...w);return}if(l()||s){h(),u.call(null,S,...w);return}r<64&&(r*=2);let g;a===1?(a=2,g=0):g=(r+Math.random())*1e3,d(g)}let m=!1;function b(S){m||(m=!0,h(),!c&&(i!==null?(S||(a=2),clearTimeout(i),d(0)):S||(a=1)))}return d(0),o=setTimeout(()=>{s=!0,b(!0)},n),b}function A$(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R$(t){return t!==void 0}function P$(t){return typeof t=="object"&&!Array.isArray(t)}function Sy(t){return typeof t=="string"||t instanceof String}function D1(t){return Ty()&&t instanceof Blob}function Ty(){return typeof Blob<"u"&&!PR()}function N1(t,e,n,r){if(r<e)throw Ym(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Ym(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function qT(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(yo||(yo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M$(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O${constructor(e,n,r,i,o,s,a,l,c,u,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,m)=>{this.resolve_=f,this.reject_=m,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new iu(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===yo.NO_ERROR,l=o.getStatus();if(!a||M$(l,this.additionalRetryCodes_)&&this.retry){const u=o.getErrorCode()===yo.ABORT;r(!1,new iu(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new iu(c,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());R$(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=xy();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){const l=this.appDelete_?GT():w$();s(l)}else{const l=y$();s(l)}};this.canceled_?n(!1,new iu(!1,null,!0)):this.backoffId_=I$(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&A$(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class iu{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function L$(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function D$(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function N$(t,e){e&&(t["X-Firebase-GMPID"]=e)}function B$(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function F$(t,e,n,r,i,o,s=!0){const a=qT(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return N$(c,e),L$(c,n),D$(c,o),B$(c,r),new O$(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V$(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function $$(...t){const e=V$();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Ty())return new Blob(t);throw new rt(nt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function U$(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j$(t){if(typeof atob>"u")throw S$("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Jf{constructor(e,n){this.data=e,this.contentType=n||null}}function KT(t,e){switch(t){case Kn.RAW:return new Jf(QT(e));case Kn.BASE64:case Kn.BASE64URL:return new Jf(XT(t,e));case Kn.DATA_URL:return new Jf(H$(e),W$(e))}throw xy()}function QT(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function z$(t){let e;try{e=decodeURIComponent(t)}catch{throw hl(Kn.DATA_URL,"Malformed data URL.")}return QT(e)}function XT(t,e){switch(t){case Kn.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw hl(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Kn.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw hl(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=j$(e)}catch(i){throw i.message.includes("polyfill")?i:hl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class JT{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw hl(Kn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Y$(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function H$(t){const e=new JT(t);return e.base64?XT(Kn.BASE64,e.rest):z$(e.rest)}function W$(t){return new JT(t).contentType}function Y$(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,n){let r=0,i="";D1(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(D1(this.data_)){const r=this.data_,i=U$(r,e,n);return i===null?null:new mi(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new mi(r,!0)}}static getBlob(...e){if(Ty()){const n=e.map(r=>r instanceof mi?r.data_:r);return new mi($$.apply(null,n))}else{const n=e.map(s=>Sy(s)?KT(Kn.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new mi(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(t){let e;try{e=JSON.parse(t)}catch{return null}return P$(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G$(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function q$(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function eC(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K$(t,e){return e}class Jt{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||K$}}let ou=null;function Q$(t){return!Sy(t)||t.length<2?t:eC(t)}function tC(){if(ou)return ou;const t=[];t.push(new Jt("bucket")),t.push(new Jt("generation")),t.push(new Jt("metageneration")),t.push(new Jt("name","fullPath",!0));function e(o,s){return Q$(s)}const n=new Jt("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new Jt("size");return i.xform=r,t.push(i),t.push(new Jt("timeCreated")),t.push(new Jt("updated")),t.push(new Jt("md5Hash",null,!0)),t.push(new Jt("cacheControl",null,!0)),t.push(new Jt("contentDisposition",null,!0)),t.push(new Jt("contentEncoding",null,!0)),t.push(new Jt("contentLanguage",null,!0)),t.push(new Jt("contentType",null,!0)),t.push(new Jt("metadata","customMetadata",!0)),ou=t,ou}function X$(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new yn(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function J$(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return X$(r,t),r}function nC(t,e,n){const r=ZT(e);return r===null?null:J$(t,r,n)}function Z$(t,e,n,r){const i=ZT(e);if(i===null||!Sy(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(c=>{const u=t.bucket,d=t.fullPath,h="/b/"+s(u)+"/o/"+s(d),f=Cy(h,n,r),m=qT({alt:"media",token:c});return f+m})[0]}function eU(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class rC{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(t){if(!t)throw xy()}function tU(t,e){function n(r,i){const o=nC(t,i,e);return iC(o!==null),o}return n}function nU(t,e){function n(r,i){const o=nC(t,i,e);return iC(o!==null),Z$(o,i,t.host,t._protocol)}return n}function oC(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=g$():i=m$():n.getStatus()===402?i=p$(t.bucket):n.getStatus()===403?i=v$(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function rU(t){const e=oC(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=f$(t.path)),o.serverResponse=i.serverResponse,o}return n}function iU(t,e,n){const r=e.fullServerUrl(),i=Cy(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new rC(i,o,nU(t,n),s);return a.errorHandler=rU(e),a}function oU(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function sU(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=oU(null,e)),r}function aU(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let g="";for(let v=0;v<2;v++)g=g+Math.random().toString().slice(2);return g}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const c=sU(e,r,i),u=eU(c,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,h=`\r
--`+l+"--",f=mi.getBlob(d,r,h);if(f===null)throw E$();const m={name:c.fullPath},b=Cy(o,t.host,t._protocol),S="POST",w=t.maxUploadRetryTime,p=new rC(b,S,tU(t,n),w);return p.urlParams=m,p.headers=s,p.body=f.uploadData(),p.errorHandler=oC(e),p}class lU{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=yo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=yo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=yo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Oa("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Oa("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Oa("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Oa("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Oa("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class cU extends lU{initXhr(){this.xhr_.responseType="text"}}function sC(){return new cU}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,n){this._service=e,n instanceof yn?this._location=n:this._location=yn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Mo(e,n)}get root(){const e=new yn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return eC(this._location.path)}get storage(){return this._service}get parent(){const e=G$(this._location.path);if(e===null)return null;const n=new yn(this._location.bucket,e);return new Mo(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw T$(e)}}function uU(t,e,n){t._throwIfRoot("uploadBytes");const r=aU(t.storage,t._location,tC(),new mi(e,!0),n);return t.storage.makeRequestWithTokens(r,sC).then(i=>({metadata:i,ref:t}))}function dU(t,e,n=Kn.RAW,r){t._throwIfRoot("uploadString");const i=KT(n,e),o=Object.assign({},r);return o.contentType==null&&i.contentType!=null&&(o.contentType=i.contentType),uU(t,i.data,o)}function hU(t){t._throwIfRoot("getDownloadURL");const e=iU(t.storage,t._location,tC());return t.storage.makeRequestWithTokens(e,sC).then(n=>{if(n===null)throw x$();return n})}function fU(t,e){const n=q$(t._location.path,e),r=new yn(t._location.bucket,n);return new Mo(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pU(t){return/^[A-Za-z]+:\/\//.test(t)}function mU(t,e){return new Mo(t,e)}function aC(t,e){if(t instanceof Iy){const n=t;if(n._bucket==null)throw k$();const r=new Mo(n,n._bucket);return e!=null?aC(r,e):r}else return e!==void 0?fU(t,e):t}function gU(t,e){if(e&&pU(e)){if(t instanceof Iy)return mU(t,e);throw Ym("To use ref(service, url), the first argument must be a Storage instance.")}else return aC(t,e)}function B1(t,e){const n=e==null?void 0:e[YT];return n==null?null:yn.makeFromBucketSpec(n,t)}function vU(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:_k(i,t.app.options.projectId))}class Iy{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=WT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=d$,this._maxUploadRetryTime=h$,this._requests=new Set,i!=null?this._bucket=yn.makeFromBucketSpec(i,this._host):this._bucket=B1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=yn.makeFromBucketSpec(this._url,e):this._bucket=B1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){N1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){N1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Mo(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new C$(GT());{const s=F$(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const F1="@firebase/storage",V1="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC="storage";function yU(t,e,n,r){return t=Gr(t),dU(t,e,n,r)}function wU(t){return t=Gr(t),hU(t)}function _U(t,e){return t=Gr(t),gU(t,e)}function bU(t=Ik(),e){t=Gr(t);const r=Sk(t,lC).getImmediate({identifier:e}),i=yk("storage");return i&&kU(r,...i),r}function kU(t,e,n,r={}){vU(t,e,n,r)}function EU(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Iy(n,r,i,e,Tk)}function xU(){Ml(new Os(lC,EU,"PUBLIC").setMultipleInstances(!0)),Mi(F1,V1,""),Mi(F1,V1,"esm2017")}xU();const SU=async t=>{const e=bU(),n=_U(e,`post_covers/${t.name}`),r={name:null,url:null};return await yU(n,t.content,"data_url"),await wU(n).then(i=>{r.url=i,r.name=t.name}),r},TU="_GeneralForm_1xiq0_1",CU="_Input_1xiq0_1",IU="_Cover_img_1xiq0_4",AU="_Img_1xiq0_7",RU="_Cover_img_Input_1xiq0_10",PU="_Title_1xiq0_13",MU="_Description_1xiq0_16",li={GeneralForm:TU,Input:CU,Cover_img:IU,Img:AU,Cover_img_Input:RU,Title:PU,Description:MU},OU="/assets/plus-solid-398d1185.svg",LU=({handleOnChange:t,dataFromEditor:e,dataImage:n,handleFileUpload:r})=>U.jsxs("section",{className:li.GeneralForm,children:[U.jsxs("label",{htmlFor:"cover_img",className:li.Cover_img,children:[U.jsx("img",{className:li.Img,src:n.content?n.content:OU,alt:""}),U.jsx("p",{children:n.name?n.name:"Upload a cover image. Image must be less than 3mb and in format horizontal format 16:9"}),U.jsx("input",{className:li.Cover_img_Input,type:"file",name:"cover_img",required:!0,placeholder:"Cover_img",onChange:i=>r(i.target.files[0])})]}),U.jsx("input",{className:`${li.Input} ${li.Title}`,type:"text",name:"title",placeholder:"Title",required:!0,value:e.title,onChange:i=>t("title",i.target.value)}),U.jsx("textarea",{className:`${li.Input} ${li.Description}`,type:"text",name:"description",placeholder:"Description",required:!0,value:e.description,onChange:i=>t("description",i.target.value)})]}),DU="_Create_s6k60_1",NU="_Layer_s6k60_8",BU="_Is_Event_s6k60_11",FU="_Question_s6k60_14",VU="_Is_EventCheckbox_s6k60_17",$U="_Event_Time_s6k60_20",UU="_Content_s6k60_23",jU="_Actions_s6k60_27",zU="_Btn_s6k60_30",HU="_ActiveBtn_s6k60_33",sr={Create:DU,Layer:NU,Is_Event:BU,Question:FU,Is_EventCheckbox:VU,Event_Time:$U,Content:UU,Actions:jU,Btn:zU,ActiveBtn:HU},WU=()=>{const t=JSON.parse(localStorage.getItem("draft"));localStorage.setItem("draft",JSON.stringify({cover_img:{name:"",url:""},title:"",description:"",content:"",is_event:!1,event_time:""}));const[e,n]=F.useState(!1),[r,i]=F.useState({...t}),[o,s]=F.useState(t.content||"");F.useEffect(()=>{window.onbeforeunload=()=>confirm,localStorage.setItem("draft",JSON.stringify({...r,content:o}))},[o,r,t]);const a=F.useRef(),l=F.useCallback(b=>{a.current=b},[]),c=()=>{const b=a.current._editorJS;new n$({editor:b}),new e$(b)},u=async()=>{const b=await a.current.save();s(b)},d=F.useCallback((b,S)=>{i({...r,[b]:S})},[r]),h=b=>{const S=new FileReader,w=()=>{i({...r,cover_img:{name:b.name,content:S.result}})};S.onload=w,S.readAsDataURL(b)},f=async()=>{try{n(!0);const b=await SU(r.cover_img),S=JSON.parse(localStorage.getItem("draft"));await iN({...S,cover_img:{name:b.name,url:b.url},published_date:new Date(Date.now()).toISOString()}),localStorage.removeItem("draft"),n(!1)}catch(b){console.error(b)}},m=()=>{localStorage.removeItem("draft"),i({cover_img:{name:"",url:""},title:"",description:"",content:"",is_event:!1,event_time:""}),s(r.content),location.reload()};return e?U.jsx(uy,{}):U.jsx(ay,{className:sr.Create,children:U.jsxs("div",{className:sr.Layer,children:[U.jsx(LU,{dataFromEditor:r,handleOnChange:d,handleSave:f,handleFileUpload:h,dataImage:r.cover_img}),U.jsxs("div",{className:sr.Is_Event,children:[U.jsxs("p",{children:[" Этот пост объявление какого-то ивента ?",U.jsx("br",{}),U.jsx("sup",{children:U.jsx("i",{children:"Если да, поставьте checked и укажите дату ивента"})})]}),U.jsxs("div",{className:sr.Question,children:[U.jsx("input",{className:`${sr.Is_EventCheckbox}`,type:"checkbox",name:"is_event",id:"is_event",checked:r.is_event,onChange:b=>d("is_event",b.target.checked)}),r.is_event?U.jsx("input",{type:"datetime-local",className:sr.Event_Time,value:r.event_time,onChange:b=>d("event_time",b.target.value)}):null]})]}),U.jsxs("div",{className:sr.Content,children:[U.jsx("i",{children:"Редактор всё ещё в тестовом режиме...  "}),U.jsx(HT,{onChange:u,handleInitialize:l,handleReady:c,onref:a,content:r.content})]}),U.jsxs("div",{className:sr.Actions,children:[U.jsx("button",{onClick:m,className:sr.Btn,children:"Clear Draft"}),U.jsx("button",{onClick:f,className:sr.ActiveBtn,children:"Save"})]})]})})},YU=lR([{path:"/",element:U.jsx(bF,{}),index:!0},{path:"/create",element:U.jsx(WU,{})},{path:"/posts/:id",element:U.jsx(u$,{})}]);function GU(){return U.jsxs("main",{className:"App",children:[U.jsx(gR,{router:YU}),U.jsx("style",{children:i$})]})}Zf.createRoot(document.getElementById("root")).render(U.jsx(GU,{}))});export default qU();
